<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Pythonic Excursions - Oil and Gas</title><link href="https://aegis4048.github.io/" rel="alternate"></link><link href="https://aegis4048.github.io/feeds/oil-and-gas.atom.xml" rel="self"></link><id>https://aegis4048.github.io/</id><updated>2025-02-25T00:00:00-08:00</updated><subtitle>Stories about Python and Data Science</subtitle><entry><title>Predicting VRU Economics For Declining Wells</title><link href="https://aegis4048.github.io/predicting_vru_economics_for_declining_wells" rel="alternate"></link><published>2025-02-25T00:00:00-08:00</published><updated>2025-02-25T00:00:00-08:00</updated><author><name>ERIC KIM</name></author><id>tag:aegis4048.github.io,2025-02-25:/predicting_vru_economics_for_declining_wells</id><summary type="html">&lt;style type="text/css"&gt;/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI escape sequences */
/* The color values are a mix of
   http://www.xcolors.net/dl/baskerville-ivorylight and
   http://www.xcolors.net/dl/euphrasia */
.ansi-black-fg {
  color: #3E424D;
}
.ansi-black-bg {
  background-color: #3E424D;
}
.ansi-black-intense-fg {
  color: #282C36;
}
.ansi-black-intense-bg {
  background-color: #282C36;
}
.ansi-red-fg {
  color: #E75C58;
}
.ansi-red-bg {
  background-color: #E75C58;
}
.ansi-red-intense-fg {
  color …&lt;/style&gt;</summary><content type="html">&lt;style type="text/css"&gt;/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI escape sequences */
/* The color values are a mix of
   http://www.xcolors.net/dl/baskerville-ivorylight and
   http://www.xcolors.net/dl/euphrasia */
.ansi-black-fg {
  color: #3E424D;
}
.ansi-black-bg {
  background-color: #3E424D;
}
.ansi-black-intense-fg {
  color: #282C36;
}
.ansi-black-intense-bg {
  background-color: #282C36;
}
.ansi-red-fg {
  color: #E75C58;
}
.ansi-red-bg {
  background-color: #E75C58;
}
.ansi-red-intense-fg {
  color: #B22B31;
}
.ansi-red-intense-bg {
  background-color: #B22B31;
}
.ansi-green-fg {
  color: #00A250;
}
.ansi-green-bg {
  background-color: #00A250;
}
.ansi-green-intense-fg {
  color: #007427;
}
.ansi-green-intense-bg {
  background-color: #007427;
}
.ansi-yellow-fg {
  color: #DDB62B;
}
.ansi-yellow-bg {
  background-color: #DDB62B;
}
.ansi-yellow-intense-fg {
  color: #B27D12;
}
.ansi-yellow-intense-bg {
  background-color: #B27D12;
}
.ansi-blue-fg {
  color: #208FFB;
}
.ansi-blue-bg {
  background-color: #208FFB;
}
.ansi-blue-intense-fg {
  color: #0065CA;
}
.ansi-blue-intense-bg {
  background-color: #0065CA;
}
.ansi-magenta-fg {
  color: #D160C4;
}
.ansi-magenta-bg {
  background-color: #D160C4;
}
.ansi-magenta-intense-fg {
  color: #A03196;
}
.ansi-magenta-intense-bg {
  background-color: #A03196;
}
.ansi-cyan-fg {
  color: #60C6C8;
}
.ansi-cyan-bg {
  background-color: #60C6C8;
}
.ansi-cyan-intense-fg {
  color: #258F8F;
}
.ansi-cyan-intense-bg {
  background-color: #258F8F;
}
.ansi-white-fg {
  color: #C5C1B4;
}
.ansi-white-bg {
  background-color: #C5C1B4;
}
.ansi-white-intense-fg {
  color: #A1A6B2;
}
.ansi-white-intense-bg {
  background-color: #A1A6B2;
}
.ansi-default-inverse-fg {
  color: #FFFFFF;
}
.ansi-default-inverse-bg {
  background-color: #000000;
}
.ansi-bold {
  font-weight: bold;
}
.ansi-underline {
  text-decoration: underline;
}
/* The following styles are deprecated an will be removed in a future version */
.ansibold {
  font-weight: bold;
}
.ansi-inverse {
  outline: 0.5px dotted;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  position: relative;
  overflow: visible;
}
div.cell:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: transparent;
}
div.cell.jupyter-soft-selected {
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected,
div.cell.selected.jupyter-soft-selected {
  border-color: #ababab;
}
div.cell.selected:before,
div.cell.selected.jupyter-soft-selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #42A5F5;
}
@media print {
  div.cell.selected,
  div.cell.selected.jupyter-soft-selected {
    border-color: transparent;
  }
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
}
.edit_mode div.cell.selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #66BB6A;
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell &gt; div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area &gt; div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area &gt; div.highlight &gt; pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the &lt;head&gt; if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  /* Note that this should set vertical padding only, since CodeMirror assumes
       that horizontal padding will be set on CodeMirror pre */
  padding: 0.4em 0;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. This sets horizontal padding only,
    use .CodeMirror-lines for vertical */
  padding: 0 0.4em;
  border: 0;
  border-radius: 0;
}
.CodeMirror-cursor {
  border-left: 1.4px solid black;
}
@media screen and (min-width: 2138px) and (max-width: 4319px) {
  .CodeMirror-cursor {
    border-left: 2px solid black;
  }
}
@media screen and (min-width: 4320px) {
  .CodeMirror-cursor {
    border-left: 4px solid black;
  }
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev &lt;Maniac@SoftwareManiacs.Org&gt;
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
div.output_area .mglyph &gt; img {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 1px 0 1px 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}
.rendered_html ul:not(.list-inline),
.rendered_html ol:not(.list-inline) {
  padding-left: 2em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}





.rendered_html pre,




.rendered_html tr,
.rendered_html th,


.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,


.rendered_html * + .alert {
  margin-top: 1em;
}
[dir="rtl"] 
div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell &gt; div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.rendered .rendered_html tr,
.text_cell.rendered .rendered_html th,
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.text_cell .dropzone .input_area {
  border: 2px dashed #bababa;
  margin: -1px;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
&lt;/style&gt;
&lt;style type="text/css"&gt;pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.highlight .hll { background-color: #ffffcc }
.highlight { background: #f8f8f8; }
.highlight .c { color: #3D7B7B; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #3D7B7B; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #3D7B7B; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #9C6500 } /* Comment.Preproc */
.highlight .cpf { color: #3D7B7B; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #3D7B7B; font-style: italic } /* Comment.Single */
.highlight .cs { color: #3D7B7B; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .ges { font-weight: bold; font-style: italic } /* Generic.EmphStrong */
.highlight .gr { color: #E40000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #008400 } /* Generic.Inserted */
.highlight .go { color: #717171 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #687822 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #717171; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #CB3F38; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #767600 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #AA5D1F; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #A45A77; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #A45A77 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */&lt;/style&gt;&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div id="introduction"&gt;&lt;/div&gt;&lt;p&gt;Many producers, when sizing vapor recovery units (VRUs) or signing long-term contracts for them, tend to overlook an important factor: the inevitable decline of flash gas rates over time. Flash gas rates at heater treaters (HT), vapor recovery towers (VRT), and tanks follow a similar decline pattern to well production, yet it's a common misconception that these rates will remain steady or only decrease marginally.&lt;/p&gt;
&lt;p&gt;Working at a compressor company, I’ve seen firsthand how producers expect flash gas rates to hold relatively flat or marginally decline; the flash gas rates go down much quicker than they think. While the oil decline rate plays the largest role in this reduction, many still fail to account for it when planning for long-term operations. It's not necessarily that they don't know about the decline, but rather that they simply forget to think about it. Downsizing is often not done in a timely manner because it’s overlooked, and as a result, VRUs quickly become oversized and uneconomical. It's also common to see a well experience more than a 50% drop in production within the first few months, making this issue even more critical.&lt;/p&gt;
&lt;p&gt;&lt;hr/&gt;
&lt;strong&gt;KEY DELIVERABLES OF THIS ARTICLE:&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlights mb-2 mt-2" id="key1"&gt;
&lt;div class="highlights-title"&gt;1. Process simulation results for predicting low-pressure flash gas rates at each monthly decline.&lt;/div&gt;
&lt;/div&gt;&lt;div class="highlights mb-2 mt-2" id="key2"&gt;
&lt;div class="highlights-title"&gt;2. Evidence demonstrating that flash gas rate declines are primarily driven by oil decline, with sales gas decline having a minor impact in comparison.&lt;/div&gt;
&lt;/div&gt;&lt;div class="highlights mb-2 mt-2" id="key3"&gt;
&lt;div class="highlights-title"&gt;3. An Excel sheet for calculating VRU economics alongside simulation results.&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div id="Clarifications-on-Terms"&gt;&lt;/div&gt;
&lt;div class="alert alert-info"&gt;
&lt;h4&gt;Notes: Clarifications on Terms&lt;/h4&gt;
&lt;p&gt;&lt;hr/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Low Pressure Vessels:&lt;/strong&gt; Refers to vessels such as low-pressure separators, heater treaters (HT), vapor recovery towers (VRT), or tanks. These vessels are downstream of the primary separator and operate at pressures lower than the sales line pressure.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Sales (Produced) Gas:&lt;/strong&gt; High-pressure gas from the primary separator that operates around the sales line pressure, typically lean gas with a BTU content of 1050-1600 Btu/scf.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Flash Gas:&lt;/strong&gt; Gas volumes coming from low-pressure vessels operating below sales line pressure. These gases are richer, typically ranging from 1400-3000 Btu/scf, and lack sufficient pressure to enter the sales line. Flash gas can either be flared or recovered by VRUs that compress the gas to above sales line pressure. Flash gas is often distinguished from sales gas. &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;VRU Flowrate:&lt;/strong&gt; For the purpose of this article, VRU flowrate is synonymous to flash gas.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;VRU:&lt;/strong&gt; Vapor Recovery Unit, VRU, is one application of a compressor. The compressor type can be rotary vane, rotary screw, or reciprocating.
&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="display-none" id="toc_container"&gt;
&lt;p class="toc_title"&gt;&lt;i class="fas fa-list"&gt;&lt;/i&gt;Contents&lt;/p&gt;
&lt;ul class="toc_list"&gt;
&lt;li&gt;&lt;a href="#introduction"&gt;&lt;span class="toc_label"&gt;0.&lt;/span&gt;
            Introduction&lt;/a&gt;&lt;/li&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#Clarifications-on-Terms"&gt;&lt;span class="toc_label"&gt;Notes:&lt;/span&gt;
                    Clarifications on Terms&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;li&gt;&lt;a href="#1.-Industry-Practices-for-VRU-Sizing"&gt;&lt;span class="toc_label"&gt;1.&lt;/span&gt;
            Industry Practices for VRU Sizing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#2.-Predicting-lash-gas-flowrates-with-process-simulations"&gt;&lt;span class="toc_label"&gt;2.&lt;/span&gt;
            Predicting lash gas flowrates with process simulations&lt;/a&gt;&lt;/li&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#2.1.-Site-(operational)-setups"&gt;&lt;span class="toc_label"&gt;2.1.&lt;/span&gt;
                    Site (operational) setups&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#2.2.-Simulation-scenarios"&gt;&lt;span class="toc_label"&gt;2.2.&lt;/span&gt;
                    Simulation scenarios&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;li&gt;&lt;a href="#3.-Simulation-results"&gt;&lt;span class="toc_label"&gt;3.&lt;/span&gt;
            Simulation results&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#4.-VRU-Economics"&gt;&lt;span class="toc_label"&gt;4.&lt;/span&gt;
            VRU Economics&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#5.-Conclusion/Summary"&gt;&lt;span class="toc_label"&gt;5.&lt;/span&gt;
            Conclusion/Summary&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="1.-Industry-Practices-for-VRU-Sizing"&gt;1. Industry Practices for VRU Sizing&lt;a class="anchor-link" href="#1.-Industry-Practices-for-VRU-Sizing"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;When a new facility is being built, engineers typically input the expected initial production (IP) flowrates into process simulation software to estimate the expected flash gas flowrates at low-pressure vessels. In the absence of process simulation software, many producers and vendors rely on ballpark estimates using flat scf/bbl numbers based on regional experience to predict flash gas volumes. While quick, this scf/bbl method doesn't account for the operating pressure of the vessels, leading to inaccuracies. These projected rates are then provided to VRU vendors, who size the equipment and provide quotes based on the high IP flowrates. Since these flowrates are often large, the VRU is sized to handle peak capacity, resulting in a costly investment. However, as the well declines, these high flowrates no longer match reality, and the oversized VRU quickly becomes uneconomical. Unfortunately, this issue is often realized too late, as VRUs are not always the primary concern for producers.&lt;/p&gt;
&lt;p&gt;Some keen producers who pay attention to VRUs predict monthly VRU flowrate declines using process simulations or by applying an oil decline curve to the IP flash gas rates. For example, if oil is expected to drop by 50% in the first 4 months and the IP flash gas rate is initially calculated to be 100 MCFD, the flash gas rate will decrease to around 50 MCFD in 4 months (It's important to note that downstream flash gas rates are not significantly impacted by sales gas decline. See section 3.1). The large and expensive compressor sized for peak initial flowrate will either be downsized or moved to a different location with similar production capacity to ensure its continued economic viability.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="2.-Predicting-lash-gas-flowrates-with-process-simulations"&gt;2. Predicting lash gas flowrates with process simulations&lt;a class="anchor-link" href="#2.-Predicting-lash-gas-flowrates-with-process-simulations"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The purpose of this section is to demonstrate that the declining flash gas rates at low-pressure vessels closely follow the oil decline curve and to highlight that gas decline has a minor impact compared to oil decline. BR&amp;E Promax software is used for the simulations.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="2.1.-Site-(operational)-setups"&gt;2.1. Site (operational) setups&lt;a class="anchor-link" href="#2.1.-Site-(operational)-setups"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;A generic upstream facility structure is used for simulations. Reservoir fluid flows up the production tubing to the wellhead, then to the first-stage 2-phase separator, followed by a second-stage 2-phase separator operating 5 psi lower than the first stage, a heater treater, VRT, and finally to atmospheric storage tanks. The purpose of the second-stage separator is to separate the liquids entrained in the gas stream from the first-stage separator. &lt;a class="internal-link" href="#fig-1"&gt;Figure 1&lt;/a&gt; shows the facility model created in Promax for IP flowrates. This model serves as the base, accepting monthly declining oil, gas, and water rates (&lt;a class="internal-link" href="#2.2.-Simulation-scenarios"&gt;Section 2.2&lt;/a&gt;) as inputs, and returning declining rates of downstream flash gases as outputs (&lt;a class="internal-link" href=""&gt;Table ???&lt;/a&gt;).&lt;/p&gt;
&lt;div class="row" id="fig-1"&gt; &lt;div class="col"&gt;&lt;img src="jupyter_images/VRU_economics_sim_setup.png"/&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 1:&lt;/strong&gt; Generic upstream facility modeling done in BR&amp;E Promax. IP rates of 9 MMSCFD (gas), 1800 BOPD (oil), and 3700 BWPD (water) are assumed. Numbers in the red boxes show produced and flash gas rates.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="ordered-list"&gt;
&lt;h2&gt;Assumptions&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Generic upstream oil and gas facility with wellhead.&lt;/li&gt;
&lt;li&gt;2 stage 2-phase separators operating at 140 and 135 psig.&lt;/li&gt;
&lt;li&gt;VRU discharge pressure set equal to 1st separator pressure: 140 psig.&lt;/li&gt;
&lt;li&gt;Details of VRU components (ex: cooler, knockout scrubbers) are omitted for simplicity.&lt;/li&gt;
&lt;li&gt;Wellhead temperature: 120°F.&lt;/li&gt;
&lt;li&gt;3-phase heater treater operating at 50 psig, 140°F.&lt;/li&gt;
&lt;li&gt;Atmospheric oil tank operating at 0.4 psig, 120°F&lt;/li&gt;
&lt;li&gt;48° API oil.&lt;/li&gt;
&lt;li&gt;Sales gas energy content: around 1420 Btu/scf&lt;/li&gt;
&lt;li&gt;Facility Initial production rates: 9 MMSCFD (gas), 1800 BOPD (oil), and 3700 BWPD (water).&lt;/li&gt;
&lt;li&gt;Future declining production rates are predicted by &lt;a class="internal-link" href="#fig-2"&gt;Figure 2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;BR&amp;E Promax solver is used to solve for flowrates at wellhead. Solver adjusts inlet (wellhead) flowrates to match production rates at measurement points (sales gas meter/LACT/trucking/etc) leaving the system.&lt;/li&gt;
&lt;li&gt;Realistic oil and gas compositions used.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="2.2.-Simulation-scenarios"&gt;2.2. Simulation scenarios&lt;a class="anchor-link" href="#2.2.-Simulation-scenarios"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;To observe the impact of well decline on downstream flash gas flowrates, decline curve analysis (DCA) parameters are set up to simulate declining oil, gas, and water flowrates. Oil and water decline rates (with water having no impact on flash gas volumes) are fixed to isolate the impact of gas declines. Three scenarios are considered: 1) gas declining faster than oil, 2) gas declining slower than oil, and 3) gas declining at the same rate as oil. The DCA parameters shown in &lt;a class="internal-link" href="#fig-2"&gt;Figure 2&lt;/a&gt; are used to create hypothetical declining well production rates, as shown in &lt;a class="internal-link" href="#fig-3"&gt;Figures 3, 4, and 5&lt;/a&gt;. These rates are then fed into the Promax model to predict flash gas rates at low-pressure vessels.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;hr/&gt;
&lt;div class="row" id="fig-2"&gt; &lt;div class="col"&gt;&lt;img src="jupyter_images/VRU_economics_DCA_scenarios.png"/&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 2:&lt;/strong&gt; DCA parameters used to simulate declining well flowrates. Oil and water decline rates are fixed to observe the sole impact of produced gas decline on flash gas declines. Note that the b-factor is set the same for both oil and gas in all scenarios for ease of decline curve comparisons.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="row" id="fig-3"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/VRU_economics_scenario_A.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 3:&lt;/strong&gt; Well decline curve prediction from the DCA parameters in scenario A of &lt;a class="internal-link" href="#fig-2"&gt;Figure 2&lt;/a&gt;.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="solution_panel closed" style="margin-top: -10px"&gt;
&lt;div class="solution_title"&gt;
&lt;p class="solution_title_string"&gt;Source Code For Figure (3)&lt;/p&gt;
&lt;ul class="nav navbar-right panel_toolbox"&gt;
&lt;li&gt;&lt;a class="collapse-link"&gt;&lt;i class="fa fa-chevron-down"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="clearfix"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="solution_content"&gt;
&lt;pre&gt;
            &lt;code class="language-python"&gt;
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt


def general_decline(t, qi, Di, b):
    """
    Arps' decline equation for production decline modeling.

    Args:
        t (array-like): Time values.
        qi (float): Initial production rate.
        Di (float): Initial decline rate.
        b (float): Decline exponent.

    Returns:
        array-like: Production rate at time t.
    """
    return qi * (1 + b * Di * t) ** (-1 / b)

params = {
    'Oil': {'qi': 1800, 'Di': 0.3, 'b': .7},
    'Gas': {'qi': 9000, 'Di': 0.5, 'b': 0.7},
    'Water': {'qi': 3700, 'Di': 0.5, 'b': 1}
}

x = np.arange(0, 61)
fits = {
    'Oil': [],
    'Gas': [],
    'Water': [],
}
for key in params.keys():
    target_params = list(params[key].values())
    fits[key] = general_decline(x, *target_params)
df = pd.DataFrame.from_dict(fits)
df['Count'] = x

fig, ax = plt.subplots(figsize=(8, 4.5))

oc = 'green'
gc = 'red'
wc = 'blue'


ax.plot(df['Count'], df['Oil'], c=oc, label='Oil')
ax.plot(df['Count'], df['Gas'], c=gc, label='Gas')
ax.plot(df['Count'], df['Water'], c=wc, label='Water')


ax.set_xlabel('Months')
ax.set_ylabel('BOPD, BWPD, MCFD')


ax.grid(True)
ax.spines['top'].set_visible(False)
ax.spines['right'].set_visible(False)

#ax.minorticks_on()
ax.grid(axis='both', which='minor', color='grey', linestyle='--', alpha=0.2)
ax.legend(ncol=6, loc='upper right')

ymax = 10000
ymin = 10
xmax = ax.get_xlim()[1]
xmin = 0 - xmax * 0.05
ax.set_yscale('log')
ax.set_ylim(20, None)
ax.set_xlim(xmin, None)

ax.text(0.05, 0.15, 'Gas:    ' + str(params['Gas']), fontsize=10, ha='left', transform=ax.transAxes, color=gc, alpha=0.7)
ax.text(0.05, 0.1,  'Oil:      ' + str(params['Oil']), fontsize=10, ha='left', transform=ax.transAxes, color=oc, alpha=0.7)
ax.text(0.05, 0.05, 'Water: ' + str(params['Water']), fontsize=10, ha='left', transform=ax.transAxes, color=wc, alpha=0.7)

arps_equation = r"$q_t = q_i \left( 1 + b D_i t \right)^{-\frac{1}{b}}$"
ax.text(
    0.05, 0.35, arps_equation, fontsize=11, ha='left', va='top', transform=ax.transAxes, color='black',
    bbox=dict(facecolor='white', edgecolor='black', boxstyle='round,pad=0.3')
)

ax.text(
    0.95, 0.8, 'Scenario: A', fontsize=17, ha='right', va='top', transform=ax.transAxes, color='black',
    bbox=dict(facecolor='white', edgecolor='black', boxstyle='round,pad=0.3')
)

def setbold(txt):
    return ' '.join([r"$\bf{" + item + "}$" for item in txt.split(' ')])

bold_txt = setbold('Scenario A: Gas Decline Faster Than Oil, ')
plain_txt = 'from hypothetical DCA parameters'
fig.suptitle(bold_txt + plain_txt, verticalalignment='top', x=0, horizontalalignment='left', fontsize=11)
yloc = 0.9
ax.annotate('', xy=(0.01, yloc + 0.01), xycoords='figure fraction', xytext=(1.02, yloc + 0.01),
            arrowprops=dict(arrowstyle="-", color='k', lw=0.7))

ax.text(0.98, 0.08, 'aegis4048.github.io', fontsize=10, ha='right', transform=ax.transAxes, color='grey', alpha=0.5)

fig.tight_layout()
            &lt;/code&gt;
        &lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="row" id="fig-4"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/VRU_economics_scenario_B.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 4:&lt;/strong&gt; Well decline curve prediction from the DCA parameters in scenario B of &lt;a class="internal-link" href="#fig-2"&gt;Figure 2&lt;/a&gt;.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="solution_panel closed" style="margin-top: -10px"&gt;
&lt;div class="solution_title"&gt;
&lt;p class="solution_title_string"&gt;Source Code For Figure (4)&lt;/p&gt;
&lt;ul class="nav navbar-right panel_toolbox"&gt;
&lt;li&gt;&lt;a class="collapse-link"&gt;&lt;i class="fa fa-chevron-down"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="clearfix"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="solution_content"&gt;
&lt;pre&gt;
            &lt;code class="language-python"&gt;
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt


def general_decline(t, qi, Di, b):
    """
    Arps' decline equation for production decline modeling.

    Args:
        t (array-like): Time values.
        qi (float): Initial production rate.
        Di (float): Initial decline rate.
        b (float): Decline exponent.

    Returns:
        array-like: Production rate at time t.
    """
    return qi * (1 + b * Di * t) ** (-1 / b)

params = {
    'Oil': {'qi': 1800, 'Di': 0.3, 'b': .7},
    'Gas': {'qi': 9000, 'Di': 0.1, 'b': 0.7},
    'Water': {'qi': 3700, 'Di': 0.5, 'b': 1}
}

x = np.arange(0, 61)
fits = {
    'Oil': [],
    'Gas': [],
    'Water': [],
}
for key in params.keys():
    target_params = list(params[key].values())
    fits[key] = general_decline(x, *target_params)
df = pd.DataFrame.from_dict(fits)
df['Count'] = x

fig, ax = plt.subplots(figsize=(8, 4.5))

oc = 'green'
gc = 'red'
wc = 'blue'


ax.plot(df['Count'], df['Oil'], c=oc, label='Oil')
ax.plot(df['Count'], df['Gas'], c=gc, label='Gas')
ax.plot(df['Count'], df['Water'], c=wc, label='Water')


ax.set_xlabel('Months')
ax.set_ylabel('BOPD, BWPD, MCFD')


ax.grid(True)
ax.spines['top'].set_visible(False)
ax.spines['right'].set_visible(False)

#ax.minorticks_on()
ax.grid(axis='both', which='minor', color='grey', linestyle='--', alpha=0.2)
ax.legend(ncol=6, loc='upper right')

ymax = 10000
ymin = 10
xmax = ax.get_xlim()[1]
xmin = 0 - xmax * 0.05
ax.set_yscale('log')
ax.set_ylim(20, None)
ax.set_xlim(xmin, None)

ax.text(0.05, 0.15, 'Gas:    ' + str(params['Gas']), fontsize=10, ha='left', transform=ax.transAxes, color=gc, alpha=0.7)
ax.text(0.05, 0.1,  'Oil:      ' + str(params['Oil']), fontsize=10, ha='left', transform=ax.transAxes, color=oc, alpha=0.7)
ax.text(0.05, 0.05, 'Water: ' + str(params['Water']), fontsize=10, ha='left', transform=ax.transAxes, color=wc, alpha=0.7)

arps_equation = r"$q_t = q_i \left( 1 + b D_i t \right)^{-\frac{1}{b}}$"
ax.text(
    0.05, 0.35, arps_equation, fontsize=11, ha='left', va='top', transform=ax.transAxes, color='black',
    bbox=dict(facecolor='white', edgecolor='black', boxstyle='round,pad=0.3')
)

ax.text(
    0.95, 0.8, 'Scenario: B', fontsize=17, ha='right', va='top', transform=ax.transAxes, color='black',
    bbox=dict(facecolor='white', edgecolor='black', boxstyle='round,pad=0.3')
)

def setbold(txt):
    return ' '.join([r"$\bf{" + item + "}$" for item in txt.split(' ')])

bold_txt = setbold('Scenario B: Gas Decline Faster Than Oil, ')
plain_txt = 'from hypothetical DCA parameters'
fig.suptitle(bold_txt + plain_txt, verticalalignment='top', x=0, horizontalalignment='left', fontsize=11)
yloc = 0.9
ax.annotate('', xy=(0.01, yloc + 0.01), xycoords='figure fraction', xytext=(1.02, yloc + 0.01),
            arrowprops=dict(arrowstyle="-", color='k', lw=0.7))

ax.text(0.98, 0.08, 'aegis4048.github.io', fontsize=10, ha='right', transform=ax.transAxes, color='grey', alpha=0.5)

fig.tight_layout()
            &lt;/code&gt;
        &lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="row" id="fig-5"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/VRU_economics_scenario_C.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 5:&lt;/strong&gt; Well decline curve prediction from the DCA parameters in scenario C of &lt;a class="internal-link" href="#fig-2"&gt;Figure 2&lt;/a&gt;.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="solution_panel closed" style="margin-top: -10px"&gt;
&lt;div class="solution_title"&gt;
&lt;p class="solution_title_string"&gt;Source Code For Figure (5)&lt;/p&gt;
&lt;ul class="nav navbar-right panel_toolbox"&gt;
&lt;li&gt;&lt;a class="collapse-link"&gt;&lt;i class="fa fa-chevron-down"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="clearfix"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="solution_content"&gt;
&lt;pre&gt;
            &lt;code class="language-python"&gt;
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt


def general_decline(t, qi, Di, b):
    """
    Arps' decline equation for production decline modeling.

    Args:
        t (array-like): Time values.
        qi (float): Initial production rate.
        Di (float): Initial decline rate.
        b (float): Decline exponent.

    Returns:
        array-like: Production rate at time t.
    """
    return qi * (1 + b * Di * t) ** (-1 / b)

params = {
    'Oil': {'qi': 1800, 'Di': 0.3, 'b': .7},
    'Gas': {'qi': 9000, 'Di': 0.3, 'b': 0.7},
    'Water': {'qi': 3700, 'Di': 0.5, 'b': 1}
}

x = np.arange(0, 61)
fits = {
    'Oil': [],
    'Gas': [],
    'Water': [],
}
for key in params.keys():
    target_params = list(params[key].values())
    fits[key] = general_decline(x, *target_params)
df = pd.DataFrame.from_dict(fits)
df['Count'] = x

fig, ax = plt.subplots(figsize=(8, 4.5))

oc = 'green'
gc = 'red'
wc = 'blue'


ax.plot(df['Count'], df['Oil'], c=oc, label='Oil')
ax.plot(df['Count'], df['Gas'], c=gc, label='Gas')
ax.plot(df['Count'], df['Water'], c=wc, label='Water')


ax.set_xlabel('Months')
ax.set_ylabel('BOPD, BWPD, MCFD')


ax.grid(True)
ax.spines['top'].set_visible(False)
ax.spines['right'].set_visible(False)

#ax.minorticks_on()
ax.grid(axis='both', which='minor', color='grey', linestyle='--', alpha=0.2)
ax.legend(ncol=6, loc='upper right')

ymax = 10000
ymin = 10
xmax = ax.get_xlim()[1]
xmin = 0 - xmax * 0.05
ax.set_yscale('log')
ax.set_ylim(20, None)
ax.set_xlim(xmin, None)

ax.text(0.05, 0.15, 'Gas:    ' + str(params['Gas']), fontsize=10, ha='left', transform=ax.transAxes, color=gc, alpha=0.7)
ax.text(0.05, 0.1,  'Oil:      ' + str(params['Oil']), fontsize=10, ha='left', transform=ax.transAxes, color=oc, alpha=0.7)
ax.text(0.05, 0.05, 'Water: ' + str(params['Water']), fontsize=10, ha='left', transform=ax.transAxes, color=wc, alpha=0.7)

arps_equation = r"$q_t = q_i \left( 1 + b D_i t \right)^{-\frac{1}{b}}$"
ax.text(
    0.05, 0.35, arps_equation, fontsize=11, ha='left', va='top', transform=ax.transAxes, color='black',
    bbox=dict(facecolor='white', edgecolor='black', boxstyle='round,pad=0.3')
)

ax.text(
    0.95, 0.8, 'Scenario: C', fontsize=17, ha='right', va='top', transform=ax.transAxes, color='black',
    bbox=dict(facecolor='white', edgecolor='black', boxstyle='round,pad=0.3')
)


def setbold(txt):
    return ' '.join([r"$\bf{" + item + "}$" for item in txt.split(' ')])

bold_txt = setbold('Scenario C: Gas Decline Faster Than Oil, ')
plain_txt = 'from hypothetical DCA parameters'
fig.suptitle(bold_txt + plain_txt, verticalalignment='top', x=0, horizontalalignment='left', fontsize=11)
yloc = 0.9
ax.annotate('', xy=(0.01, yloc + 0.01), xycoords='figure fraction', xytext=(1.02, yloc + 0.01),
            arrowprops=dict(arrowstyle="-", color='k', lw=0.7))

ax.text(0.98, 0.08, 'aegis4048.github.io', fontsize=10, ha='right', transform=ax.transAxes, color='grey', alpha=0.5)

fig.tight_layout()
            &lt;/code&gt;
        &lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="3.-Simulation-results"&gt;3. Simulation results&lt;a class="anchor-link" href="#3.-Simulation-results"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;BR&amp;E Promax is used to simulate flash gas declines at the heater and VRT. The base model shown in &lt;a class="internal-link" href="#fig-2"&gt;Figure 2&lt;/a&gt; was fed with the three declining scenarios shown in &lt;a class="internal-link" href="#fig-3"&gt;Figures 3, 4, and 5&lt;/a&gt;. Declines up to 60 months are simulated, though not all months are shown for brevity. You can download the full &lt;a class="ico xls" href="https://aegis4048.github.io/downloads/notebooks/sample_data/VRU_Declining_Economics-Sim_Results.xlsx" target="_blank"&gt;Simulation Results Data&lt;/a&gt; &lt;strong&gt;(VRU_Declining_Economics-Sim_Results.xlsx)&lt;/strong&gt; to review the complete Promax simulation results in Excel. Refer to Tabs 1a, 1b, and 1c. Note that the DCA parameters shown on the right are realistic parameters that you can see in the field.&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;&lt;strong&gt;Results Summary&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="no-margin"&gt;Flash gas declines closely follow the oil decline, with gas declines having a relatively minor impact in comparison.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p class="no-margin"&gt;The primary driver of downstream flash gas rate declines is the oil production rate. Do not predict flash gas decline from the produced (sales) gas decline.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p class="no-margin"&gt;VRU flowrates can decrease by up to 86% compared to IP flowrates in 12 months, or more than 50% in just 3 months. They decline faster than expected, much like oil production.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;hr/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="row" id="table-1"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/VRU_economics_results_2.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Table 1:&lt;/strong&gt; Simulation results using the base model shown in &lt;a class="internal-link" href="#fig-2"&gt;Figure 2&lt;/a&gt; and declining flowrate inputs shown in &lt;a class="internal-link" href="#fig-3"&gt;Figures 3, 4, and 5&lt;/a&gt;. The DCA parameters shown on the right represents declining scenarios used to simulate well decline. The percentages represent how much production declines compared to the initial production. Actual flowrate numbers are shown in &lt;a class="internal-link" href="#table-2"&gt;Table 2&lt;/a&gt; below. The first rows in each scenario are emtpy because there's no decline at month=0.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="row" id="table-2"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/VRU_economics_results_1.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Table 2:&lt;/strong&gt; Simulation results using the base model shown in &lt;a class="internal-link" href="#fig-2"&gt;Figure 2&lt;/a&gt; and declining flowrate inputs shown in &lt;a class="internal-link" href="#fig-3"&gt;Figures 3, 4, and 5&lt;/a&gt;. The DCA parameters shown on the right represents declining scenarios used to simulate well decline.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="4.-VRU-Economics"&gt;4. VRU Economics&lt;a class="anchor-link" href="#4.-VRU-Economics"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;VRU economics are calculated based on the simulation results from scenario C in &lt;a class="internal-link" href="#table-2"&gt;Table 2&lt;/a&gt; for both the heater treater and VRT. The calculation tables are provided below in &lt;a class="internal-link" href="#table-3"&gt;Table 3&lt;/a&gt; for the VRU installation on the VRT and &lt;a class="internal-link" href="#table-4"&gt;Table 4&lt;/a&gt; for the VRU installation on the heater. Note that the energy content of the flash gas from the VRT (2690 Btu/scf) is higher than that from the heater (1930 Btu/scf). This is because lighter hydrocarbons like methane and ethane flash off at higher pressures, while heavier hydrocarbons do not flash until the pressure is significantly lower. Recall from the site setups in &lt;a class="internal-link" href="#2.1.-Site-(operational)-setups"&gt;Section 2.1&lt;/a&gt; that the heater operates at 50 psig, while the VRT operates at 3 psig.&lt;/p&gt;
&lt;p&gt;You can download the full &lt;a class="ico xls" href="https://aegis4048.github.io/downloads/notebooks/sample_data/VRU_Declining_Economics-Sim_Results.xlsx" target="_blank"&gt;Simulation Results Data&lt;/a&gt; &lt;strong&gt;(VRU_Declining_Economics-Sim_Results.xlsx)&lt;/strong&gt; to review the economics calculation formulas in Excel. Refer to Tabs "Gas Economics Calcualtor -  HT", and "Gas Economics Calcualtor -  VRT".&lt;/p&gt;
&lt;div class="ordered-list"&gt;
&lt;h2&gt;Assumptions&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Oklahoma 7% sales gas tax.&lt;/li&gt;
&lt;li&gt;$0.75/MCF gathering fee, typical for Oklahoma.&lt;/li&gt;
&lt;li&gt;Separate VRUs are used for heater and VRT each. This is because compressor inlet cannot take gases from two different pressures (the compressor company I work for has "Multi-stream" technology that enables dual inlet for two pressures, but it's not the focus of this article. Contact me if you are interested).&lt;/li&gt;
&lt;li&gt;Same VRU sizing for both VRT and heater (although the heater may require smaller sizing due to its lower flash gas flowrate and higher operating pressure. The higher the gas pressure at the compressor inlet, the greater the compressor’s flowrate capacity).&lt;/li&gt;
&lt;li&gt;Generic $3,500 monthly VRU rental cost. This can vary depending on application and vendors.&lt;/li&gt;
&lt;li&gt;The operator is paid based on energy content (MMBtu) rather than volume. This may not be an option for some regions.&lt;/li&gt;
&lt;li&gt;30 days assumed for all months for calculation simplicity.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;&lt;hr/&gt;
&lt;p&gt;&lt;strong&gt;Economics Summary&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="no-margin"&gt;VRU installation on the heater becomes uneconomical after month 9.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p class="no-margin"&gt;VRU installation on the VRT becomes uneconomical after month 16.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p class="no-margin"&gt;The heater application becomes uneconomical much faster than the VRT due to its lower flowrate (22% lower) and lower energy content (39% lower).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;hr/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="row" id="table-3"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/VRU_economics_results_VRT.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Table 3:&lt;/strong&gt; VRU economics calculation table for VRU installed on scenario C's VRT gas rates. The VRU becomes uneconomical after month 15.&lt;/p&gt;&lt;/div&gt;&lt;div class="row" id="table-4"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/VRU_economics_results_heater.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Table 4:&lt;/strong&gt; VRU economics calculation table for VRU installed on scenario C's heater gas rates. The VRU becomes uneconomical after month 8. VRU installation on heater becomes uneconomical much faster than VRT application due to heater gas having lower flowrate and lower energy content.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="5.-Conclusion/Summary"&gt;5. Conclusion/Summary&lt;a class="anchor-link" href="#5.-Conclusion/Summary"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;1.&lt;/strong&gt; Flash gas rates for VRU applications may decline quickly, quicker than people think. They follow the oil decline curve.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.&lt;/strong&gt; Many people in the industry tend to forget about the fact that VRU flowrates decline quickly. I've witnessed this first-hand working at a compressor company. Downsizing is often not done in a timely manner.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3.&lt;/strong&gt; Process simulations are performed to show the impact of oil and gas decline on downstream flash gases from low pressure vessels. Simulation site setups are described in &lt;a class="internal-link" href="#2.1.-Site-(operational)-setups"&gt;Section 2.1&lt;/a&gt;. Well declining rates are simulated with 3 sets of DCA parameters described in &lt;a class="internal-link" href="#2.2.-Simulation-scenarios"&gt;Section 2.2&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4.&lt;/strong&gt; Simulation results in &lt;a class="internal-link" href="#table-1"&gt;Table 1&lt;/a&gt; indicate that flash gas rates at low pressure vessels (heater, VRT) follow oil decline. The primary sales gas has some impact, but negligible compared to oil decline's influence.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5.&lt;/strong&gt; When forecasting VRU decline, use the decline rate of oil production. Do not predict off the primary produced gas decline.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;6.&lt;/strong&gt; Flash gas rates decline quickly after IP, just like oil. In &lt;a class="internal-link" href="#table-1"&gt;Table 1&lt;/a&gt;, flash gas off the heater became halved in 3 months, and quartered in 6 months.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;7.&lt;/strong&gt; Due to fast decline after the initial production, VRU may become quickly uneconomical. In &lt;a class="internal-link" href="#table-4"&gt;Table 4&lt;/a&gt; that shows VRU economics for heater, VRU installation on heater flash gas became uneconomical 8 months after IP. Failure to downsize the unit in a timely manner, or being stuck with a long-term contract (unless the unit can be moved to another pad) can be detrimental to lease operating expense (LOE).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;8.&lt;/strong&gt; Be careful when signing a long-term contract for VRUs. Be prepared to predict VRU economics and move the long-term contracted VRU to new locations on a timely manner to avoid economic loss.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;9.&lt;/strong&gt; Energy content coming from low pressure vessel (VRT @3#: 2690 Btu/scf) is higher than the one coming from higher pressure vessel (Heater @50#: 1930 Btu/scf). This is because lighter hydrocarbons like methane and ethane flash off at higher pressures, while heavier hydrocarbons do not flash until the pressure is significantly lower. The difference in energy content has a huge impact on VRU economics. Process simulations are required for accurate prediction of flash gas energy content at different vessels.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Contact me via email (aegis4048@gmail.com) or leave a comment below for any professional inquiries regarding compressor applications or process simulations.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="oil-and-gas"></category><category term="oil"></category><category term="gas"></category><category term="process engineering"></category><category term="ProMax"></category><category term="measurements"></category><category term="separators"></category><category term="VRU"></category><category term="heaters"></category><category term="storage-tank"></category><category term="emissions"></category><category term="flash"></category><category term="DCA"></category><category term="decline-curve-analysis"></category><category term="economics"></category><category term="cashflow"></category></entry><entry><title>Impact of Seasonal Changes on Storage Tank Emissions</title><link href="https://aegis4048.github.io/impact-of-seasonal-changes-on-storage-tank-emissions" rel="alternate"></link><published>2024-11-11T00:00:00-08:00</published><updated>2024-11-11T00:00:00-08:00</updated><author><name>ERIC KIM</name></author><id>tag:aegis4048.github.io,2024-11-11:/impact-of-seasonal-changes-on-storage-tank-emissions</id><summary type="html">&lt;style type="text/css"&gt;/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI escape sequences */
/* The color values are a mix of
   http://www.xcolors.net/dl/baskerville-ivorylight and
   http://www.xcolors.net/dl/euphrasia */
.ansi-black-fg {
  color: #3E424D;
}
.ansi-black-bg {
  background-color: #3E424D;
}
.ansi-black-intense-fg {
  color: #282C36;
}
.ansi-black-intense-bg {
  background-color: #282C36;
}
.ansi-red-fg {
  color: #E75C58;
}
.ansi-red-bg {
  background-color: #E75C58;
}
.ansi-red-intense-fg {
  color …&lt;/style&gt;</summary><content type="html">&lt;style type="text/css"&gt;/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI escape sequences */
/* The color values are a mix of
   http://www.xcolors.net/dl/baskerville-ivorylight and
   http://www.xcolors.net/dl/euphrasia */
.ansi-black-fg {
  color: #3E424D;
}
.ansi-black-bg {
  background-color: #3E424D;
}
.ansi-black-intense-fg {
  color: #282C36;
}
.ansi-black-intense-bg {
  background-color: #282C36;
}
.ansi-red-fg {
  color: #E75C58;
}
.ansi-red-bg {
  background-color: #E75C58;
}
.ansi-red-intense-fg {
  color: #B22B31;
}
.ansi-red-intense-bg {
  background-color: #B22B31;
}
.ansi-green-fg {
  color: #00A250;
}
.ansi-green-bg {
  background-color: #00A250;
}
.ansi-green-intense-fg {
  color: #007427;
}
.ansi-green-intense-bg {
  background-color: #007427;
}
.ansi-yellow-fg {
  color: #DDB62B;
}
.ansi-yellow-bg {
  background-color: #DDB62B;
}
.ansi-yellow-intense-fg {
  color: #B27D12;
}
.ansi-yellow-intense-bg {
  background-color: #B27D12;
}
.ansi-blue-fg {
  color: #208FFB;
}
.ansi-blue-bg {
  background-color: #208FFB;
}
.ansi-blue-intense-fg {
  color: #0065CA;
}
.ansi-blue-intense-bg {
  background-color: #0065CA;
}
.ansi-magenta-fg {
  color: #D160C4;
}
.ansi-magenta-bg {
  background-color: #D160C4;
}
.ansi-magenta-intense-fg {
  color: #A03196;
}
.ansi-magenta-intense-bg {
  background-color: #A03196;
}
.ansi-cyan-fg {
  color: #60C6C8;
}
.ansi-cyan-bg {
  background-color: #60C6C8;
}
.ansi-cyan-intense-fg {
  color: #258F8F;
}
.ansi-cyan-intense-bg {
  background-color: #258F8F;
}
.ansi-white-fg {
  color: #C5C1B4;
}
.ansi-white-bg {
  background-color: #C5C1B4;
}
.ansi-white-intense-fg {
  color: #A1A6B2;
}
.ansi-white-intense-bg {
  background-color: #A1A6B2;
}
.ansi-default-inverse-fg {
  color: #FFFFFF;
}
.ansi-default-inverse-bg {
  background-color: #000000;
}
.ansi-bold {
  font-weight: bold;
}
.ansi-underline {
  text-decoration: underline;
}
/* The following styles are deprecated an will be removed in a future version */
.ansibold {
  font-weight: bold;
}
.ansi-inverse {
  outline: 0.5px dotted;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  position: relative;
  overflow: visible;
}
div.cell:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: transparent;
}
div.cell.jupyter-soft-selected {
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected,
div.cell.selected.jupyter-soft-selected {
  border-color: #ababab;
}
div.cell.selected:before,
div.cell.selected.jupyter-soft-selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #42A5F5;
}
@media print {
  div.cell.selected,
  div.cell.selected.jupyter-soft-selected {
    border-color: transparent;
  }
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
}
.edit_mode div.cell.selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #66BB6A;
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell &gt; div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area &gt; div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area &gt; div.highlight &gt; pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the &lt;head&gt; if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  /* Note that this should set vertical padding only, since CodeMirror assumes
       that horizontal padding will be set on CodeMirror pre */
  padding: 0.4em 0;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. This sets horizontal padding only,
    use .CodeMirror-lines for vertical */
  padding: 0 0.4em;
  border: 0;
  border-radius: 0;
}
.CodeMirror-cursor {
  border-left: 1.4px solid black;
}
@media screen and (min-width: 2138px) and (max-width: 4319px) {
  .CodeMirror-cursor {
    border-left: 2px solid black;
  }
}
@media screen and (min-width: 4320px) {
  .CodeMirror-cursor {
    border-left: 4px solid black;
  }
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev &lt;Maniac@SoftwareManiacs.Org&gt;
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
div.output_area .mglyph &gt; img {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 1px 0 1px 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}
.rendered_html ul:not(.list-inline),
.rendered_html ol:not(.list-inline) {
  padding-left: 2em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}





.rendered_html pre,




.rendered_html tr,
.rendered_html th,


.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,


.rendered_html * + .alert {
  margin-top: 1em;
}
[dir="rtl"] 
div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell &gt; div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.rendered .rendered_html tr,
.text_cell.rendered .rendered_html th,
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.text_cell .dropzone .input_area {
  border: 2px dashed #bababa;
  margin: -1px;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
&lt;/style&gt;
&lt;style type="text/css"&gt;pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.highlight .hll { background-color: #ffffcc }
.highlight { background: #f8f8f8; }
.highlight .c { color: #3D7B7B; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #3D7B7B; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #3D7B7B; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #9C6500 } /* Comment.Preproc */
.highlight .cpf { color: #3D7B7B; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #3D7B7B; font-style: italic } /* Comment.Single */
.highlight .cs { color: #3D7B7B; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .ges { font-weight: bold; font-style: italic } /* Generic.EmphStrong */
.highlight .gr { color: #E40000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #008400 } /* Generic.Inserted */
.highlight .go { color: #717171 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #687822 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #717171; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #CB3F38; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #767600 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #AA5D1F; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #A45A77; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #A45A77 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */&lt;/style&gt;&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div id="introduction"&gt;&lt;/div&gt;&lt;p&gt;Concerns over global warming have led to stricter regulations, pushing oil and gas operators to produce "green" oil. One of the primary sources of emissions in the industry is from crude oil storage tanks. When hydrocarbon liquids are transferred into storage tanks from upstream separators, the crude oil is not fully stabilized yet and still contains some dissolved volatile gases, which vaporize inside the tank. These vapors accumulate, increasing pressure within the tank, requiring a pressure relief system to prevent explosions. Such relief mechanism can be either vapor recovery systems with compressors to capture vapors and send them to pipelines for sales, which are more environmentally friendly, or venting to air.&lt;/p&gt;
&lt;p&gt;Vapor generation within a tank is influenced by two main factors: 1) the pressure drop from the upstream separator to the storage tank, and 2) the tank’s operating temperature. This article focuses on the latter—how the operating temperature of the tank, impacted by seasonal changes, affects emission volumes.&lt;/p&gt;
&lt;p&gt;Here’s a quick takeaway for skimmers: &lt;strong&gt;Emission volumes are 22% (Texas) to 56% (North Dakota) higher in summer than in winter&lt;/strong&gt; due to increased air temperatures. The summer-winter discrepancy is more pronounced in colder regions because of the greater seasonal temperature difference. See &lt;a class="internal-link" href="#table-2"&gt;Table 2&lt;/a&gt; below for a simulation summary across various scenarios. Note that this result is specific to the site simulation setups detailed &lt;a class="internal-link" href="#2.1.-Site-(operational)-setups"&gt;below&lt;/a&gt; and may need fine tuning for different facility setups. However, the concept should still be generally applicable for most upstream facilities.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="row" id="fig-0"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/seasonal_thumbnail.png"/&gt;&lt;/div&gt;
&lt;div class="col-12"&gt;
&lt;p class="image-description"&gt;
&lt;strong&gt;Figure 0:&lt;/strong&gt; Flash volume simulation at atmospheric storage tanks using BR&amp;E Promax. The setup assumes a liquid line from a heater operating at 30 psig and 120°F, dumping into an atmospheric tank at a rate of 3028 STBBL/D (34,600 lb/h) year-round. The plot shows increased emission rate at summer compared to winter due to increased ambient air temperature
        &lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="row" id="fig-1"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/seasonal_bakken3.png"/&gt;&lt;/div&gt;
&lt;div class="col-12"&gt;
&lt;p class="image-description"&gt;
&lt;strong&gt;Figure 1:&lt;/strong&gt; Flash volume simulation at atmospheric storage tanks using BR&amp;E Promax. The setup assumes a liquid line from a heater operating at 30 psig and 120°F, dumping into an atmospheric tank at a rate of 3028 STBBL/D (34,600 lb/h) year-round. The red line represents vapor emission volumes from the tank. All conditions are held constant over 12 months, except for monthly ambient air temperature to isolate the effect of seasonal temperature on emissions. Williston, North Dakota, seasonal temperatures are used. Results show 47 MCFD emissions during winter and 73 MCFD during summer—a 56% increase. Elevated summer temperatures lead to higher emission volumes inside tanks. Refer to &lt;a class="internal-link" href="#fig-6"&gt;Figure 6&lt;/a&gt; below for a process flow diagram of the site.
        &lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="solution_panel closed"&gt;
&lt;div class="solution_title"&gt;
&lt;p class="solution_title_string"&gt;Source Code For Figure (1)&lt;/p&gt;
&lt;ul class="nav navbar-right panel_toolbox"&gt;
&lt;li&gt;&lt;a class="collapse-link"&gt;&lt;i class="fa fa-chevron-down"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="clearfix"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="solution_content"&gt;
&lt;pre&gt;
            &lt;code class="language-python"&gt;
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import matplotlib.ticker as ticker

df = pd.read_excel('https://aegis4048.github.io/downloads/notebooks/sample_data/seasonal_impact_data.xlsx', sheet_name='Sim Format 1')
df = df[df['Location'] == 'Williston, ND']

months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
x = np.array([i for i in range(12)])

fig, ax = plt.subplots(figsize=(8, 4))

ax.plot(x, df['AVG Air T (F)'], color='purple', label='Avg Air T [°F]', marker='v', markersize=8, linestyle='-')
ax.plot(x, df['Tank T (F)'], color='darkslateblue', label='Tank T [°F]', marker='x', markersize=8, linestyle='-')
ax.plot(x, df['Gas (MCFD)'], color='red', label='Tank Vapor [MCFD]', marker='o', markersize=8, linestyle='-', markerfacecolor='white')
ax.axhline(y=120, ls='--', color='green', label='Inlet Liquid T [°F]')


ax.set_ylim(0, 140)
ax.set_xlim(-0.3, 11.3)
ax.set_xticks(range(len(months)))
ax.set_xticklabels(months)

ax.yaxis.set_minor_locator(ticker.AutoMinorLocator())

ax.grid(axis='y', which='minor', linestyle='--', alpha=0.2)  # Minor grid lines
ax.grid(axis='both', which='major', linestyle='-', alpha=0.3)  # Major grid lines

ax.yaxis.get_major_ticks()[-1].gridline.set_visible(False)
ax.spines['right'].set_visible(False)
ax.spines.top.set_visible(False)


def annotate_arrows(data_y, num, tick_spacing, ymax, x_start=1, ox=0.2, fontsize=14, flip_y=False):
    '''
    data_y = y coordinate of the datapoint of interest
    num = index of the datapoint of interest
    tick_spacing = spacing between two major ticks
    ox = offset of x
    '''

    head_padding = ymax * 0.04                 # extra space between the datapoint of interest and arrowhead
    oy = ymax * 0.08                           # offset of y
    sx = x_start + (tick_spacing / 2) * num
    sy = data_y + head_padding

    if flip_y:
        oy = -ymax * 0.15
        sy = data_y - head_padding

    ax.arrow(sx + ox, sy + oy, -ox, -oy, head_width=0.1, head_length=ymax * 0.0333, fc='k', ec='k', lw=1)
    t1 = ax.text(sx + ox, sy + oy, str(int(data_y)) + ' MCFD', fontsize=fontsize, color='k', ha='center')
    t1.set_bbox(dict(facecolor='white', alpha=1, edgecolor='k', pad=3, lw=1))

    xytext = (sx + ox, sy + oy)

    return xytext

ymax = 160
fs=9
yloc=110
lw=1
spacing = abs(ax.get_xticks()[1] - ax.get_xticks()[2])

y1 = df['Gas (MCFD)'].values[0]
y2 = df['Gas (MCFD)'].values[6]

_1 = -2
_2 = 10

textxy1 = annotate_arrows(y1, _1 + 0.1, spacing, ymax, fontsize=fs)
textxy2 = annotate_arrows(y2, _2 + 0.1, spacing, ymax, fontsize=fs)

ax.plot([textxy1[0], textxy1[0]], [textxy1[1], yloc], lw=lw, color='k', ls='--')
ax.plot([textxy2[0], textxy2[0]], [textxy2[1], yloc], lw=lw, color='k', ls='--')
ax.plot([textxy1[0], textxy2[0]], [yloc, yloc], lw=lw, color='k', ls='--')

diff_percentage = '+' + str(int((y2 - y1)/y1 * 100)) + '%'
t1 = ax.text((textxy1[0] + textxy2[0])/2, yloc, diff_percentage, fontsize=11, color='red', ha='center', fontweight='bold')
t1.set_bbox(dict(facecolor='white', alpha=1, edgecolor='k', pad=5, lw=lw))

ax.legend(fontsize=10, ncol=4, loc='upper left', framealpha=1)

ax.set_ylabel('Tmp. [°F], Vapor Rate [MCFD]', fontsize=11)


ax.text(0.4, 0.2, 'Upstream liquid line from heater', fontsize=10, ha='left', transform=ax.transAxes, color='k')
ax.text(0.4, 0.14, '@30 psig, 120°F', fontsize=10, ha='left', transform=ax.transAxes, color='k')
ax.text(0.98, 0.08, 'aegis4048.github.io', fontsize=10, ha='right', transform=ax.transAxes, color='grey', alpha=0.5)
def setbold(txt):
    return ' '.join([r"$\bf{" + item + "}$" for item in txt.split(' ')])


bold_txt = setbold('Impact of Seasonal Changes on Tank Emissions, ')
plain_txt = 'Bakken Shale'
fig.suptitle(bold_txt + plain_txt, verticalalignment='top', x=0, horizontalalignment='left', fontsize=11)
yloc = 0.9
ax.annotate('', xy=(0.01, yloc + 0.01), xycoords='figure fraction', xytext=(1.02, yloc + 0.01),
            arrowprops=dict(arrowstyle="-", color='k', lw=0.7))

fig.tight_layout()
            &lt;/code&gt;
        &lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="display-none" id="toc_container"&gt;
&lt;p class="toc_title"&gt;&lt;i class="fas fa-list"&gt;&lt;/i&gt;Contents&lt;/p&gt;
&lt;ul class="toc_list"&gt;
&lt;li&gt;&lt;a href="#introduction"&gt;&lt;span class="toc_label"&gt;0.&lt;/span&gt;
            Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#1.-Theories:-Impact-of-temperature-changes-at-separator-vessels"&gt;&lt;span class="toc_label"&gt;1.&lt;/span&gt;
            Theories: Impact of temperature changes at separator vessels&lt;/a&gt;&lt;/li&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#1.1.-Flash-volume-increase"&gt;&lt;span class="toc_label"&gt;1.1.&lt;/span&gt;
                Flash volume increase&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#1.2.-Heavier-separated-gas"&gt;&lt;span class="toc_label"&gt;1.2.&lt;/span&gt;
                Heavier separated gas&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#1.3.-Higher-energy-content"&gt;&lt;span class="toc_label"&gt;1.3.&lt;/span&gt;
                Higher energy content&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#1.4.-Higher-dew-point-temperature"&gt;&lt;span class="toc_label"&gt;1.4.&lt;/span&gt;
                Higher dew point temperature&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#1.5.-More-stabilized-crude-oil-(RVP)"&gt;&lt;span class="toc_label"&gt;1.5.&lt;/span&gt;
                More stabilized crude oil (RVP)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;li&gt;&lt;a href="#2.-Simulation-Setups"&gt;&lt;span class="toc_label"&gt;2.&lt;/span&gt;
            Simulation Setups&lt;/a&gt;&lt;/li&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#2.1.-Site-(operational)-setups"&gt;&lt;span class="toc_label"&gt;2.1.&lt;/span&gt;
                    Site (operational) setups&lt;/a&gt;&lt;/li&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#Notes_Flash_breathing_working_and_loading_losses"&gt;&lt;span class="toc_label"&gt;Notes:&lt;/span&gt; Flash, Breathing, Working, and Loading Losses&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;li&gt;&lt;a href="#2.2.-Software-(Promax)-&amp;-calculation-methods-(AP42-Chap-7)"&gt;&lt;span class="toc_label"&gt;2.2.&lt;/span&gt;
                    Software (Promax) &amp; calculation methods (AP42 Chap 7)&lt;/a&gt;&lt;/li&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#API_12F_Tanks"&gt;&lt;span class="toc_label"&gt;Notes:&lt;/span&gt; API 12F Tanks&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;li&gt;&lt;a href="#2.3.-Regional-ambient-air-temperatures-data"&gt;&lt;span class="toc_label"&gt;2.3.&lt;/span&gt;
                    Regional ambient air temperatures data&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;li&gt;&lt;a href="#3.-Simulation-results"&gt;&lt;span class="toc_label"&gt;3.&lt;/span&gt;
            Simulation results&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#4.-Conclusion"&gt;&lt;span class="toc_label"&gt;4.&lt;/span&gt;
            Conclusion&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="1.-Theories:-Impact-of-temperature-changes-at-separator-vessels"&gt;1. Theories: Impact of temperature changes at separator vessels&lt;a class="anchor-link" href="#1.-Theories:-Impact-of-temperature-changes-at-separator-vessels"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Altering the operating temperature of a separator vessel impacts the phase behavior of fluids within it. This section provides a theoretical explanation of the effects of increasing temperature from low to high.&lt;/p&gt;
&lt;div class="row" id="fig-2" style=""&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/seasonal_vessel_illustrations1.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 2:&lt;/strong&gt; Simulation of flash behavior at low (100°F) vs high (150°F) temperatures, modeled with BR&amp;E Promax. At higher operating temperatures in a separator vessel, the separated gas volume increases, with higher specific gravity, greater energy content (Btu/scf), and the separated crude becomes more stable, as indicated by a lower Reid Vapor Pressure value.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="1.1.-Flash-volume-increase"&gt;1.1. Flash volume increase&lt;a class="anchor-link" href="#1.1.-Flash-volume-increase"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Increasing the operating temperature of a separator vessel (or storage tanks) raises the fluid mole fraction that escapes into the gas line. This phenomenon can be explained by phase envelopes, which show phase behavior changes under different pressures and temperatures.&lt;/p&gt;
&lt;p&gt;Assume &lt;a class="internal-link" href="#fig-3"&gt;Figure 3&lt;/a&gt; represents a phase envelope of a sample obtained from the liquid line of a separator operating at 200 psig. The blue circle on the figure sits on the 100% liquid bubble point curve, showing that by definition, the liquid is at its bubble point when it leaves any separator. This 200 psig liquid then flows into a heater operating at 50 psig and 120°F, causing the operating condition of the fluid to shift, represented by the red dashed circle. Flash gas is generated from the pressure drop from 200 psig to 50 psig, where 50% of the inlet liquid vaporizes and separates into the gas line of a heater.&lt;/p&gt;
&lt;p&gt;Now assume the operator increases the heater temperature from 120°F to 150°F. The operating condition of the fluid in the heater shifts horizontally, and now sits on the 5% liquid (95% vapor) curve, shown by the solid red circle. The vapor fraction rises from 50% to 95% due to the temperature increase.&lt;/p&gt;
&lt;p&gt;This demonstrates why raising temperature leads to higher flash volumes in any vessel, as the fluid’s operating condition moves closer to the 100% vapor dew point curve, increasing the vapor mole fraction. The same phase behavior applies to atmospheric tanks. When tank temperatures rise in summer due to hotter ambient air, more vapors are generated, as the fluid’s operating condition moves toward a higher vapor fraction curve.&lt;/p&gt;
&lt;div class="row full_screen_margin_70 mobile_responsive_plot_full_width" id="fig-3" style=""&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/seasonal_phase_envelope2.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 3:&lt;/strong&gt; "Fake" phase envelope of a sample from the outlet liquid line of a separator operating at 200 psig, 115°F. This envelope is an educational illustration and is not derived from an actual sample. The original condition of the sample is marked by the blue circle. The liquid from the 200# separator flows into a heater operating at 50#, 120°F, represented by the dashed red circle. When the heater temperature is raised from 120°F to 150°F, the condition shifts horizontally toward the 100% vapor dew point curve. The envelope shows the varying vapor fractions of the fluid inside the heater at different operating conditions.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="1.2.-Heavier-separated-gas"&gt;1.2. Heavier separated gas&lt;a class="anchor-link" href="#1.2.-Heavier-separated-gas"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Heavier hydrocarbon molecules vaporize more readily at elevated temperatures than at low temperatures, increasing the mole fraction of heavy-ends in the gas line and, consequently, the overall gas gravity. In &lt;a class="internal-link" href="#fig-2"&gt;Figure 2&lt;/a&gt;, the gas specific gravity (SG) rose from 0.816 to 0.956, and molecular weight (MW) from 23.6 to 27.7 lb/lbmol after a 50°F increase in vessel temperature.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="1.3.-Higher-energy-content"&gt;1.3. Higher energy content&lt;a class="anchor-link" href="#1.3.-Higher-energy-content"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Heavier hydrocarbon molecules have higher energy content (Btu/scf). In &lt;a class="internal-link" href="#fig-2"&gt;Figure 2&lt;/a&gt;, gas energy content increased from 1396 Btu/scf to 1567 Btu/scf after a 50°F increase in vessel temperature.&lt;/p&gt;
&lt;p&gt;Light-ends like methane have a MW of 16.04 lb/lbmol and an energy content of 1010 Btu/scf, whereas heavier-ends like n-pentane have an MW and energy content of 72.15 lb/lbmol and 4008.7 Btu/scf. In fact, gas molecular weight and energy content exhibit a nearly perfect linear correlation for paraffinic hydrocarbons (e.g., methane, ethane, butane, pentane, hexane), as shown in &lt;a class="internal-link" href="#fig-4"&gt;Figure 4&lt;/a&gt;.&lt;/p&gt;
&lt;div class="row full_screen_margin_80 mobile_responsive_plot_full_width" id="fig-4"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/liquid_sg_ghv_gas_vs_mw.png" style="margin-bottom: 10px;"/&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 4:&lt;/strong&gt; Scatter plot of known compounds upto n-hexadecane (C16H34) listed in the GPA 2145 table.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="solution_panel closed" style="margin-top: -10px"&gt;
&lt;div class="solution_title"&gt;
&lt;p class="solution_title_string"&gt;Source Code For Figure (4)&lt;/p&gt;
&lt;ul class="nav navbar-right panel_toolbox"&gt;
&lt;li&gt;&lt;a class="collapse-link"&gt;&lt;i class="fa fa-chevron-down"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="clearfix"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="solution_content"&gt;
&lt;pre&gt;
            &lt;code class="language-python"&gt;
import pandas as pd
import matplotlib.pyplot as plt

df = pd.read_csv('https://aegis4048.github.io/downloads/notebooks/sample_data/GPA 2145-16_Compound_Properties_Table_English_Truncated_and_PNA_Identified.csv')

# Labeling for displaying texts
labels = ['methane', 'propane', 'n-butane', 'n-heptane', 'n-octane', 'n-decane', 'cyclohexane', 'cyclopentane', 'ethane',
'n-dodecane','n-tetradecane','n-hexadecane', 'methanol', 'ethanol', 'naphthalene', 'isobutylcyclopentane', 'hydrogen',
 'sulfur dioxide', 'hydrogen sulfide', 'toluene', 'benzene', 'm-xylene', 'pentylbenzene', 'hexylbenzene',
         'propylene', '1-butene'
         ]
df['Display Text'] = df['Compound'].isin(labels)

BTEX_idx = df[df['Is BTEX'] == True].index
aromatic_idx = df[df['Is Aromatic'] == True].index
non_HC_idx = df[df['Is Hydrocarbon'] == False].index
hydroxyl_idx = df[df['Is Hydroxyl'] == True].index
paraffinic_idx = df[df['Is Paraffinic'] == True].index
naphethenic_idx = df[df['Is Naphthenic'] == True].index
other_idx = df[df['Others'] == True].index
whole_idx = list(df.index)

x = df['Molar Mass [g/mol]']
y = df['Gross Heating Value Ideal Gas [Btu/ft^3]']

##################################### Plotting #######################################

fig, ax = plt.subplots(figsize=(8, 4.5))

alpha = 1
_1 = ax.scatter(x.loc[paraffinic_idx], y.loc[paraffinic_idx], s=50, edgecolor='k', alpha=alpha, label='Paraffinic')
_2 = ax.scatter(x.loc[naphethenic_idx], y.loc[naphethenic_idx], s=50, edgecolor='k', alpha=alpha, label='Naphthenic')
_3 = ax.scatter(x.loc[aromatic_idx], y.loc[aromatic_idx], s=50, edgecolor='k', alpha=alpha, label='Aromatic/BTEX')
_4 = ax.scatter(x.loc[hydroxyl_idx], y.loc[hydroxyl_idx], s=50, edgecolor='k', alpha=alpha, label='Hydroxylic')
_5 = ax.scatter(x.loc[non_HC_idx], y.loc[non_HC_idx], s=50, edgecolor='k', alpha=alpha, label='Non-HCs')
_6 = ax.scatter(x.loc[other_idx], y.loc[other_idx], s=50, edgecolor='k', alpha=alpha, label='Other-HCs')

c1 = _1.get_facecolor()[0]
c2 = _2.get_facecolor()[0]
c3 = _3.get_facecolor()[0]
c4 = _4.get_facecolor()[0]
c5 = _5.get_facecolor()[0]
c6 = _6.get_facecolor()[0]

ax.legend(fontsize=9, ncol=3)

texts = df['Compound']
for i, txt in enumerate(texts):
    if df['Display Text'].loc[i]:
        c = c5
        ha ='left'
        va = 'top'

        if df['Is Paraffinic'].loc[i]: 
            c = c1
            ha ='right'
            va = 'bottom'
        if df['Is Naphthenic'].loc[i]:
            c = c2
            ha ='right'
            va = 'bottom'
        if df['Is Aromatic'].loc[i]:
            c = c3
            va = 'top'
            ha = 'left'
        if df['Is Hydroxyl'].loc[i]:
            c = c4
            va = 'bottom'
            ha = 'left'
        if df['Others'].loc[i]:
            c = c6
            va = 'top'
            ha = 'left'

        if ha == 'left':
            icr = 3
        else:
            icr= -3

        ax.annotate(txt, (x.loc[i] + icr, y.iloc[i]), fontsize=10, c=c, ha=ha, va=va)

ax.minorticks_on()
ax.grid(axis='y', which='major', linestyle='--', color='grey', alpha=0.5)
#ax.grid(axis='y', which='minor', linestyle='--', color='grey', alpha=0.2)
#ax.grid(axis='x', which='minor', color='grey', linestyle='--', alpha=0.2)
ax.grid(axis='x', which='major', color='grey', linestyle='--', alpha=0.5)
ax.spines['top'].set_visible(False)
ax.spines['right'].set_visible(False)

ax.set_xlabel('Molecular Weight', fontsize=11)
ax.set_ylabel('Gross Heating Value [Btu/scf]', fontsize=11)
ax.text(0.99, 0.1, 'aegis4048.github.io', fontsize=12, ha='right', va='center',
    transform=ax.transAxes, color='grey', alpha=0.5)

#ax.set_xlim(0, 1)
#ax.set_ylim(10000, 30000)

def setbold(txt):
    return ' '.join([r"$\bf{" + item + "}$" for item in txt.split(' ')])

bold_txt = setbold('GHV_{gas} vs. MW')
plain_txt = ', for different compound groups'

fig.suptitle(bold_txt + plain_txt, verticalalignment='top', x=0, horizontalalignment='left', fontsize=12, y=0.96)
yloc = 0.88
ax.annotate('', xy=(0.01, yloc + 0.01), xycoords='figure fraction', xytext=(1.02, yloc + 0.01),
            arrowprops=dict(arrowstyle="-", color='k', lw=0.7))

ax.annotate('Data source: GPA 2145-16', xy=(-0.11, -.12), xycoords='axes fraction', fontsize=9)

fig.tight_layout()
            &lt;/code&gt;
        &lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="1.4.-Higher-dew-point-temperature"&gt;1.4. Higher dew point temperature&lt;a class="anchor-link" href="#1.4.-Higher-dew-point-temperature"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Gas dew point temperatures are critical for compressor applications. In high-pressure setups, like those using reciprocating compressors, accurate dew point calculations help define design parameters for compression chambers and ensure liquid knockout scrubbers are properly sized. For lower-pressure applications (below 300 psig), such as oil-flooded screw compressors, dew point control is essential to prevent liquid condensation during compression, which can lead to lube oil contamination.&lt;/p&gt;
&lt;p&gt;The specific gravity of a mixture affects its dew and bubble points. While the relationship isn’t perfectly linear, heavier mixtures generally exhibit higher dew points at the same pressure than lighter ones. &lt;a class="internal-link" href="#fig-5"&gt;Figure 5&lt;/a&gt; illustrates this effect with vapor samples from the same tank in different seasons. The summer sample, with a higher specific gravity, has a dew point temperature of 222°F at 600 psig, while the lighter winter sample has a dew point of 184°F—a significant difference that could impact operations.&lt;/p&gt;
&lt;p&gt;In this 600 psig scenario, which exceeds the operating capacity of screw compressors, reciprocating compressors are required. For reciprocating compressors, scrubber sizing for liquid knockout is heavily influenced by dew point temperature. A scrubber sized based on a winter sample may be undersized for summer operations, risking liquid carryover during higher-temperature seasons.&lt;/p&gt;
&lt;div class="row" id="fig-5"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/seasonal_phase_envelope_winter_vs_summer.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 5:&lt;/strong&gt; Phase envelopes of tank vapor samples under summer and winter conditions. The dashed line represents the winter sample, while the solid line represents the summer sample. The winter sample has an energy content of 2021 Btu/scf, whereas the summer sample is richer at 2317 Btu/scf. Yellow diamonds mark the dew point temperatures at 600 psig, showing the summer sample's higher dew point of 222°F compared to the winter sample’s 184°F.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="solution_panel closed" style="margin-top: -10px"&gt;
&lt;div class="solution_title"&gt;
&lt;p class="solution_title_string"&gt;Source Code For Figure (5)&lt;/p&gt;
&lt;ul class="nav navbar-right panel_toolbox"&gt;
&lt;li&gt;&lt;a class="collapse-link"&gt;&lt;i class="fa fa-chevron-down"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="clearfix"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="solution_content"&gt;
&lt;pre&gt;
            &lt;code class="language-python"&gt;
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt

df = pd.read_excel('https://aegis4048.github.io/downloads/notebooks/sample_data/seasonal_impact_data.xlsx', sheet_name='Bakken Envelope')
df.sort_values(by='Month')

fig, ax = plt.subplots(figsize=(8, 4.5))

months = sorted(list(set(df['Month'])))
lss = ['--', '-']
for ls, month in zip(lss, months):

    df_cur = df[df['Month'] == month]
    x_crit = df_cur['Critical T [°F]'].values[0]
    y_crit = df_cur['Critical P [psig]'].values[0]
    df_cur = df_cur[df_cur['Pressure [psig]'] - y_crit &lt; 20] # filter to remove outliers in sim results


    x_dew = df_cur[df_cur['Curve Type'] == 'Dew']['Temperature [°F]'].values
    y_dew = df_cur[df_cur['Curve Type'] == 'Dew']['Pressure [psig]'].values

    x_bubble = df_cur[df_cur['Curve Type'] == 'Bubble']['Temperature [°F]'].values
    y_bubble = df_cur[df_cur['Curve Type'] == 'Bubble']['Pressure [psig]'].values

    ax.plot(x_bubble, y_bubble, label=month + ': Bubble Point', ls=ls, color='red')
    ax.plot(x_dew, y_dew, label=month + ': Dew Point', ls=ls, color='blue')
    ax.scatter(x_crit, y_crit, s=60, edgecolor='k', fc='white', zorder=3, label='Critical Point')


ax.set_ylim(0, 1199)
ax.set_xlabel('Temperature [°F]')
ax.set_ylabel('Pressure [psig]')


ax.grid(True)
ax.spines['top'].set_visible(False)
ax.spines['right'].set_visible(False)

ax.minorticks_on()
ax.grid(axis='both', which='minor', color='grey', linestyle='--', alpha=0.2)

ax.scatter(184, 600, marker='D', s=60, fc='yellow', edgecolor='purple', zorder=10, label='Dew Point T @600 psig')
ax.scatter(222, 600, marker='D', s=60, fc='yellow', edgecolor='purple', zorder=10)

ax.text(184, 610, 'Dew T=184F°', fontsize=10, ha='right', va='bottom', color='purple')
ax.text(107, 550, '(Winter)', fontsize=10, ha='left', va='bottom', color='purple')

ax.text(230, 610, 'Dew T=222F°', fontsize=10, ha='left', va='bottom', color='purple')
ax.text(230, 550, '(Summer)', fontsize=10, ha='left', va='bottom', color='purple')

handles, labels = ax.get_legend_handles_labels()
handles.pop(-2)
labels.pop(-2)
ax.legend(handles[:], labels[:], ncol=2)


ax.text(0.98, 0.08, 'aegis4048.github.io', fontsize=10, ha='right', transform=ax.transAxes, color='grey', alpha=0.5)
def setbold(txt):
    return ' '.join([r"$\bf{" + item + "}$" for item in txt.split(' ')])

bold_txt = setbold('Dew Point T. Difference In Summer vs. Winter')
plain_txt = ', for tank vapor line'
fig.suptitle(bold_txt + plain_txt, verticalalignment='top', x=0, horizontalalignment='left', fontsize=11)
yloc = 0.9
ax.annotate('', xy=(0.01, yloc + 0.01), xycoords='figure fraction', xytext=(1.02, yloc + 0.01),
            arrowprops=dict(arrowstyle="-", color='k', lw=0.7))


fig.tight_layout()
            &lt;/code&gt;
        &lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="1.5.-More-stabilized-crude-oil-(RVP)"&gt;1.5. More stabilized crude oil (RVP)&lt;a class="anchor-link" href="#1.5.-More-stabilized-crude-oil-(RVP)"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Increased vapor generation rate inside a tank means that the stored liquid becomes more stabilized, with less volatiles because those dissolved volatiles in the crude escaped the system through a vent line (vented to air, captured, or flared). This can be seen in &lt;a class="internal-link" href="#fig-2"&gt;Figure 2&lt;/a&gt;, in which the Reid Vapor Pressure (RVP) for higher temperature vessel (150F) is lower (RVP=8.84 psi) than the lower T vessel (100F, RVP=9.74 psi). Lower RVP means more stable crude. &lt;a href="https://www.epa.gov/gasoline-standards/gasoline-reid-vapor-pressure" target="_blank"&gt;EPA Gasoline Reid Vapor Pressure&lt;/a&gt; requires storage gasoline to have RVP value lower than 9 to 7.8 psi to reduce emissions of volatile organic compounds (VOCs).&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="2.-Simulation-Setups"&gt;2. Simulation Setups&lt;a class="anchor-link" href="#2.-Simulation-Setups"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;This section details the simulation setups and assumptions used to investigate the impact of seasonal temperature changes on storage tank emissions.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="2.1.-Site-(operational)-setups"&gt;2.1. Site (operational) setups&lt;a class="anchor-link" href="#2.1.-Site-(operational)-setups"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;A generic upstream facility structure is used for simulations. Reservoir fluid flows up the production tubing to the wellhead, then to a 2-phase separator, a heater treater, and finally to atmospheric storage tanks. &lt;a class="internal-link" href="#fig-6"&gt;Figure 6&lt;/a&gt; shows facility modeling done with Promax.&lt;/p&gt;
&lt;div class="row" id="fig-6"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/seasonal_sim_screenshot1.png"/&gt;&lt;/div&gt;
&lt;div class="col-12"&gt;
&lt;p class="image-description"&gt;
&lt;strong&gt;Figure 6:&lt;/strong&gt; Generic upstream facility modeling done in BR&amp;E Promax. This simulation assumes an ambient air temperature of 15.5°F in Williston, ND, in December (see &lt;a class="internal-link" href="#table-1"&gt;Table 1&lt;/a&gt; below for regional seasonal temperature data). All operating parameters are held constant except timeframe (month) and ambient air temperature across various locations to observe the impact of seasonal temperature changes on tank emission volumes.
        &lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="ordered-list"&gt;
&lt;h2&gt;Assumptions&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Generic upstream oil and gas facility with wellhead.&lt;/li&gt;
&lt;li&gt;2-phase separator operating at 150 psig.&lt;/li&gt;
&lt;li&gt;VRU discharge pressure set equal to separator pressure: 150 psig.&lt;/li&gt;
&lt;li&gt;Wellhead temperature: 140°F.&lt;/li&gt;
&lt;li&gt;3-phase heater treater operating at 30 psig, 120°F.&lt;/li&gt;
&lt;li&gt;Atmospheric oil tank operating at 0.6 psig, with temperature affected by ambient air and incoming fluid temperature.&lt;/li&gt;
&lt;li&gt;47° API oil.&lt;/li&gt;
&lt;li&gt;Sales gas energy content: 1203 Btu/scf, specific gravity: 0.69.&lt;/li&gt;
&lt;li&gt;Facility production rates: 15 MMSCFD (gas), 3000 BOPD (oil), and 2000 BWPD (water).&lt;/li&gt;
&lt;li&gt;Four standard 750 BBL &lt;a class="internal-link" href="#API_12F_Tanks"&gt;API 12F oil storage tanks&lt;/a&gt; (15.5' x 24', tan-colored).&lt;/li&gt;
&lt;li&gt;Water tank sizing omitted for simplicity; water tank temperature assumed to match oil tank temperature.&lt;/li&gt;
&lt;li&gt;Timeframe (month) and location are the only variables that change for each simulation run.&lt;/li&gt;
&lt;li&gt;Compression boost for heater treater gas to salesline is omitted for simplicity, as it doesn't affect downstream tank conditions. Common handling strategies for HT gas include: 1) Installing an additional booster compressor dedicated to HT gas, 2) Routing the gas line to tank inlets so HT gas can be handled by the tank VRU along with tank vapors, and 3) Using a 3-way control system to enable a single compressor to handle both the tank gas line (0.6 psig) and HT gas line (30 psig).
        &lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;&lt;div id="Notes_Flash_breathing_working_and_loading_losses"&gt;&lt;/div&gt;&lt;div class="alert alert-info"&gt;
&lt;h4&gt;Notes: Flash, Breathing, Working, and Loading Losses&lt;/h4&gt;
&lt;p&gt;AP-42 calculation methods (see &lt;a class="internal-link" href="#2.2.-Software-(Promax)-&amp;-calculation-methods-(AP42-Chap-7)"&gt;below&lt;/a&gt;) for atmospheric storage tanks provide calculation methods for four vaporization types: flash, working, breathing, and loading.&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;&lt;strong&gt;Flash:&lt;/strong&gt; Rapid release of dissolved gases from liquid due to a pressure drop from high to low pressure&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Working:&lt;/strong&gt; Occurs during tank filling operations. As the liquid level rises, vapor space pressure increases, expelling vapors through the roof vent. Although not included in AP-42 methods, working loss can also involve vaporization from turbulence and vapor/liquid contact due to splash loading. Downcomers (submerged loading) help reduce splash losses.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Breathing:&lt;/strong&gt; Vaporization caused by day (hot) vs night (cold) temperature differences.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Loading:&lt;/strong&gt; Results from inefficiencies during truck-loading operations.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="2.2.-Software-(Promax)-&amp;-calculation-methods-(AP42-Chap-7)"&gt;2.2. Software (Promax) &amp; calculation methods (AP42 Chap 7)&lt;a class="anchor-link" href="#2.2.-Software-(Promax)-&amp;-calculation-methods-(AP42-Chap-7)"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;a href="https://www.bre.com/ProMax-Main.aspx" target="_blank"&gt;BR&amp;E Promax&lt;/a&gt; is a process simulation software widely used in the oil and gas industry. One of it's features include implementation storage tank emission calculation methods outlined in &lt;a href="https://www.epa.gov/air-emissions-factors-and-quantification/ap-42-fifth-edition-volume-i-chapter-7-liquid-storage-0" target="_blank"&gt;AP42 Chapter 7: Liquid Storage Tanks&lt;/a&gt;. The chapter explains emission mechanism for fixed and floating roof tanks for various tank dimensions, structures, paint color, location, month of year, etc. The site simulation setup for this article assumes upstream facility, which traditionally use standardized API 12F tanks. Some of the key inputs used in AP42 can be taken from standard API 12F tank specs such as dimensions (15.5' x 24' for 750 BBL capacity), design pressure (16 oz vent and 1 oz vacuum safety), and tank geometry (fixed roof vertical cylinder).&lt;/p&gt;
&lt;div id="API_12F_Tanks"&gt;&lt;/div&gt;
&lt;div class="alert alert-info"&gt;
&lt;h4&gt;Notes: API 12F Tanks&lt;/h4&gt;
&lt;p&gt;API 12F tanks are standardized storage tanks primarily used in upstream oil and gas production facilities to store crude oil and produced water at atmospheric pressure. Designed and built to the specifications set by the American Petroleum Institute (API), these tanks are widely used due to their reliability, uniformity, and compatibility with industry standards.&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;&lt;strong&gt;Standardized Design:&lt;/strong&gt; API 12F tanks follow strict specifications for dimensions, shape, thickness, reinforcement details, and materials (typically carbon steel) with welded construction to ensure durability and strength. Standardized capacities range from 90 to 1,000 BBL.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Design Pressure:&lt;/strong&gt; Tanks are equipped with a pressure relief mechanism to keep operating pressure below 16 oz (1 psig) to prevent explosion, and a vacuum relief mechanism to stay above 1 oz, preventing implosion.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Compliance and Safety:&lt;/strong&gt; For facilities near commercial or residential areas, API guidelines recommend an additional pressure/vacuum relief mechanism for emergency scenarios, set to release at 24 oz for overpressure and 1.5 oz for vacuum. Most remote wellsites in the field do not require this extra installation.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Vent Line Connection Sizing:&lt;/strong&gt; The guidelines specify minimum pipe diameters for roof vent lines, especially critical when not venting directly to air. This sizing ensures minimal pressure drop between the vent line and emission control system (e.g., VRU or flare). Typical tank operating pressure is below 0.6 psig, allowing only a small margin to ensure vapor flow to the VRU or flare. Even minor pressure drops from friction can restrict flow, leading to overpressurization and triggering relief valves on the tanks, which results in unwanted emissions. Pipe diameters must be large enough to prevent any pressure drop due to friction that could block flow.&lt;/p&gt;
&lt;div class="row" id="fig-A"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/seasonal_API12F1.png" style="border: 1px solid #ddd;"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure A:&lt;/strong&gt; API 12F tank standard specifications at different nominal capacities, screenshot from API 12F 13th edition, 2019.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="2.3.-Regional-ambient-air-temperatures-data"&gt;2.3. Regional ambient air temperatures data&lt;a class="anchor-link" href="#2.3.-Regional-ambient-air-temperatures-data"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;i&gt;AP-42 Chapter 7 Table 7.1-7. Meteorological Data for Selected U.S. Locations&lt;/i&gt; provides average monthly temperatures for all 12 months across various locations. Key oil and gas regions' average temperatures are summarized in &lt;a class="internal-link" href="#table-1"&gt;Table 1&lt;/a&gt;. Notably, the Bakken region shows the largest seasonal temperature difference between summer and winter, leading to the highest seasonal variation in emission volumes (56%), compared to regions like Eagle Ford (22%), as summarized in &lt;a class="internal-link" href="#table-2"&gt;Table 2&lt;/a&gt;.&lt;/p&gt;
&lt;div class="row" id="table-1"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/seasonal_locations.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Table 1:&lt;/strong&gt; Seasonal temperature data for key U.S. locations, selected from &lt;i&gt;AP-42 Chapter 7 Table 7.1-7&lt;/i&gt;, matched to corresponding basins. Rows are sorted by locations with the highest to lowest temperature differences between January and July.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="3.-Simulation-results"&gt;3. Simulation results&lt;a class="anchor-link" href="#3.-Simulation-results"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;a class="internal-link" href="#table-2"&gt;Table 2&lt;/a&gt; shows storage tank simulation results for quantifying the seasonal contrast for summer vs winter for tank vapor rates and other properties. The colder the region, such as in Bakken, Powder River, and Marcellus, the greater was the differences due to greater seosonal T difference than warmer regions in Texas. Bakken region showed the greated seasonal tank flash rate increase of 56% in summer compared to winter, while Eagleford showed the lowest increase of 22%.&lt;/p&gt;
&lt;p&gt;My simulation result table can be downloaded from here: &lt;a class="ico xls" href="https://aegis4048.github.io/downloads/notebooks/sample_data/seasonal_impact_data.xlsx" target="_blank"&gt;Storage Tank Emissions Simulation Data&lt;/a&gt; &lt;strong&gt;(seasonal_impact_data.xlsx)&lt;/strong&gt;&lt;/p&gt;
&lt;div class="row" id="table-2"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/seasonal_summary_table1.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Table 2:&lt;/strong&gt; Storage tank simulation result table contrasting seasonal differences for summer vs. winter for tank vapor line with assumed setups detailed in &lt;a class="internal-link" href="#2.-Simulation-Setups"&gt;Simulation Setups&lt;/a&gt; above. Air T (°F) is regional seasonal ambient air temperature taken from &lt;a class="internal-link" href="#table-1"&gt;Table 1&lt;/a&gt;. Tank T (°F) is the operating temperature of the storage tank, affected by upstream heater treater temperature (120F in this setup), and ambient air temperature. RVP (psia), Reid Vapor Pressure,  is taken from &lt;i&gt;"Prod. Oil"&lt;/i&gt; stream in &lt;a class="internal-link" href="#fig-6"&gt;Figure 6&lt;/a&gt;. Dew T (°F) taken from &lt;i&gt;"VRU Discharge"&lt;/i&gt; stream in &lt;a class="internal-link" href="#fig-6"&gt;Figure 6&lt;/a&gt;. This is the dew point temperature of the compressed gas at 150 psig. The rest of the properties, Gas (MCFD), SG, and GHV (Btu/scf) are taken from stream &lt;i&gt;"Total Vapor"&lt;/i&gt;. The biggest seasonal contrast occur between Jan vs. July due to the greatest air T difference. &lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="highlights red-theme" id="warning-regional"&gt;
&lt;div class="highlights-title red-theme"&gt;WARNING: Important Assumption Regarding "Regional" Data&lt;/div&gt;
&lt;div class="highlights-content red-theme"&gt;
        It’s important to clarify that the simulation results for each region are based solely on variations in temperature across different time frames and locations. All other parameters—such as reservoir-specific compositions, pressure, and temperature conditions of vessels—are held constant. In other words, when referencing results for "Bakken Shale," this does not imply that sample compositional data is obtained from Bakken wells. Only the regional temperature data is adjusted. The purpose of keeping all other variables static, aside from temperature, is to isolate and observe the sole impact of seasonal temperature variations across regions. This provides a clearer idea of how much more flash volume can be expected in summer compared to winter at different key regions.
    &lt;/div&gt;
&lt;/div&gt;&lt;div class="highlights red-theme" id="warning-dewpoint"&gt;
&lt;div class="highlights-title red-theme"&gt;WARNING: Dew Point Sensitivity To Compositions&lt;/div&gt;
&lt;div class="highlights-content red-theme"&gt;
                Dew point temperature (which is part of phase envelope) is highly sensitive to composition. The fact that it showed maximum dew point T difference of only 12F (168F vs 190.7F at winter vs. summer) for Bakken in the sim result table should not be assumed to be similar for other similar applications too. For example in &lt;a class="internal-link" href="#fig-5"&gt;Figure 5&lt;/a&gt;, dew point temperature difference at 150 psig is approximately 40 degrees for winter vs summer. However, other parameters are relatively less senstive to composition variations, and can be referenced for general applications.
    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="4.-Conclusion"&gt;4. Conclusion&lt;a class="anchor-link" href="#4.-Conclusion"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;1.&lt;/strong&gt; When an upstream liquid line flows into a separator vessel, it enters as 100% liquid, with separation occurring inside the vessel. Changing the vessel’s operating temperature or pressure shifts the fluid’s position on a phase envelope, altering its vapor fraction inside a vessel (see &lt;a class="internal-link" href="#1.1.-Flash-volume-increase"&gt;1.1. Flash volume increase&lt;/a&gt; and &lt;a class="internal-link" href="#fig-3"&gt;Figure 3&lt;/a&gt; above), and compositions of the separated outlet lines. This same phenomenon applies to atmospheric applications like storage tanks.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.&lt;/strong&gt; Increasing a vessel’s temperature raises flash volume, producing a heavier (richer) separated gas with higher energy content and a higher dew point temperature at a given pressure. For the oil line, higher temperature lowers the crude oil’s Reid Vapor Pressure (RVP), meaning the crude is more stabilized as more volatiles have separated into the gas line.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3.&lt;/strong&gt; Emission handling systems (flares or vapor recovery units) should be sized to manage increased gas volume and gravity during summer compared to winter.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4.&lt;/strong&gt; Summer flash volume increases ranged from 20–30% in Texas regions (Eagle Ford, Delaware, Midland) and from 50–60% in North Dakota (Bakken), compared to winter.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5.&lt;/strong&gt; Colder regions have larger temperature differences between summer and winter, resulting in a greater seasonal variation in tank vapor emissions.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;6.&lt;/strong&gt; See &lt;a class="internal-link" href="#table-2"&gt;Table 2&lt;/a&gt; for a summary of simulation results showing the impact of monthly air temperature on tank vapor emissions by region.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="oil-and-gas"></category><category term="oil"></category><category term="gas"></category><category term="process engineering"></category><category term="ProMax"></category><category term="measurements"></category><category term="gas-sample"></category><category term="separators"></category><category term="VRU"></category><category term="heaters"></category><category term="storage-tank"></category><category term="emissions"></category><category term="API12F"></category><category term="RVP"></category><category term="dew-point"></category><category term="flash"></category><category term="basins"></category></entry><entry><title>H₂S Levels: Why High-Pressure Samples Don't Tell the Full Story</title><link href="https://aegis4048.github.io/h2s-levels-why-high-pressure-samples-dont-tell-the-full-story" rel="alternate"></link><published>2024-05-06T00:00:00-07:00</published><updated>2024-05-06T00:00:00-07:00</updated><author><name>ERIC KIM</name></author><id>tag:aegis4048.github.io,2024-05-06:/h2s-levels-why-high-pressure-samples-dont-tell-the-full-story</id><summary type="html">&lt;style type="text/css"&gt;/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI escape sequences */
/* The color values are a mix of
   http://www.xcolors.net/dl/baskerville-ivorylight and
   http://www.xcolors.net/dl/euphrasia */
.ansi-black-fg {
  color: #3E424D;
}
.ansi-black-bg {
  background-color: #3E424D;
}
.ansi-black-intense-fg {
  color: #282C36;
}
.ansi-black-intense-bg {
  background-color: #282C36;
}
.ansi-red-fg {
  color: #E75C58;
}
.ansi-red-bg {
  background-color: #E75C58;
}
.ansi-red-intense-fg {
  color …&lt;/style&gt;</summary><content type="html">&lt;style type="text/css"&gt;/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI escape sequences */
/* The color values are a mix of
   http://www.xcolors.net/dl/baskerville-ivorylight and
   http://www.xcolors.net/dl/euphrasia */
.ansi-black-fg {
  color: #3E424D;
}
.ansi-black-bg {
  background-color: #3E424D;
}
.ansi-black-intense-fg {
  color: #282C36;
}
.ansi-black-intense-bg {
  background-color: #282C36;
}
.ansi-red-fg {
  color: #E75C58;
}
.ansi-red-bg {
  background-color: #E75C58;
}
.ansi-red-intense-fg {
  color: #B22B31;
}
.ansi-red-intense-bg {
  background-color: #B22B31;
}
.ansi-green-fg {
  color: #00A250;
}
.ansi-green-bg {
  background-color: #00A250;
}
.ansi-green-intense-fg {
  color: #007427;
}
.ansi-green-intense-bg {
  background-color: #007427;
}
.ansi-yellow-fg {
  color: #DDB62B;
}
.ansi-yellow-bg {
  background-color: #DDB62B;
}
.ansi-yellow-intense-fg {
  color: #B27D12;
}
.ansi-yellow-intense-bg {
  background-color: #B27D12;
}
.ansi-blue-fg {
  color: #208FFB;
}
.ansi-blue-bg {
  background-color: #208FFB;
}
.ansi-blue-intense-fg {
  color: #0065CA;
}
.ansi-blue-intense-bg {
  background-color: #0065CA;
}
.ansi-magenta-fg {
  color: #D160C4;
}
.ansi-magenta-bg {
  background-color: #D160C4;
}
.ansi-magenta-intense-fg {
  color: #A03196;
}
.ansi-magenta-intense-bg {
  background-color: #A03196;
}
.ansi-cyan-fg {
  color: #60C6C8;
}
.ansi-cyan-bg {
  background-color: #60C6C8;
}
.ansi-cyan-intense-fg {
  color: #258F8F;
}
.ansi-cyan-intense-bg {
  background-color: #258F8F;
}
.ansi-white-fg {
  color: #C5C1B4;
}
.ansi-white-bg {
  background-color: #C5C1B4;
}
.ansi-white-intense-fg {
  color: #A1A6B2;
}
.ansi-white-intense-bg {
  background-color: #A1A6B2;
}
.ansi-default-inverse-fg {
  color: #FFFFFF;
}
.ansi-default-inverse-bg {
  background-color: #000000;
}
.ansi-bold {
  font-weight: bold;
}
.ansi-underline {
  text-decoration: underline;
}
/* The following styles are deprecated an will be removed in a future version */
.ansibold {
  font-weight: bold;
}
.ansi-inverse {
  outline: 0.5px dotted;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  position: relative;
  overflow: visible;
}
div.cell:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: transparent;
}
div.cell.jupyter-soft-selected {
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected,
div.cell.selected.jupyter-soft-selected {
  border-color: #ababab;
}
div.cell.selected:before,
div.cell.selected.jupyter-soft-selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #42A5F5;
}
@media print {
  div.cell.selected,
  div.cell.selected.jupyter-soft-selected {
    border-color: transparent;
  }
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
}
.edit_mode div.cell.selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #66BB6A;
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell &gt; div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area &gt; div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area &gt; div.highlight &gt; pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the &lt;head&gt; if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  /* Note that this should set vertical padding only, since CodeMirror assumes
       that horizontal padding will be set on CodeMirror pre */
  padding: 0.4em 0;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. This sets horizontal padding only,
    use .CodeMirror-lines for vertical */
  padding: 0 0.4em;
  border: 0;
  border-radius: 0;
}
.CodeMirror-cursor {
  border-left: 1.4px solid black;
}
@media screen and (min-width: 2138px) and (max-width: 4319px) {
  .CodeMirror-cursor {
    border-left: 2px solid black;
  }
}
@media screen and (min-width: 4320px) {
  .CodeMirror-cursor {
    border-left: 4px solid black;
  }
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev &lt;Maniac@SoftwareManiacs.Org&gt;
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
div.output_area .mglyph &gt; img {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 1px 0 1px 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}
.rendered_html ul:not(.list-inline),
.rendered_html ol:not(.list-inline) {
  padding-left: 2em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}





.rendered_html pre,




.rendered_html tr,
.rendered_html th,


.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,


.rendered_html * + .alert {
  margin-top: 1em;
}
[dir="rtl"] 
div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell &gt; div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.rendered .rendered_html tr,
.text_cell.rendered .rendered_html th,
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.text_cell .dropzone .input_area {
  border: 2px dashed #bababa;
  margin: -1px;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
&lt;/style&gt;
&lt;style type="text/css"&gt;pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.highlight .hll { background-color: #ffffcc }
.highlight { background: #f8f8f8; }
.highlight .c { color: #3D7B7B; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #3D7B7B; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #3D7B7B; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #9C6500 } /* Comment.Preproc */
.highlight .cpf { color: #3D7B7B; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #3D7B7B; font-style: italic } /* Comment.Single */
.highlight .cs { color: #3D7B7B; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .ges { font-weight: bold; font-style: italic } /* Generic.EmphStrong */
.highlight .gr { color: #E40000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #008400 } /* Generic.Inserted */
.highlight .go { color: #717171 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #687822 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #717171; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #CB3F38; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #767600 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #AA5D1F; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #A45A77; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #A45A77 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */&lt;/style&gt;&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;H₂S (hydrogen sulfide) measurement is crucial in process engineering for several reasons: 1) regulatory compliance, 2) personnel safety, and 3) maintaining equipment integrity. Different safety and environmental standards protect both people and the environment, and costs associated with equipment damage vary based on the ppm levels of H₂S, making accurate measurements essential.&lt;/p&gt;
&lt;p&gt;One problem I've noticed in the energy industry is the assumption that gas sample lab analysis from one pressure point remains representative at other pressure points. For example, operators often take the 20 ppm H₂S value measured from the primary pressurized separator (typically operating between 100–1000 psig), and re-use it for vapor recovery applications, which usually operate at near 0 psig. At this lower pressure, the H₂S ppm can rise to 63 ppm due to phase behavior changes. A model simulating such a facility is shown in &lt;a class="internal-link" href="#fig-1"&gt;Figure 1&lt;/a&gt; below.&lt;/p&gt;
&lt;div class="row" id="fig-1"&gt; &lt;div class="col"&gt;&lt;img src="jupyter_images/H2S_study.png"/&gt;&lt;/div&gt; &lt;div class="col-12"&gt; &lt;p class="image-description"&gt; &lt;strong&gt;Figure 1:&lt;/strong&gt; A model of a typical upstream oil and gas facility, simulated with BR&amp;E Promax. The heater treater is omitted for simplicity (as it doesn't significantly affect downstream conditions, with temperatures high enough to break emulsions in this case). The middle-left vessel (HP Sep #500) is the primary separator, operating at 500 psig and 141°F. The flash gas line (HP Sep. Gas) from this separator reports 20 ppm H₂S, which is higher than the typical 16 ppm midstream requirement and may require sour gas treatment. However, the gas line (Oil Tank Flash) from the oil tank, operating at 0.4 psig, shows 63.4 ppm H₂S. The H₂S value triples at the lower pressure, demonstrating that reusing the 20 ppm value measured at the HP separator for VRU or combustor applications would be inaccurate. This issue is even more severe for the water tank vapor (Water Tank Flash), which reports 302 ppm H₂S. In Oklahoma, according to subsection (c) Storage tank provision of &lt;a href="https://casetext.com/regulation/oklahoma-administrative-code/title-165-corporation-commission/chapter-10-oil-and-gas-conservation/subchapter-3-drilling-developing-and-producing/part-3-completions/section-16510-3-16-operation-in-hydrogen-sulfide-areas" target="_blank"&gt;Okla. Admin. Code § 165:10-3-16&lt;/a&gt;, this requires installation of a warning sign, wind indicator, and fencing. Additionally a flare, vapor recovery, or H₂S stripping system is required.&lt;/p&gt; &lt;/div&gt; &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="display-none" id="toc_container"&gt;
&lt;p class="toc_title"&gt;&lt;i class="fas fa-list"&gt;&lt;/i&gt;Contents&lt;/p&gt;
&lt;ul class="toc_list"&gt;
&lt;li&gt;&lt;a href="#1.-Why-does-H₂S-ppm-levels-matter?"&gt;&lt;span class="toc_label"&gt;1.&lt;/span&gt;
            Why does H₂S ppm levels matter?&lt;/a&gt;&lt;/li&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#1.1-Regulatory-Compliance"&gt;&lt;span class="toc_label"&gt;1.1.&lt;/span&gt;
                Regulatory Compliance&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#1.2-Equipment-Damage"&gt;&lt;span class="toc_label"&gt;1.2.&lt;/span&gt;
                Equipment Damage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#1.3-Personnel-Safety"&gt;&lt;span class="toc_label"&gt;1.3.&lt;/span&gt;
                Personnel Safety&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;li&gt;&lt;a href="#2.-H₂S-measurement-practices-in-upstream-Oil-and-Gas"&gt;&lt;span class="toc_label"&gt;2.&lt;/span&gt;
            H₂S measurement practices in upstream Oil and Gas&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#3.-Understanding-phase-behavior-of-H₂S-and-hydrocarbons"&gt;&lt;span class="toc_label"&gt;3.&lt;/span&gt;
            Understanding phase behavior of H₂S and hydrocarbons&lt;/a&gt;&lt;/li&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#3.1.-Flash-Point-Pressure"&gt;&lt;span class="toc_label"&gt;3.1.&lt;/span&gt;
                Flash Point Pressure&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#3.2.-H₂S-ppm-level-changes-in-vapor-vs-liquid"&gt;&lt;span class="toc_label"&gt;3.2.&lt;/span&gt;
                H₂S ppm level changes in vapor vs liquid&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;li&gt;&lt;a href="#4.-H₂S-sim-results-at-various-production-rates"&gt;&lt;span class="toc_label"&gt;4.&lt;/span&gt;
            H₂S sim results at various production rates&lt;/a&gt;&lt;/li&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#4.1.-Simulation-screenshots"&gt;&lt;span class="toc_label"&gt;4.1.&lt;/span&gt;
                Simulation screenshots&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#4.2.-Simulation-results-summary"&gt;&lt;span class="toc_label"&gt;4.2.&lt;/span&gt;
                Simulation results summary&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;li&gt;&lt;a href="#5.-Conclusion"&gt;&lt;span class="toc_label"&gt;5.&lt;/span&gt;
            Conclusion&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="1.-Why-does-H₂S-ppm-levels-matter?"&gt;1. Why does H₂S ppm levels matter?&lt;a class="anchor-link" href="#1.-Why-does-H₂S-ppm-levels-matter?"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;h3 id="1.1-Regulatory-Compliance"&gt;1.1 Regulatory Compliance&lt;a class="anchor-link" href="#1.1-Regulatory-Compliance"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;In Oklahoma, &lt;a href="https://casetext.com/regulation/oklahoma-administrative-code/title-165-corporation-commission/chapter-10-oil-and-gas-conservation/subchapter-3-drilling-developing-and-producing/part-3-completions/section-16510-3-15-venting-and-flaring" target="_blank"&gt;Okla. Admin. Code § 165:10-3-15 - Venting and Flaring&lt;/a&gt; provides guidelines on when operators can vent or flare gas, depending on the situation. However, in all cases, if H₂S levels exceed 100 ppm, venting is prohibited, and the gas must be flared. It cannot be vented through storage tank thief hatches. This rule applies to scenarios such as initial flowback periods for newly completed or recompleted wells, exploration wells, etc.—all must be flared. The only exception is when the gas to be flared is not of pipeline quality, and this exception can only last for up to 45 days.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://casetext.com/regulation/oklahoma-administrative-code/title-165-corporation-commission/chapter-10-oil-and-gas-conservation/subchapter-3-drilling-developing-and-producing/part-3-completions/section-16510-3-16-operation-in-hydrogen-sulfide-areas" target="_blank"&gt;Okla. Admin. Code § 165:10-3-16 - Operation in hydrogen sulfide areas&lt;/a&gt; applies to upstream facilities with H₂S levels above 20 ppm. &lt;strong&gt;Notably, Subsection (c) requires measuring H₂S concentration 1-ft above the open thief hatches of atmospheric storage tanks. If levels exceed 100 ppm, warning signs, wind indicators, and fencing are required. Additionally, a flare, vapor recovery, or H₂S stripping system must be installed.&lt;/strong&gt; In &lt;a class="internal-link" href="#fig-1"&gt;Figure 1&lt;/a&gt; above, the H₂S ppm level is triple of the 100 ppm threshold, and will most likely need to be monitored. Also, subsection (h) mandates that flaring equipment in public areas be made from hydrogen sulfide stress cracking (HSSC) resistant materials. Material selection guidelines for HSSC resistance can be found in NACE MR-0175/ISO 15156.&lt;/p&gt;
&lt;p&gt;In Texas, the Texas Railroad Commission (RRC) considers oil and gas operations with H₂S levels exceeding 100 ppm as sour gas operations and imposes safety and regulatory requirements (&lt;a href="https://texreg.sos.state.tx.us/public/readtac$ext.TacPage?sl=R&amp;app=9&amp;p_dir=&amp;p_rloc=&amp;p_tloc=&amp;p_ploc=&amp;pg=1&amp;p_tac=&amp;ti=16&amp;pt=1&amp;ch=3&amp;rl=36" target="_blank"&gt;RRC Statewide Rule 36&lt;/a&gt;). On the other hand, the Texas Commission on Environmental Quality (TCEQ) defines sour gas as above 24 ppm and imposes additional restrictions beyond those required by the RRC. The RRC focuses on the safety and operational integrity of oil and gas facilities, while the TCEQ emphasizes air emissions control.&lt;/p&gt;
&lt;h3 id="1.2-Equipment-Damage"&gt;1.2 Equipment Damage&lt;a class="anchor-link" href="#1.2-Equipment-Damage"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Natural gas pipeline companies require H₂S levels to be below 4–16 ppm (depending on the operator) and impose fees if these levels are exceeded to protect their pipelines from damage. Similarly, compressor rental companies also set limits on H₂S concentrations to prevent corrosion and protect their equipment. These thresholds are typically outlined in pipeline or equipment rental specifications.&lt;/p&gt;
&lt;h3 id="1.3-Personnel-Safety"&gt;1.3 Personnel Safety&lt;a class="anchor-link" href="#1.3-Personnel-Safety"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Occupational Safety and Health Administration (OSHA) sets three standards based on ppm limits (note that OSHA ppm measurements are based on air sampling in the work environment, not inside a process stream):&lt;/p&gt;
&lt;div class="highlights" id="key1"&gt;
&lt;div class="highlights-title"&gt;1. Permissible Exposure Limit (PEL)&lt;/div&gt;
&lt;div class="highlights-content"&gt;A ceiling of 20 ppm during an 8-hour work shift. Workers should not be exposed to concentrations exceeding this level at any time during the shift, except under specific short-term conditions.&lt;/div&gt;
&lt;/div&gt;&lt;div class="highlights" id="key2"&gt;
&lt;div class="highlights-title"&gt;2. Short-Term Exposure Limit (STEL)&lt;/div&gt;
&lt;div class="highlights-content"&gt;Workers can be exposed to up to 50 ppm of H₂S, but only for a maximum of 10 minutes. Beyond this, protective measures are mandatory to prevent prolonged exposure.&lt;/div&gt;
&lt;/div&gt;&lt;div class="highlights" id="key3"&gt;
&lt;div class="highlights-title"&gt;3. Immediately Dangerous to Life or Health (IDLH)&lt;/div&gt;
&lt;div class="highlights-content"&gt;Exposure above 100 ppm is immediately dangerous to life and health. Immediate evacuation or the use of self-contained breathing apparatus (SCBA) is required for worker safety.&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="2.-H₂S-measurement-practices-in-upstream-Oil-and-Gas"&gt;2. H₂S measurement practices in upstream Oil and Gas&lt;a class="anchor-link" href="#2.-H₂S-measurement-practices-in-upstream-Oil-and-Gas"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;H₂S measurements in upstream production facilities are rarely done using air detection devices. Typically, a gas sample is taken from a primary pressurized separator, usually operating between 100~1000 psig. The main purpose of this sample is to ensure compliance with gas pipeline specifications (such as water content, H₂S, CO₂, and N₂ levels) and to determine the fair price of the gas, with higher energy content leading to higher value. The sample is sent to a lab for compositional analysis.&lt;/p&gt;
&lt;p&gt;If the operation engineer has concerns about H₂S levels, based on offset well experiences, they may request the lab to specifically report H₂S concentrations at an extra cost. Some labs include this for free, while others charge for it. Often, H₂S is not reported in the standard lab analysis. When asked to provide H₂S ppm numbers, sometime they get a nearby offset well sample analysis that includes H₂S numbers, and report it instead of the actual well they are working on and call it good (which can be, of course, largely inaccurate). &lt;a class="internal-link" href="#fig-2"&gt;Figure 2&lt;/a&gt; shows a real lab sample where H₂S composition is reported, and &lt;a class="internal-link" href="#fig-3"&gt;Figure 3&lt;/a&gt; illustrates a case where H₂S was omitted.&lt;/p&gt;
&lt;p&gt;When H₂S ppm levels are reported by the lab, operators use this information to comply with regulations and meet pipeline and equipment rental specifications. However, issues arise when H₂S ppm values obtained from a pressurized vessel (operating between 100–1000 psig) are applied to atmospheric applications like storage tanks or vapor recovery systems. H₂S concentrations at near-atmospheric pressures can be significantly higher than those measured in high-pressure vessels.&lt;/p&gt;
&lt;p&gt;&lt;a class="internal-link" href="#fig-1"&gt;Figure 1&lt;/a&gt; above illustrates this issue, showing a case where 20 ppm H₂S is reported at a 500 psig separator gas line, but 63.4 ppm and 302 ppm are reported in the gas lines of oil and water storage tanks at 0.4 psig, respectively.&lt;/p&gt;
&lt;p&gt;I witnessed a similar issue at a gas compressor rental company. Operators provided H₂S measurements of 10–15 ppm, but our rental equipment suffered damage consistent with much higher concentrations. Initially, our account managers suspected the customer was either lying or mistaken. However, as this problem occurred repeatedly, they asked me to model the facility and simulate H₂S at the compressor inlet. &lt;strong&gt;&lt;u&gt;My analysis revealed that H₂S ppm values measured at high-pressure separators are not representative of atmospheric applications.&lt;/u&gt;&lt;/strong&gt; As pressure decreases, lighter hydrocarbons like methane and ethane preferentially flash off more quickly than H₂S, leading to an increase in H₂S concentration as the lighter components escape first. Detailed explanation of this phenomenon is provided &lt;a class="internal-link" href="#3.-Understanding-phase-behavior-of-H₂S-and-hydrocarbons"&gt;below&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="row full_screen_margin_80 mobile_responsive_plot_full_width mb-2" id="fig-2"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/H2S_lab_sample_reported.png" style="outline: 1px solid black;"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 2:&lt;/strong&gt; Gas sample analysis from VRU pulling flash gas from upstream atmospheric oil tanks, reporting 0.01% mol frac = 100 ppm H₂S. This is right on the 100 ppm H₂S limit set by &lt;a href="https://casetext.com/regulation/oklahoma-administrative-code/title-165-corporation-commission/chapter-10-oil-and-gas-conservation/subchapter-3-drilling-developing-and-producing/part-3-completions/section-16510-3-15-venting-and-flaring" target="_blank"&gt;Okla. Admin. Code § 165:10-3-15&lt;/a&gt; and cannot be vented.&lt;/p&gt;&lt;/div&gt;&lt;div class="row full_screen_margin_70 mobile_responsive_plot_full_width mb-1" id="fig-3"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/H2S_lab_sample_omitted.png" style="outline: 1px solid black;"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 3:&lt;/strong&gt; Example of a gas analysis from a primary HP separator operating at 959 psia. Although the lab offers an option for H₂S analysis, it was not measured as the customer opted not to pay extra for it.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="3.-Understanding-phase-behavior-of-H₂S-and-hydrocarbons"&gt;3. Understanding phase behavior of H₂S and hydrocarbons&lt;a class="anchor-link" href="#3.-Understanding-phase-behavior-of-H₂S-and-hydrocarbons"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;During oil and gas phase separation and distillation processes, compounds with smaller molecular weights, known as "light-ends," tend to flash off into the gas phase before the "heavy-ends." The exact classification of light-ends versus heavy-ends can vary depending on the context, but for this article, I will use these terms to compare the relative weights of compounds.&lt;/p&gt;
&lt;p&gt;&lt;a class="internal-link" href="#fig-4"&gt;Figure 4&lt;/a&gt; below shows a simulation of reservoir fluid being sequentially separated into gas and liquid phases through 3-stage separation (500 psig, 200 psig, and 0 psig). The fraction of methane, the lightest compound, in each vessel’s gas line sequentially decreases as the 2-phase fluid moves through lower-pressure vessels. Light-ends flash off into the gas phase much faster than heavy-ends. By the time the process stream pressure reaches atmospheric level (0 psig), a significant portion of the light-ends has already escaped in the previous separators, leaving behind a higher concentration of heavy-ends. This also increases the concentration of H₂S because H₂S is heavier than methane and other light-ends have already flashed off.&lt;/p&gt;
&lt;p&gt;&lt;a class="internal-link" href="#table-1"&gt;Table 1&lt;/a&gt; shows the compositional changes in percentage between the 500# flash gas and the 0# flash gas. It also highlights that not only does the absolute fraction of heavy-ends increase relative to light-ends, but the magnitude of such increase is more pronounced for heavier compounds. For example, ethane (MW = 30.07) fraction increased by 376.4%, whereas pentane (MW = 72.15) saw a dramatic 1932% increase.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="row" id="fig-4"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/H2S_phase_behavior_pressure_decrease.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 4:&lt;/strong&gt; Simulation of an upstream facility where reservoir fluid is separated through a series of 3 vessels, modeled using BR&amp;E Promax. The reservoir fluid composition reflects real well fluid properties. Initially, the fluid enters the primary separator at 500 psig, with methane making up 87.3% of the gas line, decreasing to 70.3% and 25.5% in downstream separators as pressure drops. Meanwhile, the concentration of heavier compounds increases due to the reduction of methane. Note the rising energy content (Btu/ft³) and H₂S ppm levels as separator pressures decrease. The H₂S level increased from 18.8 ppm at the high-pressure separator to 129 ppm (a 6.86-fold increase) in the atmospheric tank. This demonstrates that H₂S ppm levels measured at high pressure cannot be directly applied to low-pressure applications.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="row full_screen_margin_100 mobile_responsive_plot_full_width" id="table-1"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/H2S_change_compare.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Table 1:&lt;/strong&gt; Comparison of compositional changes at the 500 psig separator vs. the 0 psig atmospheric tank gas line. Methane fraction decreased as it flashed off first, increasing the concentration of heavier-ends. The magnitude of the change correlates with each compound's molecular weight, with heavier compounds showing greater changes.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="3.1.-Flash-Point-Pressure"&gt;3.1. Flash Point Pressure&lt;a class="anchor-link" href="#3.1.-Flash-Point-Pressure"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Why do light-ends flash to gas before heavy-ends? It’s because the flash point pressure of light-ends is higher than that of heavy-ends. &lt;a class="internal-link" href="#fig-5"&gt;Figure 5&lt;/a&gt; shows the flash point curves of six pure compounds. If the pressure and temperature are to the left of a compound’s curve, it exists as a liquid; if to the right, it exists as vapor.&lt;/p&gt;
&lt;p&gt;Take ethane (orange) as an example. At 80°F, the flash point pressure of ethane is 618 psig. At the same temperature, propane's (red) flash point pressure is 131 psig, which is lower than ethane. Now, assume these two compounds are in the same system (but exist as independent pure compounds) at the same temperature of 80°F (illustrated by the vertical dashed grey line), and the pressure changes from 620 psig to 300 psig and then 100 psig. At 620 psig, both compounds are in liquid form. As pressure drops to 300 psig, ethane will vaporize while propane remains liquid. When pressure drops further to 100 psig, pressure is below both compounds' flash curves, and both will vaporize. This occurs because ethane's flash point curve is higher than propane's, meaning ethane vaporizes first.&lt;/p&gt;
&lt;p&gt;Looking at the figure, you’ll notice that the lighter the compound, the higher its curve, illustrating why lighter compounds preferentially flash to vapor more easily than heavy-ends. &lt;strong&gt;&lt;u&gt;The flash point curve of H₂S is located below (or to the right of) methane and ethane, which explains why methane and ethane vaporize more easily than H₂S.&lt;/u&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="row" id="fig-5"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/H2S_flash_point_pressure.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 5:&lt;/strong&gt; Flash point curves of pure compounds, calculated and generated using Python. Circular markers indicate critical points. Note that the critical point of H₂S extends far outside the plot at 1285 psig and 213°F (not shown), showing a different pattern from the hydrocarbon compounds. This is because H₂S does not contain a carbon atom and, therefore, does not fully follow the characteristics of hydrocarbons. The grey dashed line shows the 80°F isothermal temperature. Downward-triangular markers indicate flash point pressures of various compounds along the 80°F line. However, the 80°F isothermal is located far right of methane's flash curve, meaning it does not intersect. This indicates that methane will always be in a vapor phase, regardless of the pressure, until the pressure is below its critical pressure, after which methane enters a critical phase.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="solution_panel closed"&gt;
&lt;div class="solution_title"&gt;
&lt;p class="solution_title_string"&gt;Source Code For Figure (5)&lt;/p&gt;
&lt;ul class="nav navbar-right panel_toolbox"&gt;
&lt;li&gt;&lt;a class="collapse-link"&gt;&lt;i class="fa fa-chevron-down"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="clearfix"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="solution_content"&gt;
&lt;pre&gt;
            &lt;code class="language-python"&gt;
import CoolProp.CoolProp as CP
import matplotlib.pyplot as plt
import numpy as np


def Pa_to_psi(pa):
    return pa / 6894.745

def K_to_F(K):
    return (K - 273.15) * 1.8 + 32

components = ['Methane', 'Ethane', 'H2S', 'Propane', 'Butane', 'Pentane']
comp_dict = {comp: {} for comp in components}
for comp in components:
    HEOS = CP.AbstractState('HEOS', comp)
    HEOS.set_mole_fractions([1])
    HEOS.build_phase_envelope("dummy")
    PE = HEOS.get_phase_envelope_data()
    comp_dict[comp]['Ts'] = np.array(sorted([K_to_F(item) for item in PE.T]))
    comp_dict[comp]['Ps'] = np.array(sorted([Pa_to_psi(item) - 14.7 for item in PE.p]))

T_unit = 'F'
P_unit ='psig'

fig, ax = plt.subplots(figsize=(8, 4.5))

for comp in components: 
    ax.plot(comp_dict[comp]['Ts'], comp_dict[comp]['Ps'], label=comp)
    ax.scatter(comp_dict[comp]['Ts'][-1], comp_dict[comp]['Ps'][-1], s=40, edgecolor='k', fc='white', zorder=3)

ax.scatter(comp_dict[comp]['Ts'][-1], comp_dict[comp]['Ps'][-1], s=40, edgecolor='k', fc='white', zorder=3)
ax.axvline(x=80, color='grey', linestyle='--')

ax.set_xlabel('Temperature [%s]' % T_unit)
ax.set_ylabel('Pressure [%s]' % P_unit)

ax.grid(True)
ax.spines['top'].set_visible(False)
ax.spines['right'].set_visible(False)
ax.set_xlim(-300, 400)
ax.set_ylim(0, 799)

ax.legend(ncol=3, fontsize=9, loc='upper left')

x_increment = 5
ax.text(73, 799, '80°F Line', fontsize=10, ha='center', va='top', color='grey', rotation=90)

ax.text(80 + x_increment, 617.64, '618# (Ethane)', ha='left', c=plt.rcParams['axes.prop_cycle'].by_key()['color'][1])
ax.text(80 + x_increment, 291.29, '291# (Hydrogen Sulfide)', ha='left', c=plt.rcParams['axes.prop_cycle'].by_key()['color'][2])
ax.text(80 + x_increment, 130.64, '131# (Propane)', ha='left', c=plt.rcParams['axes.prop_cycle'].by_key()['color'][3])
ax.text(80 + x_increment, 22.52, '23# (n-Butane)', ha='left', c=plt.rcParams['axes.prop_cycle'].by_key()['color'][4])

ax.scatter(80, 617.64, marker='v', c=plt.rcParams['axes.prop_cycle'].by_key()['color'][1])
ax.scatter(80, 291.29, marker='v', c=plt.rcParams['axes.prop_cycle'].by_key()['color'][2])
ax.scatter(80, 130.64, marker='v', c=plt.rcParams['axes.prop_cycle'].by_key()['color'][3])
ax.scatter(80, 22.52, marker='v', c=plt.rcParams['axes.prop_cycle'].by_key()['color'][4])

ax.minorticks_on()
ax.grid(axis='both', which='minor', color='grey', linestyle='--', alpha=0.2)

ax.text(0.98, 0.08, 'aegis4048.github.io', fontsize=10, ha='right', transform=ax.transAxes, color='grey', alpha=0.5)
def setbold(txt):
    return ' '.join([r"$\bf{" + item + "}$" for item in txt.split(' ')])


bold_txt = setbold('Pure Compound Flash Points at 80°F, ')
plain_txt = 'Phase Diagram'
fig.suptitle(bold_txt + plain_txt, verticalalignment='top', x=0, horizontalalignment='left', fontsize=11)
yloc = 0.9
ax.annotate('', xy=(0.01, yloc + 0.01), xycoords='figure fraction', xytext=(1.02, yloc + 0.01),
            arrowprops=dict(arrowstyle="-", color='k', lw=0.7))


fig.tight_layout()
            &lt;/code&gt;
        &lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div id="mixture_behavior"&gt;&lt;/div&gt;
&lt;div class="alert alert-info"&gt;
&lt;h4&gt;Notes: Mixture behavior&lt;/h4&gt;
&lt;p&gt;Assume a 50:50 mol fraction binary mixture of ethane and propane at 80°F. In this case, they are mixed, not existing as independent pure compounds. The mixture starts at 1000 psig as 100% liquid. Now, drop the pressure to 300 psig, which is below ethane's flash point but above propane's. Would the mixture be a 2-phase fluid? Yes. However, does this mean the vapor fraction is composed of 100% ethane? No.&lt;/p&gt;
&lt;p&gt;When compounds are mixed and the pressure drops, it doesn't work as if all of the lighter compounds vaporize first, and then, once the pressure drops further, the heavier ones vaporize later. It doesn't work like that. Both compounds vaporize together, but the lighter compound preferentially vaporizes more than the heavier one. &lt;/p&gt;
&lt;p&gt;Running such a simulation in BR&amp;E Promax, one can find that at 80°F and 300 psig, the mixture forms a 2-phase fluid with 35.4% vapor and 64.6% liquid. The vapor phase (35.4%) is composed of 64.8% ethane and 35.2% propane. The liquid phase (64.6%) is composed of 41.9% ethane and 58.1% propane. This distinction needs to be clarified.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="3.2.-H₂S-ppm-level-changes-in-vapor-vs-liquid"&gt;3.2. H₂S ppm level changes in vapor vs liquid&lt;a class="anchor-link" href="#3.2.-H₂S-ppm-level-changes-in-vapor-vs-liquid"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;H₂S ppm levels are typically more problematic in the gas phase because concentrations are higher there than in the liquid phase. As shown in &lt;a class="internal-link" href="#fig-6"&gt;Figure 6&lt;/a&gt;, H₂S levels in the gas phase are consistently higher than in the liquid phase. Additionally, as the reservoir fluid undergoes separation at decreasing pressures, H₂S ppm in the gas phase rises, while it drops in the liquid phase. This trend holds in both 2-phase and 3-phase separations. Why does this happen?&lt;/p&gt;
&lt;p&gt;The answer lies in H₂S's high flash point pressure of 291 psig. At 80°F and 0 psig, H₂S primarily exists in the gas phase. In simpler terms, H₂S prefers the gas phase, although not as much as lighter gases like methane or ethane.&lt;/p&gt;
&lt;p&gt;In contrast, heavier compounds like pentane, hexane, and heptane, which usually end up in crude oil tanks, have much lower flash points. At 80°F, pentane’s flash point is -4.2 psig, hexane’s is -11.7 psig, and heptane’s is -13.8 psig. At atmospheric pressure (0 psig), these compounds mostly stay in the liquid phase.&lt;/p&gt;
&lt;p&gt;Most of the H₂S ends up in the gas phase because of its lower molecular weight and tendency to remain in gas form as pressure decreases. &lt;strong&gt;As pressure drops, H₂S flashes into the gas phase more easily than it dissolves in the liquid.&lt;/strong&gt; Since H₂S has lower solubility in the liquid phase compared to heavier hydrocarbons, it concentrates in the gas phase as pressure decreases, while its presence in the liquid phase lessens.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="row mb-1" id="fig-6"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/H2S_vapor_vs_liquid.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 6:&lt;/strong&gt; Simulation of an upstream facility where reservoir fluid is separated through 3 vessels, modeled using BR&amp;E Promax. The reservoir fluid composition represents real well fluid properties. The simulation shows two key results: 1) H₂S levels are higher in the gas phase than in the liquid phase, and 2) H₂S concentrations increase in the gas phase as separation progresses, while they decrease in the liquid phase. This phenomenon is due to H₂S's high flash point pressure and its preference to flash into the gas phase rather than dissolve into the liquid phase.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="4.-H₂S-sim-results-at-various-production-rates"&gt;4. H₂S sim results at various production rates&lt;a class="anchor-link" href="#4.-H₂S-sim-results-at-various-production-rates"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;In &lt;a class="internal-link" href="#fig-1"&gt;Figure 1&lt;/a&gt; above, H₂S increased from 20 ppm to 60 ppm at oil tank flash, and 300 ppm at water tank flash. This scenario was assuming 1000 BOPD, 500 BWPD, 5 MMSCFD production. How would the ppm values change at different production rates? I provide Promax sim result screenshots in this section for readers to observe and learn. For all scenarios, oil prod is fixed at 1000 BOPD. Water rate ranges between 100 to 2000 BWPD, and gas rate ranges from 2 MMSCFD to 20 MMSCFD. Oil gravity is assumed to be 40° API (impact of API gravity didn't seem to be much after running some simulations).&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="4.1.-Simulation-screenshots"&gt;4.1. Simulation screenshots&lt;a class="anchor-link" href="#4.1.-Simulation-screenshots"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;For summary, navigate down to &lt;a class="internal-link" href="#4.2.-Simulation-results-summary"&gt;4.2. Simulation results summary.&lt;/a&gt;&lt;/p&gt;
&lt;h4 id="4.1.1-100-BWPD"&gt;4.1.1 100 BWPD&lt;a class="anchor-link" href="#4.1.1-100-BWPD"&gt;¶&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;2 MMSCFD&lt;/strong&gt;&lt;/p&gt;
&lt;div class="row"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/hs1.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div&gt;&lt;hr/&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;5 MMSCFD&lt;/strong&gt;&lt;/p&gt;
&lt;div class="row"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/hs2.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div&gt;&lt;hr/&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;10 MMSCFD&lt;/strong&gt;&lt;/p&gt;
&lt;div class="row"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/hs3.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div&gt;&lt;hr/&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;20 MMSCFD&lt;/strong&gt;&lt;/p&gt;
&lt;div class="row"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/hs4.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div&gt;&lt;hr/&gt;&lt;/div&gt;&lt;h4 id="4.1.2-1000-BWPD"&gt;4.1.2 1000 BWPD&lt;a class="anchor-link" href="#4.1.2-1000-BWPD"&gt;¶&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;2 MMSCFD&lt;/strong&gt;&lt;/p&gt;
&lt;div class="row"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/hs5.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div&gt;&lt;hr/&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;5 MMSCFD&lt;/strong&gt;&lt;/p&gt;
&lt;div class="row"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/hs6.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div&gt;&lt;hr/&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;10 MMSCFD&lt;/strong&gt;&lt;/p&gt;
&lt;div class="row"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/hs7.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div&gt;&lt;hr/&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;20 MMSCFD&lt;/strong&gt;&lt;/p&gt;
&lt;div class="row"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/hs8.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div&gt;&lt;hr/&gt;&lt;/div&gt;&lt;h4 id="4.1.3-2000-BWPD"&gt;4.1.3 2000 BWPD&lt;a class="anchor-link" href="#4.1.3-2000-BWPD"&gt;¶&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;2 MMSCFD&lt;/strong&gt;&lt;/p&gt;
&lt;div class="row"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/hs9.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div&gt;&lt;hr/&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;5 MMSCFD&lt;/strong&gt;&lt;/p&gt;
&lt;div class="row"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/hs10.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div&gt;&lt;hr/&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;10 MMSCFD&lt;/strong&gt;&lt;/p&gt;
&lt;div class="row"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/hs11.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div&gt;&lt;hr/&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;17 MMSCFD&lt;/strong&gt; *&lt;/p&gt;
&lt;p&gt;Simulated failed and could not be converged beyond 17 MMSCFD mark, so 17 MMSCFD is reported here instead of 20.&lt;/p&gt;
&lt;div class="row"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/hs_failed_17mmscfd.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div&gt;&lt;hr/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="4.2.-Simulation-results-summary"&gt;4.2. Simulation results summary&lt;a class="anchor-link" href="#4.2.-Simulation-results-summary"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;a class="internal-link" href="#table-2"&gt;Table 2&lt;/a&gt; shows the simulated H₂S ppm levels at various production rates across different process streams. &lt;a class="internal-link" href="#table-3"&gt;Table 3&lt;/a&gt; is a normalized version of Table 2, allowing for easier comparison of how H₂S ppm levels measured at high-pressure conditions change at lower-pressure conditions. Normalization was necessary because H₂S ppm levels at the 500# separator’s gas side fluctuate as production rates (BOPD, BWPD, MMSCFD) change.&lt;/p&gt;
&lt;p&gt;Four key conclusions can be drawn from &lt;a class="internal-link" href="#table-3"&gt;Table 3&lt;/a&gt;:&lt;/p&gt;
&lt;div&gt;&lt;hr/&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;1.&lt;/strong&gt; H₂S ppm levels measured at high-pressure applications should not be used for low-pressure applications due to significant discrepancies.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.&lt;/strong&gt; These discrepancies are more pronounced in water tank flash gas than in oil tank flash gas. For oil tank flash gas, H₂S levels were 2.5 times higher than in the separator gas, whereas for water tank flash gas, the difference was 13–24 times greater. Stricter standards should be applied for water tank flash lines.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3.&lt;/strong&gt; Increasing the Gas-Oil-Ratio (GOR) raises ppm levels to a certain extent in lower-pressure applications, increasing the deviation from high-pressure separator measurements. However, high GOR results in only ~10% higher H₂S ppm compared to low GOR, and the effect of GOR on H₂S ppm is minimized in high watercut applications.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4.&lt;/strong&gt; An increase in water cut slightly reduces H₂S levels, but the effect is minimal.&lt;/p&gt;
&lt;div&gt;&lt;hr/&gt;&lt;/div&gt;&lt;div class="row" id="table-2"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/H2S_summary_table_original.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Table 2:&lt;/strong&gt; H₂S ppm levels reported at various process streams and production rates, taken from simulation results shown in &lt;a class="internal-link" href="#4.1.-Simulation-screenshots"&gt;4.1. Simulation screenshots&lt;/a&gt; above.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="row" id="table-3"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/H2S_summary_table_normalized.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Table 3:&lt;/strong&gt; Normalized version of &lt;a class="internal-link" href="#table-2"&gt;Table 2&lt;/a&gt;. All simulated ppm values were multiplied by a normalizing factor so that the H2S ppm levels taken at the 500# separator's gas side equals 20 ppm in all scenarios.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="5.-Conclusion"&gt;5. Conclusion&lt;a class="anchor-link" href="#5.-Conclusion"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;1.&lt;/strong&gt; H₂S ppm levels are important to comply with regulations, prevent equipment damage, and ensure personnel safety.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.&lt;/strong&gt; H₂S ppm levels measured in high-pressure applications should not be applied to low-pressure environments, as the compositions change during separation at lower pressures.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3.&lt;/strong&gt; H₂S ppm levels significantly increase at low pressure. For example, in &lt;a class="internal-link" href="#fig-1"&gt;Figure 1&lt;/a&gt;, 20 ppm measured at the 500# separator rises to 63.4 ppm and 302 ppm at the atmospheric oil and water tank flash lines, respectively.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4.&lt;/strong&gt; H₂S levels increase as lighter ends (methane and ethane) flash off before (and more) H₂S enters the gas phase. This occurs because methane (MW=16.04) and ethane (MW=30.07) are lighter than H₂S (MW=34.08), giving them higher flash point pressures, as shown in &lt;a class="internal-link" href="#fig-5"&gt;Figure 5&lt;/a&gt;. However, methane is the main driver, as it flashes significantly easier than ethane (shown in &lt;a class="internal-link" href="#fig-4"&gt;Figure 4&lt;/a&gt; and &lt;a class="internal-link" href="#table-1"&gt;Table 1&lt;/a&gt;), leaving a higher concentration of H₂S in lower-pressure vessels.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5.&lt;/strong&gt; H₂S levels are much higher in gas streams than in liquid streams because H₂S has a high flash point pressure of 291 psig (at 80°F) and prefers the gas phase. As pressure drops, H₂S flashes into the gas phase more readily than it dissolves into the liquid.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;6.&lt;/strong&gt; Discrepancies between high- and low-pressure ppm levels are more pronounced in water tank flash gas than in oil tank flash gas. For oil tank flash gas, H₂S levels were 2.5 times higher than in the 500 psig separator gas, whereas for water tank flash gas, the difference was 13–24 times greater (shown in &lt;a class="internal-link" href="#table-3"&gt;Table 3&lt;/a&gt;). Stricter safety and corrosion standards should be applied for water tank flash lines.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;7.&lt;/strong&gt; The impact of GOR and water cut is minimal. The main factor is the compositional changes due to pressure drop and flashing.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="oil-and-gas"></category><category term="oil"></category><category term="gas"></category><category term="H2S"></category><category term="process engineering"></category><category term="ProMax"></category><category term="measurements"></category><category term="gas-sample"></category><category term="separators"></category><category term="VRU"></category></entry><entry><title>Quantifying The Impact Of Completion Delay Since Drilled On Production</title><link href="https://aegis4048.github.io/quantifying_the_impact_of_completion_delay_since_drilled_on_production" rel="alternate"></link><published>2023-03-03T00:00:00-08:00</published><updated>2023-03-03T00:00:00-08:00</updated><author><name>ERIC KIM</name></author><id>tag:aegis4048.github.io,2023-03-03:/quantifying_the_impact_of_completion_delay_since_drilled_on_production</id><summary type="html">&lt;style type="text/css"&gt;/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI escape sequences */
/* The color values are a mix of
   http://www.xcolors.net/dl/baskerville-ivorylight and
   http://www.xcolors.net/dl/euphrasia */
.ansi-black-fg {
  color: #3E424D;
}
.ansi-black-bg {
  background-color: #3E424D;
}
.ansi-black-intense-fg {
  color: #282C36;
}
.ansi-black-intense-bg {
  background-color: #282C36;
}
.ansi-red-fg {
  color: #E75C58;
}
.ansi-red-bg {
  background-color: #E75C58;
}
.ansi-red-intense-fg {
  color …&lt;/style&gt;</summary><content type="html">&lt;style type="text/css"&gt;/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI escape sequences */
/* The color values are a mix of
   http://www.xcolors.net/dl/baskerville-ivorylight and
   http://www.xcolors.net/dl/euphrasia */
.ansi-black-fg {
  color: #3E424D;
}
.ansi-black-bg {
  background-color: #3E424D;
}
.ansi-black-intense-fg {
  color: #282C36;
}
.ansi-black-intense-bg {
  background-color: #282C36;
}
.ansi-red-fg {
  color: #E75C58;
}
.ansi-red-bg {
  background-color: #E75C58;
}
.ansi-red-intense-fg {
  color: #B22B31;
}
.ansi-red-intense-bg {
  background-color: #B22B31;
}
.ansi-green-fg {
  color: #00A250;
}
.ansi-green-bg {
  background-color: #00A250;
}
.ansi-green-intense-fg {
  color: #007427;
}
.ansi-green-intense-bg {
  background-color: #007427;
}
.ansi-yellow-fg {
  color: #DDB62B;
}
.ansi-yellow-bg {
  background-color: #DDB62B;
}
.ansi-yellow-intense-fg {
  color: #B27D12;
}
.ansi-yellow-intense-bg {
  background-color: #B27D12;
}
.ansi-blue-fg {
  color: #208FFB;
}
.ansi-blue-bg {
  background-color: #208FFB;
}
.ansi-blue-intense-fg {
  color: #0065CA;
}
.ansi-blue-intense-bg {
  background-color: #0065CA;
}
.ansi-magenta-fg {
  color: #D160C4;
}
.ansi-magenta-bg {
  background-color: #D160C4;
}
.ansi-magenta-intense-fg {
  color: #A03196;
}
.ansi-magenta-intense-bg {
  background-color: #A03196;
}
.ansi-cyan-fg {
  color: #60C6C8;
}
.ansi-cyan-bg {
  background-color: #60C6C8;
}
.ansi-cyan-intense-fg {
  color: #258F8F;
}
.ansi-cyan-intense-bg {
  background-color: #258F8F;
}
.ansi-white-fg {
  color: #C5C1B4;
}
.ansi-white-bg {
  background-color: #C5C1B4;
}
.ansi-white-intense-fg {
  color: #A1A6B2;
}
.ansi-white-intense-bg {
  background-color: #A1A6B2;
}
.ansi-default-inverse-fg {
  color: #FFFFFF;
}
.ansi-default-inverse-bg {
  background-color: #000000;
}
.ansi-bold {
  font-weight: bold;
}
.ansi-underline {
  text-decoration: underline;
}
/* The following styles are deprecated an will be removed in a future version */
.ansibold {
  font-weight: bold;
}
.ansi-inverse {
  outline: 0.5px dotted;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  position: relative;
  overflow: visible;
}
div.cell:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: transparent;
}
div.cell.jupyter-soft-selected {
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected,
div.cell.selected.jupyter-soft-selected {
  border-color: #ababab;
}
div.cell.selected:before,
div.cell.selected.jupyter-soft-selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #42A5F5;
}
@media print {
  div.cell.selected,
  div.cell.selected.jupyter-soft-selected {
    border-color: transparent;
  }
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
}
.edit_mode div.cell.selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #66BB6A;
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell &gt; div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area &gt; div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area &gt; div.highlight &gt; pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the &lt;head&gt; if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  /* Note that this should set vertical padding only, since CodeMirror assumes
       that horizontal padding will be set on CodeMirror pre */
  padding: 0.4em 0;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. This sets horizontal padding only,
    use .CodeMirror-lines for vertical */
  padding: 0 0.4em;
  border: 0;
  border-radius: 0;
}
.CodeMirror-cursor {
  border-left: 1.4px solid black;
}
@media screen and (min-width: 2138px) and (max-width: 4319px) {
  .CodeMirror-cursor {
    border-left: 2px solid black;
  }
}
@media screen and (min-width: 4320px) {
  .CodeMirror-cursor {
    border-left: 4px solid black;
  }
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev &lt;Maniac@SoftwareManiacs.Org&gt;
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
div.output_area .mglyph &gt; img {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 1px 0 1px 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}
.rendered_html ul:not(.list-inline),
.rendered_html ol:not(.list-inline) {
  padding-left: 2em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}





.rendered_html pre,




.rendered_html tr,
.rendered_html th,


.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,


.rendered_html * + .alert {
  margin-top: 1em;
}
[dir="rtl"] 
div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell &gt; div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.rendered .rendered_html tr,
.text_cell.rendered .rendered_html th,
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.text_cell .dropzone .input_area {
  border: 2px dashed #bababa;
  margin: -1px;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
&lt;/style&gt;
&lt;style type="text/css"&gt;pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.highlight .hll { background-color: #ffffcc }
.highlight { background: #f8f8f8; }
.highlight .c { color: #3D7B7B; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #3D7B7B; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #3D7B7B; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #9C6500 } /* Comment.Preproc */
.highlight .cpf { color: #3D7B7B; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #3D7B7B; font-style: italic } /* Comment.Single */
.highlight .cs { color: #3D7B7B; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .ges { font-weight: bold; font-style: italic } /* Generic.EmphStrong */
.highlight .gr { color: #E40000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #008400 } /* Generic.Inserted */
.highlight .go { color: #717171 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #687822 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #717171; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #CB3F38; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #767600 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #AA5D1F; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #A45A77; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #A45A77 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */&lt;/style&gt;&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Once a well is drilled, it must be completed to produce oil and gas. However, operators sometimes delay completing a well for various reasons, such as waiting for fracking crews or facing budget constraints. These delayed wells, known as &lt;strong&gt;Drilled but Uncompleted (DUC)&lt;/strong&gt; wells, are considered to be a working oil field capital because the wells can be turned on line for production for cheap. However, the empirical evidences suggests that the DUC wells may no longer function as a working capital if completion is delayed for too long. The probability of completion falls drastically after two years of delay in completion, and DUC wells that still remain un-completed beyond this time frame are likely to be never completed.&lt;/p&gt;
&lt;p&gt;The study conducted in this article is built on top of the previous scientific findings which claim that the nearby parent wells can have a negative impact on the production of child wells, which worsens the longer the parent wells have been producing. This is particularly critical for DUC wells, as the wells awaiting completion are already exposed to these pressure variations from existing wells that continue to produce and deplete. This study aims to quantify the impact of increasing delays in completion on production by observing changes in estimated ultimate recovery (EUR) normalized by lateral length and completion concentration per perforated foot as a function of DUC time.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="display-none" id="toc_container"&gt;
&lt;p class="toc_title"&gt;&lt;i class="fas fa-list"&gt;&lt;/i&gt;Contents&lt;/p&gt;
&lt;ul class="toc_list"&gt;
&lt;li&gt;&lt;a href="#Sample data description"&gt;&lt;span class="toc_label"&gt;0.&lt;/span&gt;Sample data description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Key takeaways"&gt;&lt;span class="toc_label"&gt;1.&lt;/span&gt;Key takeaways&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Quick overview on DUC wells"&gt;&lt;span class="toc_label"&gt;2.&lt;/span&gt;Quick overview on DUC wells&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Reservoir depletion due to existing offset wells"&gt;&lt;span class="toc_label"&gt;3.&lt;/span&gt;Reservoir depletion due to existing offset wells&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Quantifying the impact of DUC time on EUR"&gt;&lt;span class="toc_label"&gt;4.&lt;/span&gt;Quantifying the impact of DUC time on EUR&lt;/a&gt;&lt;/li&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#Preliminary data cleaning"&gt;&lt;span class="toc_label"&gt;4.1.&lt;/span&gt;Preliminary data cleaning&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Raw EUR vs. DUC time"&gt;&lt;span class="toc_label"&gt;4.2.&lt;/span&gt;Raw EUR vs. DUC time&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Factors that affect EUR: Completion size and lateral length"&gt;&lt;span class="toc_label"&gt;4.3.&lt;/span&gt;Factors that affect EUR: Completion size and lateral length&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Normalized EUR vs. DUC time"&gt;&lt;span class="toc_label"&gt;4.4.&lt;/span&gt;Normalized EUR vs. DUC time&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;li&gt;&lt;a href="#Dead DUC wells"&gt;&lt;span class="toc_label"&gt;5.&lt;/span&gt;"Dead" DUC wells&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Conclusion"&gt;&lt;span class="toc_label"&gt;6.&lt;/span&gt;Conclusion&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div id="Sample data description"&gt;&lt;/div&gt;&lt;h2 id="0.-Sample-data-description"&gt;0. Sample data description&lt;a class="anchor-link" href="#0.-Sample-data-description"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The main data source used for this article is the &lt;a href="https://www.enverus.com/" target="_blank"&gt;Enverus&lt;/a&gt; Drilling Info application. Within Drilling Info's data base, I selected wells in the seven major basins in the US, defined by the US Energy Information Adminitration's (EIA) &lt;a href="https://www.eia.gov/petroleum/drilling/" target="_blank"&gt;Drilling Productivity Report&lt;/a&gt; (DPR): Anadarko, Appalachia, Bakken, Eagle Ford, Haynesville, Niobrara, and Permian.&lt;/p&gt;
&lt;div class="row full_screen_margin_80 mobile_responsive_plot_full_width" id="fig-1" style="margin-top: 15px;"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/DPR-basins.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 1:&lt;/strong&gt; 7 major basins in the US, Source: EIA&lt;/p&gt;&lt;/div&gt;&lt;p&gt;The DPR provides which county and state they used to define each major basins. For your convenience, I compiled a text file (&lt;a href="https://aegis4048.github.io/downloads/notebooks/sample_data/Basins_Boundaries.txt" target="_blank"&gt;Basins_Boundaries.txt&lt;/a&gt;) that has the list of state and counties that can be easily pasted into Drilling Info's filter tab. Unfortunately Enverus Drilling Info is a commerical software and not everyone will be able to use it.&lt;/p&gt;
&lt;div class="row full_screen_margin_60 mobile_responsive_plot_full_width" id="fig-2" style="margin-top: 15px;"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/drilling_info_paste.png"/&gt;&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 2:&lt;/strong&gt; Pasting the Eagle Ford basin's state and county data into Drilling Info for query&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div id="pandas table"&gt;&lt;/div&gt;&lt;p&gt;Pulling all active wells in the specified counties and states gives this &lt;a class="ico xls" href="https://aegis4048.github.io/downloads/notebooks/sample_data/EUR_vs_Lag.xlsx" target="_blank"&gt;Excel file&lt;/a&gt; &lt;strong&gt;(EUR_vs_Lag.xlsx).&lt;/strong&gt; The file has 7 tabs for each basin. The below code output shows small portion of the Anadarko wells data. Each row represents a record of one well.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [3]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pd&lt;/span&gt;

&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read_excel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'https://aegis4048.github.io/downloads/notebooks/sample_data/EUR_vs_Lag.xlsx'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sheet_name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'Anadarko'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt output_prompt"&gt;Out[3]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;style scoped=""&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;Spud Date&lt;/th&gt;
&lt;th&gt;Completion Date&lt;/th&gt;
&lt;th&gt;Drill Type&lt;/th&gt;
&lt;th&gt;Lag&lt;/th&gt;
&lt;th&gt;EUR Oil (Full)&lt;/th&gt;
&lt;th&gt;EUR Gas (Full)&lt;/th&gt;
&lt;th&gt;EUR (Full) BOE&lt;/th&gt;
&lt;th&gt;First 12 BOE&lt;/th&gt;
&lt;th&gt;Production Type&lt;/th&gt;
&lt;th&gt;DI Lateral Length&lt;/th&gt;
&lt;th&gt;Total Proppant (First Treatment Job)&lt;/th&gt;
&lt;th&gt;Total Fluid (First Treatment Job)&lt;/th&gt;
&lt;th&gt;Proppant per Perforated Foot (First Treatment Job)&lt;/th&gt;
&lt;th&gt;Fluid per Perforated Foot (First Treatment Job)&lt;/th&gt;
&lt;th&gt;Proppant Concentration (lbs/gal) (First Treatment Job)&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;td&gt;2020-01-09&lt;/td&gt;
&lt;td&gt;2021-04-09&lt;/td&gt;
&lt;td&gt;H&lt;/td&gt;
&lt;td&gt;456.0&lt;/td&gt;
&lt;td&gt;672317.75&lt;/td&gt;
&lt;td&gt;0.00&lt;/td&gt;
&lt;td&gt;672317.750000&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;OIL&lt;/td&gt;
&lt;td&gt;10776.0&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;td&gt;2019-05-03&lt;/td&gt;
&lt;td&gt;2019-07-26&lt;/td&gt;
&lt;td&gt;H&lt;/td&gt;
&lt;td&gt;84.0&lt;/td&gt;
&lt;td&gt;129760.25&lt;/td&gt;
&lt;td&gt;2348886.00&lt;/td&gt;
&lt;td&gt;521241.250000&lt;/td&gt;
&lt;td&gt;141195.17&lt;/td&gt;
&lt;td&gt;GAS&lt;/td&gt;
&lt;td&gt;5739.0&lt;/td&gt;
&lt;td&gt;6137496.0&lt;/td&gt;
&lt;td&gt;170614.00&lt;/td&gt;
&lt;td&gt;1069.4365&lt;/td&gt;
&lt;td&gt;29.73&lt;/td&gt;
&lt;td&gt;0.86&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;td&gt;2018-06-20&lt;/td&gt;
&lt;td&gt;2018-07-28&lt;/td&gt;
&lt;td&gt;H&lt;/td&gt;
&lt;td&gt;38.0&lt;/td&gt;
&lt;td&gt;89633.48&lt;/td&gt;
&lt;td&gt;472189.47&lt;/td&gt;
&lt;td&gt;168331.725000&lt;/td&gt;
&lt;td&gt;61155.83&lt;/td&gt;
&lt;td&gt;GAS&lt;/td&gt;
&lt;td&gt;4338.0&lt;/td&gt;
&lt;td&gt;4304900.0&lt;/td&gt;
&lt;td&gt;100874.00&lt;/td&gt;
&lt;td&gt;992.3698&lt;/td&gt;
&lt;td&gt;23.25&lt;/td&gt;
&lt;td&gt;1.02&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;3&lt;/th&gt;
&lt;td&gt;2018-05-21&lt;/td&gt;
&lt;td&gt;2018-07-07&lt;/td&gt;
&lt;td&gt;H&lt;/td&gt;
&lt;td&gt;47.0&lt;/td&gt;
&lt;td&gt;158308.72&lt;/td&gt;
&lt;td&gt;2718710.75&lt;/td&gt;
&lt;td&gt;611427.178333&lt;/td&gt;
&lt;td&gt;222754.17&lt;/td&gt;
&lt;td&gt;GAS&lt;/td&gt;
&lt;td&gt;4859.0&lt;/td&gt;
&lt;td&gt;5627071.0&lt;/td&gt;
&lt;td&gt;194148.98&lt;/td&gt;
&lt;td&gt;1158.0718&lt;/td&gt;
&lt;td&gt;39.96&lt;/td&gt;
&lt;td&gt;0.69&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;4&lt;/th&gt;
&lt;td&gt;2018-04-09&lt;/td&gt;
&lt;td&gt;2018-07-06&lt;/td&gt;
&lt;td&gt;H&lt;/td&gt;
&lt;td&gt;88.0&lt;/td&gt;
&lt;td&gt;153994.27&lt;/td&gt;
&lt;td&gt;3887145.75&lt;/td&gt;
&lt;td&gt;801851.895000&lt;/td&gt;
&lt;td&gt;268463.00&lt;/td&gt;
&lt;td&gt;GAS&lt;/td&gt;
&lt;td&gt;4845.0&lt;/td&gt;
&lt;td&gt;8990772.0&lt;/td&gt;
&lt;td&gt;292805.38&lt;/td&gt;
&lt;td&gt;1855.6805&lt;/td&gt;
&lt;td&gt;60.43&lt;/td&gt;
&lt;td&gt;0.73&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div id="Key takeaways"&gt;&lt;/div&gt;&lt;h2 id="1.-Key-takeaways"&gt;1. Key takeaways&lt;a class="anchor-link" href="#1.-Key-takeaways"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;div class="highlights" id="key1"&gt;
&lt;div class="highlights-title"&gt;1. Characteristics of DUC wells&lt;/div&gt;
&lt;div class="highlights-content"&gt;DUC wells can be turned on line for cheap since the cost of drilling have been paid. This allows them to function as a secondary form of hydrocarbon storage under the ground, instead of traditional above-ground facilities.&lt;/div&gt;
&lt;/div&gt;&lt;div class="highlights" id="key2"&gt;
&lt;div class="highlights-title"&gt;2. Delaying completion during times of low oil prices in the hope of a future recovery may not be a financially wise decision&lt;/div&gt;
&lt;div class="highlights-content"&gt;This is because nearby wells can induce reservoir depletion, which can significantly reduce the potential yield. Operators should carefully consider the long-term financial implications of delaying completion and weigh them against the potential benefits of waiting for better market conditions.&lt;/div&gt;
&lt;/div&gt;&lt;div class="highlights" id="key3"&gt;
&lt;div class="highlights-title"&gt;3. Scientific wisdom states that the greater difference in completion timing among adjacent wells worsens child well's production&lt;/div&gt;
&lt;div class="highlights-content"&gt;The prolonged production from nearby parent wells can lead to reservoir depletion and pressure sinks, which can affect the productivity of the child well. This issue is particularly important for DUC wells because as existing wells continue to produce and deplete, the wells awaiting completion are already exposed to these pressure variations, which can worsen if completion is further delayed &lt;a href="https://onepetro.org/REE/article-abstract/22/01/190/206725/Concerns-and-Clarifications-for-Drilled" target="_blank"&gt;(Srinivasan et al. 2018)&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;&lt;div class="highlights" id="key4"&gt;
&lt;div class="highlights-title"&gt;4. Contrary to the scientific wisdom, wells completed shortly after drilling tend to have smaller EUR compared to wells with longer DUC time&lt;/div&gt;
&lt;div class="highlights-content"&gt;This is due to the fact that younger DUC wells tend to have shorter lateral length and treated with smaller completion concentration for each lateral foot. This means that the operators tend to undersize completion design for their younger DUC wells, resulting in sub-optimal EUR.&lt;/div&gt;
&lt;/div&gt;&lt;div class="highlights" id="key5"&gt;
&lt;div class="highlights-title"&gt;5. To discern the genuine influence of DUC time on production, EUR is normalized by lateral length, proppant per perforated foot, and fluid per perforated foot&lt;/div&gt;
&lt;div class="highlights-content"&gt;This decision is made after visually confirming positive correlation between EUR vs. lateral length and completion size in &lt;a class="internal-link" href="#fig-7"&gt;Figure 7&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;&lt;div class="highlights" id="key6"&gt;
&lt;div class="highlights-title"&gt;6. Anadarko and Permian basins showed the worst reduction in normalized EUR in the shortest time span between drilling and completion&lt;/div&gt;
&lt;div class="highlights-content"&gt;Normalized EUR dropped by 81% and 74%, respectively, for Anadarko and Permian basins over a span of 150 days of additional delay in completion (&lt;a class="internal-link" href="#fig-8"&gt;Figure 8&lt;/a&gt;), followed by the Haynesville basin which showed 46% decrease in normalized EUR over a span of additional 100 days of delay in completion.&lt;/div&gt;
&lt;/div&gt;&lt;div class="highlights" id="key7"&gt;
&lt;div class="highlights-title"&gt;7. Appalachia, Eagle Ford and Niobrara basins showed minimal loss in normalized EUR with increasing DUC time&lt;/div&gt;
&lt;div class="highlights-content"&gt;Appalachia experienced only 19% reduction in normalized EUR with 350 days of delay in completion, and Eagle Ford and Niobrara basins showed negligible change in normalized EUR with increasing DUC time. This finding shows that wells in these basins are the least likely to suffer from well-to-well interference problems with increasing DUC time compared to the other basins.&lt;/div&gt;
&lt;/div&gt;&lt;div class="highlights" id="key8"&gt;
&lt;div class="highlights-title"&gt;8. DUC wells have time limit till completion. &lt;/div&gt;
&lt;div class="highlights-content"&gt;The probability of completion falls drastically after a certain time limit due to the degrading economics associated with delays in completion. For example in &lt;a class="internal-link" href="#fig-16"&gt;Figure 16&lt;/a&gt;, the completion time limits for Anadarko and Hanyesville are 308 days and 409 days after drilled, respectively. Beyond these limits, the probability of completion in these basins drops below 5%. This study demonstrates a positive correlation between the extent of these time limits and changes in both normalized EUR and absolute EUR as DUC time increases.&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div id="Quick overview on DUC wells"&gt;&lt;/div&gt;&lt;h2 id="2.-Quick-overview-on-DUC-wells"&gt;2. Quick overview on DUC wells&lt;a class="anchor-link" href="#2.-Quick-overview-on-DUC-wells"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Once a well is drilled, it must be completed to produce oil and gas. However, operators sometimes delay completing a well for various reasons, such as waiting for fracking crews or facing budget constraints. These delayed wells, known as &lt;strong&gt;Drilled but Uncompleted (DUC)&lt;/strong&gt; wells, accumulate when drilling outpaces completion and decrease when the opposite occurs. &lt;a class="internal-link" href="#fig-3"&gt;Figure 3&lt;/a&gt; illustrates the historical trend of DUC inventories in the seven major US basins, as defined by the &lt;a href="https://www.eia.gov/petroleum/drilling/" target="_blank"&gt;EIA's DPR&lt;/a&gt; page. &lt;a class="internal-link" href="#fig-4"&gt;Figure 4&lt;/a&gt; provides more detailed information on each basin, including hydrocarbon production volumes and drilling activities.&lt;/p&gt;
&lt;p&gt;DUC wells have unique features that make them an attractive option for low-cost production. The wells can be turned on line for production for cheap; the costs of drilling have been paid, and completion won't be as costly as new drilling. They can function as a secondary form of hydrocarbon storage underground, unlike traditional above-ground facilities. In times of low oil prices, operators may choose to complete them later, hoping that the oil price would recover in a near future. Throughout the rest of the article, however, I show why this may not be a smart idea for some basins (especially Anadarko and Permian) due to reservoir depletion induced by existing producing offset wells.&lt;/p&gt;
&lt;div class="row full_screen_margin_90 mobile_responsive_plot_full_width" id="fig-3" style="margin-top: 15px;"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/US Major Basins Completion &amp; Drilling Activities and Commodities.png"/&gt;&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 3:&lt;/strong&gt; DUCs accumulate when drilling activity exceeds completion, and vice versa. The line plots depict three distinct periods of significant fluctuations in DUC well inventories, with [1] and [3] representing instances of rapid depletion due to high completion rates, and [2] reflecting a period of accumulation resulting from high drilling activities. WTI Crude oil prices is appended at the bottom to show the effect of commodity prices on DUCs.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="solution_panel closed"&gt;
&lt;div class="solution_title"&gt;
&lt;p class="solution_title_string"&gt;Source Code For Figure (3)&lt;/p&gt;
&lt;ul class="nav navbar-right panel_toolbox"&gt;
&lt;li&gt;&lt;a class="collapse-link"&gt;&lt;i class="fa fa-chevron-down"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="clearfix"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="solution_content"&gt;
&lt;pre&gt;
            &lt;code class="language-python"&gt;
import pandas as pd
import matplotlib.pyplot as plt
import numpy as np
import matplotlib.ticker as ticker

############################################# Basins ##############################################

basins = sorted(['Anadarko', 'Appalachia', 'Eagle Ford', 'Haynesville', 'Niobrara', 'Permian', 'Bakken'])

################################### DUC Wells Count per Basin #####################################

# compile a DataFrame to store count of DUC wells per basin
# source: EIA - https://www.eia.gov/petroleum/drilling/

dfs = []
for basin in basins:
    df_cur = pd.read_excel('https://aegis4048.github.io/downloads/notebooks/sample_data/Duc-EIA.xlsx', sheet_name=basin)
    df_cur['Basin'] = basin
    dfs.append(df_cur)

df = pd.concat(dfs)
df = df.sort_values('Date')
df.index = pd.to_datetime(df['Date'])

df_DUCs = df.groupby([pd.Grouper(freq='M'), 'Basin'])['DUC'].mean()
df_DUCs = df_DUCs.unstack().fillna(0)
df_DUCs = round(df_DUCs, 0)
df_DUCs['Total DUCs'] = df_DUCs.T.apply(lambda x: sum(x))

df_drilled = df.groupby([pd.Grouper(freq='M'), 'Basin'])['Drilled'].sum()
df_drilled = df_drilled.unstack().fillna(0)
df_drilled['Total Drilled'] = df_drilled.T.apply(lambda x: sum(x))

df_completed = df.groupby([pd.Grouper(freq='M'), 'Basin'])['Completed'].sum()
df_completed = df_completed.unstack().fillna(0)
df_completed['Total Completed'] = df_completed.T.apply(lambda x: sum(x))

############################################# Plot ##############################################

fig, ax = plt.subplots(figsize=(8, 4))

ax2 = ax.twinx()

ax.plot(df_drilled.index, df_drilled['Total Drilled'], color='k', label='Newly Drilled')
ax.plot(df_completed.index, df_completed['Total Completed'], label='Completed')
ax2.plot(df_DUCs.index, df_DUCs['Total DUCs'], color='purple', label='DUC')


ax.fill_between(df_drilled.index, df_drilled['Total Drilled'], df_completed['Total Completed'],
                where=(df_drilled.index &gt;= '2016-03-1') &amp; (df_drilled.index &lt;= '2017-1-1'), color='red', alpha=0.4)
ax.fill_between(df_drilled.index, df_drilled['Total Drilled'], df_completed['Total Completed'],
                where=(df_drilled.index &gt;= '2018-08-01') &amp; (df_drilled.index &lt;= '2019-3-1'), color='green', alpha=0.4)
ax.fill_between(df_drilled.index, df_drilled['Total Drilled'], df_completed['Total Completed'],
                where=(df_drilled.index &gt;= '2020-07-1') &amp; (df_drilled.index &lt;= '2022-8-1'), color='red', alpha=0.4)

ax.axvline(x=df_drilled.index[26], color='k', linestyle='--', linewidth=1, alpha=0.7)
ax.axvline(x=df_drilled.index[35], color='k', linestyle='--', linewidth=1, alpha=0.7)
ax.axvspan(df_drilled.index[26], df_drilled.index[35], facecolor='lightgrey', alpha=0.3)

ax.axvline(x=df_drilled.index[55], color='k', linestyle='--', linewidth=1, alpha=0.7)
ax.axvline(x=df_drilled.index[61], color='k', linestyle='--', linewidth=1, alpha=0.7)
ax.axvspan(df_drilled.index[55], df_drilled.index[61], facecolor='lightgrey', alpha=0.3)

ax.axvline(x=df_drilled.index[78], color='k', linestyle='--', linewidth=1, alpha=0.7)
ax.axvline(x=df_drilled.index[102], color='k', linestyle='--', linewidth=1, alpha=0.7)
ax.axvspan(df_drilled.index[78], df_drilled.index[102], facecolor='lightgrey', alpha=0.3)

ax.set_ylim(0, 2500)
ax2.set_ylim(0, 10000)

ax.grid(axis='y', alpha=0.5)
ax.yaxis.get_major_ticks()[5].gridline.set_visible(False)
ax.spines.top.set_visible(False)
ax2.spines.top.set_visible(False)

h1, l1 = ax.get_legend_handles_labels()
h2, l2 = ax2.get_legend_handles_labels()
ax.legend(h1 + h2, l1 + l2, fontsize=10, ncol=3, loc='upper left', framealpha=1)

ax.set_ylabel('Drilled &amp; Completed Wells', fontsize=11)
ax2.set_ylabel('DUC Wells', fontsize=11)

ax.arrow(df_drilled.index[71], 1500, 60, -270, head_width=40, head_length=60, fc='k', ec='k')
ax.text(0.58, 0.62, 'Covid Crash', fontsize=9, transform=ax.transAxes, color='k')

ax.text(0.295, 0.05, '[1]', fontsize=9, transform=ax.transAxes, color='k')
ax.text(0.53, 0.05, '[2]', fontsize=9, transform=ax.transAxes, color='k')
ax.text(0.805, 0.05, '[3]', fontsize=9, transform=ax.transAxes, color='k')

def setbold(txt):
    return ' '.join([r"$\bf{" + item + "}$" for item in txt.split(' ')])

ax.set_title(setbold('US Major Basins Completion &amp; Drilling Activities')  + ",  Jan 2014 - Dec 2022", fontsize=12, pad=10, x=0.4, y=1.06)
ax.annotate('', xy=(-0.11, 1.07), xycoords='axes fraction', xytext=(1.11, 1.07), arrowprops=dict(arrowstyle="-", color='k'))
ax.text(0.145, 0.1, 'aegis4048.github.io', fontsize=10, ha='center', va='center',
        transform=ax.transAxes, color='grey', alpha=0.5)

fig.set_facecolor("white")
fig.tight_layout()

############################################# Plot 2 ##############################################

df = pd.read_excel('https://aegis4048.github.io/downloads/notebooks/sample_data/EIA-commodity.xls', sheet_name='Data 1')
df = df.iloc[338:-1, :-1] # between Jan 2014 to Dec 2022
df.columns = ['date', 'value']
df.reset_index(inplace=True, drop=True)
df['date'] = df['date'].apply(lambda x: x.strftime('%Y-%m'))
df['date'] = pd.to_datetime(df['date'])

fig, ax = plt.subplots(figsize=(7, 1))

ax.plot(df['date'], df['value'], color='green')

ax.set_ylabel('oil ($)', fontsize=10)
ax.set_ylim(0, 120)
ax.set_yticks(np.linspace(0, 120, 4))
ax.tick_params(axis='both', which='major', labelsize=9)

ax.axvspan(df_drilled.index[26], df_drilled.index[35], facecolor='lightgrey', alpha=0.3)
ax.axvspan(df_drilled.index[55], df_drilled.index[61], facecolor='lightgrey', alpha=0.3)
ax.axvspan(df_drilled.index[78], df_drilled.index[103], facecolor='lightgrey', alpha=0.3)

ax.axvline(x=df_drilled.index[26], color='k', linestyle='--', linewidth=1, alpha=0.7)
ax.axvline(x=df_drilled.index[35], color='k', linestyle='--', linewidth=1, alpha=0.7)
ax.axvline(x=df_drilled.index[55], color='k', linestyle='--', linewidth=1, alpha=0.7)
ax.axvline(x=df_drilled.index[61], color='k', linestyle='--', linewidth=1, alpha=0.7)
ax.axvline(x=df_drilled.index[78], color='k', linestyle='--', linewidth=1, alpha=0.7)
ax.axvline(x=df_drilled.index[103], color='k', linestyle='--', linewidth=1, alpha=0.7)

ax.grid(axis='y', alpha=0.5)
ax.spines['right'].set_visible(False)
ax.spines['top'].set_visible(False)
ax.yaxis.get_major_ticks()[-1].gridline.set_visible(False)

ax.annotate('Source: Pythonic Excursions, EIA', xy=(-0.11, -.5), xycoords='axes fraction', fontsize=9)
            &lt;/code&gt;
        &lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="row" id="fig-4"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/DUC &amp; Newly Drilled Wells and Production by Basins, Jan 2014 - Dec 2022.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 4:&lt;/strong&gt; Quick glance at the EIA DPR data for each basin. Note that the Permian basin has different y-axis scale for DUC &amp; newly drilled wells count.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="solution_panel closed"&gt;
&lt;div class="solution_title"&gt;
&lt;p class="solution_title_string"&gt;Source Code For Figure (4)&lt;/p&gt;
&lt;ul class="nav navbar-right panel_toolbox"&gt;
&lt;li&gt;&lt;a class="collapse-link"&gt;&lt;i class="fa fa-chevron-down"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="clearfix"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="solution_content"&gt;
&lt;pre&gt;
            &lt;code class="language-python"&gt;
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
from matplotlib.colors import LinearSegmentedColormap
import warnings
import matplotlib.gridspec as gridspec
import matplotlib.ticker as ticker

############################################# Basins ##############################################

basins = sorted(['Anadarko', 'Appalachia', 'Eagle Ford', 'Haynesville', 'Niobrara', 'Permian', 'Bakken'])

################################### DUC Wells Count per Basin #####################################

# compile a DataFrame to store count of DUC wells per basin
# source: EIA - https://www.eia.gov/petroleum/drilling/

dfs = []
for basin in basins:
    df_cur = pd.read_excel('https://aegis4048.github.io/downloads/notebooks/sample_data/Duc-EIA.xlsx', sheet_name=basin)
    df_cur['Basin'] = basin
    dfs.append(df_cur)

df = pd.concat(dfs)
df = df.sort_values('Date')
df.index = pd.to_datetime(df['Date'])

df_DUCs_year = df.groupby([df.index.year, 'Basin'])['DUC'].mean()
df_DUCs_year = df_DUCs_year.unstack().fillna(0)
df_DUCs_year = round(df_DUCs_year, 0)

df_drilled_year = df.groupby([df.index.year, 'Basin'])['Drilled'].sum()
df_drilled_year = df_drilled_year.unstack().fillna(0)
df_drilled_year['Total Drilled'] = df_drilled_year.T.apply(lambda x: sum(x))

#################### Import All Data - Rig Count, Oil &amp; Gas Prod per Basins #######################

dfs2 = []
for basin in basins:
    df_cur = pd.read_excel('https://aegis4048.github.io/downloads/notebooks/sample_data/dpr-data.xlsx', sheet_name=basin + ' Region', skiprows=1)
    df_cur['Basin'] = basin
    dfs2.append(df_cur)

year_cutoff = '2013' # counting from year_cutoff + 1
date_header = 'Month'

df2 = pd.concat(dfs2)
df2 = df2.sort_values(date_header)
df2.index = pd.to_datetime(df2[date_header])
df2.drop(df2.columns[[2, 3, 5, 6]], axis=1, inplace=True)
df2.columns = ['Date', 'Rig Count', 'Total Oil Prod (BBLD)', 'Total Gas Prod (MCFD)', 'Basin']
df2 = df2[df2.index &gt; year_cutoff + '-12-31']

################################ Cross Table for Gas Production ###################################

# Total Gas Production
df2_total_gas_prod_year = df2.groupby([df2.index.year, 'Basin'])['Total Gas Prod (MCFD)'].sum()
df2_total_gas_prod_year = df2_total_gas_prod_year.unstack().fillna(0)
df2_total_gas_prod_year['Total Gas (BCFD)'] = df2_total_gas_prod_year.T.apply(lambda x: sum(x))
df2_total_gas_prod_year = df2_total_gas_prod_year / 1000000

################################ Cross Table for Oil Production ###################################

df2_total_oil_prod_year = df2.groupby([df2.index.year, 'Basin'])['Total Oil Prod (BBLD)'].sum()
df2_total_oil_prod_year = df2_total_oil_prod_year.unstack().fillna(0)
df2_total_oil_prod_year['Total (MMBBLD)'] = df2_total_oil_prod_year.T.apply(lambda x: sum(x))
df2_total_oil_prod_year = df2_total_oil_prod_year / 1000000

############################################# Plot ##############################################

# changing datetime index to str is necessary to overlay lineplot on top of barplot
df_drilled_year.index = [str(item) for item in df_drilled_year.index]
df2_total_gas_prod_year.index = [str(item) for item in df2_total_gas_prod_year.index]
df2_total_oil_prod_year.index = [str(item) for item in df2_total_oil_prod_year.index]

cmap_name = 'cubehelix'
colors = sns.color_palette(cmap_name, n_colors=len(basins))
np.random.seed(34)
np.random.shuffle(colors)
colors = colors.as_hex()
colors[0] = 'grey'
colors[-2] = '#914810'
cmap = LinearSegmentedColormap.from_list("my_colormap", colors)
barcolor_dict = {label: color for label, color in zip(basins, colors)}

axis_fontsize = 15
axis_tick_fontsize = 11
title_fontsize = 18
figure_title_fontsize = 20
label_fontsize = 13
legend_fontsize = 16
markersize = 9
y_label_fontsize = 15

gas_prod_color = 'red'
oil_prod_color = 'green'
drilled_color = 'k'

fig = plt.figure(figsize=(16, 17))
gs = gridspec.GridSpec(4, 4)
ax1 = plt.subplot(gs[0, 0:2])
ax2 = plt.subplot(gs[0,2:])
ax3 = plt.subplot(gs[1,0:2])
ax4 = plt.subplot(gs[1,2:])
ax5 = plt.subplot(gs[2,0:2])
ax6 = plt.subplot(gs[2,2:])
ax7 = plt.subplot(gs[3,2:4])
axes = [ax1,ax2,ax3,ax4,ax5,ax6,ax7]

for i, (ax, basin) in enumerate(zip(axes, basins)):

    df_DUCs_year.plot.bar(alpha=1, y=basin, ax=ax, legend=None, width=0.9, edgecolor='k', linewidth=0.1, label='DUC Count', color=barcolor_dict[basin])

    ax1 = ax.twinx()
    df_drilled_year.plot(y=basin, ax=ax1, linestyle='-', legend=None, marker='o', color=drilled_color, markersize=markersize, label='New Drilled Wells')

    ax2 = ax.twinx()
    df2_total_oil_prod_year.plot(y=basin, ax=ax2, linestyle='-', marker='o', color='green', markersize=markersize, label='Oil Prod Total', legend=None)
    ax2.set_ylim(0, 70)

    ax3 = ax.twinx()
    df2_total_gas_prod_year.plot(y=basin, ax=ax3, linestyle='-', marker='o', color='red', markersize=markersize, label='Gas Prod Total', legend=None)
    ax3.set_ylim(0, 500)

    ax.set_facecolor('#eeeeee')
    ax.set_axisbelow(True)
    ax.grid(axis='y')
    ax.set_xticklabels([str(dt).split('-')[0] for dt in df_DUCs_year.index])
    ax.tick_params(axis='x', labelrotation=45, labelsize=axis_tick_fontsize)
    ax.tick_params(axis='y', labelsize=axis_tick_fontsize)
    ax1.tick_params(axis='y', labelsize=axis_tick_fontsize)
    ax.set_title(basin, fontsize=title_fontsize)

    if i % 2 == 0 and i != 6:
        ax.set_ylabel('DUC Wells Count (k)', fontsize=axis_fontsize)
        ax2.set_yticks([])
        ax3.set_yticks([])        
    else:
        ax1.set_ylabel('Drilled Wells Count (k)', fontsize=axis_fontsize)

        ax2.tick_params(axis='y', colors='green')
        ax2.spines['right'].set_position(('outward', 50))
        ax2.spines['right'].set_color('green')
        ax2.set_ylabel('Total Oil Prod. (MMBBLD)', color='green', fontsize= axis_fontsize)

        ax3.tick_params(axis='y', colors='red')
        ax3.spines['right'].set_position(('outward', 100))
        ax3.spines['right'].set_color('red')
        ax3.set_ylabel('Total Gas Prod. (BCFD)', color='red', fontsize= axis_fontsize) 

    if i == 6:
        ax.set_ylabel('DUC Wells Count (k)', fontsize=axis_fontsize)
    #else:
        #ax1.set_yticks([])
        #ax2.set_yticks([])
        #ax3.set_yticks([])

    if i == 4 or i == 6:
        ax.set_xlabel('Spud Date', fontsize=y_label_fontsize)
    else:
        ax.set_xlabel('')

    if basin == 'Permian':
        pass
        ax.set_ylim(0, 5000)
        ax1.set_ylim(0, 15000)

    else:
        ax.set_ylim(0, 1400)
        ax1.set_ylim(0, 7000)

    ax.yaxis.set_major_formatter(ticker.EngFormatter())
    ax1.yaxis.set_major_formatter(ticker.EngFormatter())        

    ax.spines.top.set_visible(False)
    ax1.spines.top.set_visible(False)
    ax2.spines.top.set_visible(False)
    ax3.spines.top.set_visible(False)

    #ax.yaxis.get_major_ticks()[-1].gridline.set_visible(False)
    #ax1.yaxis.get_major_ticks()[-1].gridline.set_visible(False)

    h0, l0 = ax.get_legend_handles_labels()
    h1, l1 = ax1.get_legend_handles_labels()
    h2, l2 = ax2.get_legend_handles_labels()
    h3, l3 = ax3.get_legend_handles_labels()
    ax.legend(h0, l0, loc='upper left', ncol=2, fontsize=13, framealpha=0.5)

    fig.legend(h3 + h2 + h1, l3 + l2 + l1, loc='lower left', ncol=2,
               bbox_to_anchor=(0.046, 0.165), bbox_transform=fig.transFigure, fontsize=legend_fontsize)

    for c in ax.containers:
        ax.bar_label(c, label_type='center', color='white', weight='bold', fontsize=label_fontsize)

    ax.text(0.16, 0.80, 'aegis4048.github.io', fontsize=12, ha='center', va='center',
            transform=ax.transAxes, color='grey', alpha=0.5)        

fig.tight_layout()

def setbold(txt): 
    return ' '.join([r"$\bf{" + item + "}$" for item in txt.split(' ')])

y_pos = 0.998
fig.suptitle(setbold('DUC &amp; Newly Drilled Wells Count and Production')  + ",  Jan 2014 - June 2022", fontsize=19, x=0.328, y=1.025)
ax.annotate('', xy=(0.006, y_pos), xycoords='figure fraction', xytext=(1, y_pos), arrowprops=dict(arrowstyle="-", color='k', lw=1.3))
ax.annotate('Source: Pythonic Excursions, EIA', xy=(0.05, 0.145), xycoords='figure fraction', fontsize=16)

fig.set_facecolor("white")
            &lt;/code&gt;
        &lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div id="Reservoir depletion due to existing offset wells"&gt;&lt;/div&gt;&lt;h2 id="3.-Reservoir-depletion-due-to-existing-offset-wells"&gt;3. Reservoir depletion due to existing offset wells&lt;a class="anchor-link" href="#3.-Reservoir-depletion-due-to-existing-offset-wells"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Rarely the operators get a chance to drill a well in a virgin reservoir condition, especially in the Permian basin. Most times it's infill drilling among pre-existing wells that have been on production for some time, potentially inducing reservoir depletion problems when chained with unoptimized fracture design and well spacing.&lt;/p&gt;
&lt;p&gt;Well-to-well interference is known to have negative impact on production for both parent (old) and child (new) wells. The prolonged production from a parent well induces reservoir depletion and creates pressure sinks (area of lower pressure). A child well's hydraulic fractures are more prone to grow towards the pressure sink, causing fracture hits. &lt;a href="https://onepetro.org/URTECONF/proceedings-abstract/17URTC/All-17URTC/URTEC-2690466-MS/156487/" target="_blank"&gt;Ajisafe et al. (2016)&lt;/a&gt; studied 300 horizontal wells in the Avalon Shale of the Delaware basin and found that child wells were almost 30% less productive than parent wells. To mitigate the effects of frac hits, they simulated 1,320-ft and 660-ft lateral spacing and found that child wells with 1,320-ft spacing saw only a 5% reduction in cumulative production over five years compared to parent wells, while 660-ft spacing saw a 24% reduction.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://onepetro.org/REE/article-abstract/22/01/190/206725/Concerns-and-Clarifications-for-Drilled" target="_blank"&gt;Srinivasan et al. (2018)&lt;/a&gt; conducted study on the Williston basin, and discovered that &lt;i&gt;"the longer the difference in timing between completions in areas of high reservoir quality, the more pronounced the impacts of pressure depletion will be on new adjacent completions."&lt;/i&gt; It has particular significance for DUC wells because, as existing wells continue to produce and deplete, wells waiting on completion are already experiencing these variations around them, which will worsen as completion is delayed further.&lt;/p&gt;
&lt;p&gt;While the impact of a parent well on a child well is a convoluted function of fracture design, well spacing, DUC time, and many other factors, this article focuses on the effect of DUC time (gap between drilling and completion) on EUR to show why it may not be wise to delay completion for wells in certain basins (especailly Anadarko and Permian).&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div id="Quantifying the impact of DUC time on EUR"&gt;&lt;/div&gt;&lt;h2 id="4.-Quantifying-the-impact-of-DUC-time-on-EUR"&gt;4. Quantifying the impact of DUC time on EUR&lt;a class="anchor-link" href="#4.-Quantifying-the-impact-of-DUC-time-on-EUR"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;blockquote class="quote" style="font-family: unset; font-size: unset; font-style: unset; padding-bottom: 12px"&gt;
&lt;div class="terminology" style="margin-top: 2px"&gt;&lt;strong&gt;DUC time:&lt;/strong&gt; Gap in time between drilling and completion of a well (days).&lt;/div&gt;
&lt;div class="terminology"&gt;&lt;strong&gt;PPF:&lt;/strong&gt; Proppant per Perforated Foot (lbs/ft).&lt;/div&gt;
&lt;div class="terminology"&gt;&lt;strong&gt;FPF:&lt;/strong&gt; Fluid per Perforated Foot (gal/ft).&lt;/div&gt;
&lt;div class="terminology"&gt;&lt;strong&gt;Completion size:&lt;/strong&gt; Total volume of proppant and fracturing fluid.&lt;/div&gt;
&lt;/blockquote&gt;&lt;p&gt;&lt;strong&gt;Data Description&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The primary data source used in this study is Enverus' Drilling Info application (refer to &lt;a class="internal-link" href="#pandas table"&gt;above&lt;/a&gt; for quick peek at the sample data). The data was filtered to include only horizontal wells (column: &lt;em&gt;Drill Type&lt;/em&gt;) and producing wells (column: &lt;em&gt;Production Type&lt;/em&gt;), while excluding injection wells, dry holes, cores, etc. DUC time (column: &lt;em&gt;Lag&lt;/em&gt;) is calculated by the difference between spud date and completion date. Since Drilling Info does not provide finished drilling date, spud date was assumed to be equivalent to drilled date. Modern day drilling typically takes less than 20 days.&lt;/p&gt;
&lt;p&gt;The EUR (column: &lt;em&gt;EUR (Full) BOE&lt;/em&gt;) is expressed in Barrels of Oil Equivalent (BOE). The oil and gas EURs are regularly calculated and updated by Enverus. Although these auto-fitted EURs may not be completely accurate when examined on a well-by-well basis, they provide valuable insights for basin-scale analysis. The gas EUR is converted from MCFD to BOE using a conversion factor of 6 before being combined with the oil EUR.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Methodology&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Literature review suggests that the volume of hydrocarbons lost to parent wells from child wells increases with longer DUC times. However, visualizing the raw EUR vs. DUC time contradicts this proved scientific wisdom, as shown in &lt;a class="internal-link" href="#fig-6"&gt;Figure 6&lt;/a&gt;, due to the factors that have inconsistent effects on production at different DUC times. The presented study below attempts to separate the sole effects of DUC time on reservoir depletion by normalizing EUR by lateral length and completion size.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div id="Preliminary data cleaning"&gt;&lt;/div&gt;&lt;h3 id="4.1.-Preliminary-data-cleaning"&gt;4.1. Preliminary data cleaning&lt;a class="anchor-link" href="#4.1.-Preliminary-data-cleaning"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;It is of common phenomenon that real life data has unwanted extreme data points or outliers that skew the derived statistics. This study filters those unwanted data based on percentile method; data points bigger or smaller than 97.5% or 2.5% are removed for lateral length, PPF, and FPF. In case of EUR, data points bigger than 95% percentile are filtered out. &lt;a class="internal-link" href="#fig-5"&gt;Figure 5&lt;/a&gt; illustrates the result of outlier removal process for Anadarko and Haynesville for EUR and PPF. Though not shown in the below figure, the outlier removal process is applied for all data types of interest (EUR, lateral, PPF, and FPF) for all seven DPR basins.&lt;/p&gt;
&lt;div class="row" id="fig-5" style="margin-top: 15px;"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/Extreme Data Removal for EURs and PPF.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 5:&lt;/strong&gt; Each dot represents one well. The wells are binned by 50 lag days. Each band of dots represents wells completed within the 50-day binned interval. For EUR, upper 5% are removed. For PPF (proppant per perforated foot), upper and lower 2.5% are removed.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="solution_panel closed"&gt;
&lt;div class="solution_title"&gt;
&lt;p class="solution_title_string"&gt;Source Code For Figure (5)&lt;/p&gt;
&lt;ul class="nav navbar-right panel_toolbox"&gt;
&lt;li&gt;&lt;a class="collapse-link"&gt;&lt;i class="fa fa-chevron-down"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="clearfix"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="solution_content"&gt;
&lt;pre&gt;
            &lt;code class="language-python"&gt;
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import matplotlib.gridspec as gridspec
import matplotlib.ticker as ticker
from scipy import stats

############################################# Basins ##############################################

basins = ['Anadarko', 'Haynesville', 'Anadarko', 'Haynesville']

################################### DUC Wells Count per Basin #####################################

EURs = ['EUR (Full) BOE', 'EUR Oil (Full)', 'EUR Gas (Full)']
dfs = []
for basin in basins:
    df_cur = pd.read_excel('https://aegis4048.github.io/downloads/notebooks/sample_data/EUR_vs_Lag.xlsx', sheet_name=basin)
    df_cur = df_cur.dropna(subset=['Completion Date'])           # Drop wells that are not completed
    df_cur = df_cur[df_cur['Drill Type'] == 'H']                 # Horizontal wells only

    # Drops non-hydrocarbon wells like: Dry hole, injection, core, etc.
    df_cur = df_cur[df_cur['Production Type'].isin(['OIL', 'GAS', 'OIL &amp; GAS'])]

    df_cur = df_cur.dropna(subset=EURs)
    df_cur[EURs] = df_cur[EURs].div(1000).round(0)
    dfs.append(df_cur)

############################################# Plot ##############################################

fig = plt.figure(figsize=(16, 9))
gs = gridspec.GridSpec(4, 4)
ax1 = plt.subplot(gs[0:2, 0:2])
ax2 = plt.subplot(gs[0:2, 2:])
ax3 = plt.subplot(gs[2:, 0:2])
ax4 = plt.subplot(gs[2:, 2:])
axes = [ax1,ax2,ax3,ax4]

axis_tick_fontsize = 15
title_fontsize = 19
markersize = 20
y_label_fontsize = 18
legend_annot_fontsize = 18

colors = ['grey', '#c6b4ee', 'grey', '#c6b4ee']
columns = ['EUR (Full) BOE', 'EUR (Full) BOE', 
           'Proppant per Perforated Foot (First Treatment Job)', 'Proppant per Perforated Foot (First Treatment Job)']

for i, (ax, basin, column) in enumerate (zip(axes, basins, columns)):

    df = dfs[i]

    stepsize= 50
    bins = np.arange(0, 1000 + stepsize, stepsize)

    binned = []
    for b in bins[: -1]:
        _ = df[df['Lag'].between(b, b + stepsize)][column]
        binned.append(_)

    binned_outlier = []
    binned_cleaned = []

    ################################# For EURs ######################################

    if column == 'EUR (Full) BOE':

        for item in binned:
            threshold = item.quantile(0.975)
            binned_outlier.append(item[item &gt;= threshold])
            binned_cleaned.append(item[item &lt; threshold])

        if basin == 'Anadarko':
            y_max = 18000
            n_ticks = 7        
        else:
            y_max = 25000
            n_ticks = 6        

        ax.set_ylabel('EUR (MBOE)', fontsize=y_label_fontsize)
        ax.set_title(basin, fontsize=title_fontsize)
        ax.text(0.98, 0.65, 'EURs', fontsize=20, ha='right', transform=ax.transAxes, color='k', alpha=0.5)

    ################################# For Proppants ######################################

    if column == 'Proppant per Perforated Foot (First Treatment Job)':
        for item in binned:
            threshold_upper = item.quantile(0.975) 
            threshold_lower = item.quantile(0.025)
            binned_outlier.append(item[(item &lt; threshold_lower) | (item &gt; threshold_upper)])
            binned_cleaned.append(item[(item &gt;= threshold_lower) &amp; (item &lt;= threshold_upper)])

        if basin == 'Anadarko':
            y_max = 7000
            n_ticks = 8       
        else:
            y_max = 10000
            n_ticks = 6             

        ax.set_ylabel('PPF (lbs/ft)', fontsize=y_label_fontsize)
        ax.set_xlabel('DUC Time (Days)', fontsize=y_label_fontsize + 1)
        ax.text(0.98, 0.65, 'Proppants/Ft', fontsize=20, ha='right', transform=ax.transAxes, color='k', alpha=0.5)

    ######################################################################################

    # scatter plot of cleaned data
    for j, item in enumerate(binned_cleaned):
        x = np.random.normal(j + 1, 0.06, size=len(item))
        ax.scatter(x, item, color=colors[i], alpha=0.5, s=10, edgecolors='k', linewidth=0.1, label='Original wells')

    # scatter plot of outliers
    for k, item_outlier in enumerate(binned_outlier):
        x_outlier = np.random.normal(k + 1, 0.06, size=len(item_outlier))
        ax.scatter(x_outlier, item_outlier, color='r', alpha=0.5, s=50, marker='x', label='Outliers')

    # axis range
    ymin = 0 - 0.05 * y_max
    ax.set_ylim(ymin, y_max)

    # tick settings
    ax.yaxis.set_major_locator(plt.MaxNLocator(n_ticks))
    ax.tick_params(axis='x', labelsize=axis_tick_fontsize)
    ax.tick_params(axis='y', labelsize=axis_tick_fontsize)
    ax.yaxis.set_major_formatter(ticker.EngFormatter())
    ax.xaxis.set_major_locator(plt.MaxNLocator(11))
    ax.yaxis.get_major_ticks()[-1].gridline.set_visible(False)
    ax.set_xticklabels([int(item) for item in ax.get_xticks() * stepsize], rotation=30, fontsize=axis_tick_fontsize)

    # spines and grid
    ax.spines.top.set_visible(False)
    ax.spines.right.set_visible(False)
    ax.grid(axis='y', alpha=0.5)
    ax.set_axisbelow(True)
    ax.set_facecolor('#eeeeee')

    # legend
    h0, l0 = ax.get_legend_handles_labels()
    leg = ax.legend([h0[0], h0[-1]], [l0[0], l0[-1]], fontsize=16, ncol=1, loc='upper right')
    for lh in leg.legendHandles:
        lh.set_alpha(1)
        lh.set_sizes([50])
    ax.text(0.19, 0.88, 'aegis4048.github.io', fontsize=16, ha='center', va='center',
            transform=ax.transAxes, color='grey', alpha=0.5)

fig.tight_layout()

def setbold(txt):
    return ' '.join([r"$\bf{" + item + "}$" for item in txt.split(' ')])

y_pos = 0.993
fig.suptitle(setbold('Extreme Data Removal for EURs and PPF')  + ",  Jan 2014 - June 2022", fontsize=19, x=0.29, y=1.04)
ax.annotate('', xy=(0.005, y_pos), xycoords='figure fraction', xytext=(1, y_pos), arrowprops=dict(arrowstyle="-", color='k', lw=1.3))
ax.annotate('Source: Pythonic Excursions, DrillingInfo', xy=(0.01, 0.02),
            xycoords='figure fraction', fontsize=legend_annot_fontsize)

fig.set_facecolor("white")

plt.subplots_adjust(bottom=.15)
            &lt;/code&gt;
        &lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div id="Raw EUR vs. DUC time"&gt;&lt;/div&gt;&lt;h3 id="4.2.-Raw-EUR-vs.-DUC-time"&gt;4.2. Raw EUR vs. DUC time&lt;a class="anchor-link" href="#4.2.-Raw-EUR-vs.-DUC-time"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;According to prevailing scientific knowledge, the duration of DUC time is expected to negatively impact production. Nevertheless, the findings displayed in &lt;a class="internal-link" href="#fig-6"&gt;Figure 6&lt;/a&gt; appear to contradict this notion. The plot depicts the raw EUR on the y-axis and the DUC time on the x-axis. The mean EURs for wells completed soon after drilling (within 50 days, first bands of dots in each basin plot) appear to be lower than those completed between 250 and 350 days after drilling. Notably, this difference is most pronounced for the Haynesville wells, as &lt;strong&gt;those completed within 300-350 days exhibit an EUR that is 328% higher than wells completed within 50 days after drilling&lt;/strong&gt;. This observation is illogical and suggests that further data analysis and investigation are required to discern the genuine influence of DUC time on EUR.&lt;/p&gt;
&lt;div class="row" id="fig-6" style="margin-top: 15px;"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/0_EUR_raw.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 6:&lt;/strong&gt; Each dot represents one well. The wells are binned by 50 DUC days. Each band of dots represents wells completed within the 50-day binned interval. The blue line plot represents the average of wells in each 50-day bin. Note that the credibility of this average line plot falls with the increasing DUC time due to lack of data near the end of the x-axis. Index of peak is chosen by visual inspection; the point which "looks like" an inflection point is chosen, and is prone to subjectivity.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="solution_panel closed"&gt;
&lt;div class="solution_title"&gt;
&lt;p class="solution_title_string"&gt;Source Code For Figure (6)&lt;/p&gt;
&lt;ul class="nav navbar-right panel_toolbox"&gt;
&lt;li&gt;&lt;a class="collapse-link"&gt;&lt;i class="fa fa-chevron-down"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="clearfix"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="solution_content"&gt;
&lt;pre&gt;
            &lt;code class="language-python"&gt;
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import matplotlib.gridspec as gridspec
import matplotlib.ticker as ticker

############################################# Basins ##############################################

basins = sorted(['Anadarko', 'Appalachia', 'Eagle Ford', 'Haynesville', 'Niobrara', 'Permian', 'Bakken'])

################################### DUC Wells Count per Basin #####################################

no_NA = ['EUR (Full) BOE']
dfs = []
for basin in basins:
    df_cur = pd.read_excel('https://aegis4048.github.io/downloads/notebooks/sample_data/EUR_vs_Lag.xlsx', sheet_name=basin)
    df_cur = df_cur.dropna(subset=no_NA)           # Drop wells that are not completed
    df_cur = df_cur[df_cur['Drill Type'] == 'H']                   # Horizontal wells only

    # Drops non-hydrocarbon wells like: Dry hole, injection, core, etc.
    df_cur = df_cur[df_cur['Production Type'].isin(['OIL', 'GAS', 'OIL &amp; GAS'])]

    # BOE to MBOE unit conversion
    df_cur[no_NA] = df_cur[no_NA].div(1000).round(0)
    dfs.append(df_cur)

############################################# Plot ################################################

axis_tick_fontsize = 14
title_fontsize = 19
markersize = 20
y_label_fontsize = 16

colors = ['grey', '#a1794a', '#d484a9', '#cbe8f0', '#c6b4ee', '#914810', '#16534c']

fig = plt.figure(figsize=(16, 17))
gs = gridspec.GridSpec(4, 4)
ax1 = plt.subplot(gs[0, 0:2])
ax2 = plt.subplot(gs[0,2:])
ax3 = plt.subplot(gs[1,0:2])
ax4 = plt.subplot(gs[1,2:])
ax5 = plt.subplot(gs[2,0:2])
ax6 = plt.subplot(gs[2,2:])
ax7 = plt.subplot(gs[3,2:])
axes = [ax1,ax2,ax3,ax4,ax5,ax6,ax7]

def annotate_arrows(data_y, num, tick_spacing, ymax, x_start=1, ox=0.2, fontsize=14, flip_y=False):
    '''
    data_y = y coordinate of the datapoint of interest
    num = index of the datapoint of interest
    tick_spacing = spacing between two major ticks
    ox = offset of x
    '''

    head_padding = ymax * 0.04                 # extra space between the datapoint of interest and arrowhead
    oy = ymax * 0.15                           # offset of y
    sx = x_start + (tick_spacing / 2) * num
    sy = data_y + head_padding

    if flip_y:
        oy = -ymax * 0.15
        sy = data_y - head_padding

    ax.arrow(sx + ox, sy + oy, -ox, -oy, head_width=0.3, head_length=ymax * 0.0333, fc='k', ec='k', lw=2)
    t1 = ax.text(sx + ox, sy + oy, int(data_y), fontsize=fontsize, color='k', ha='center')
    t1.set_bbox(dict(facecolor='white', alpha=1, edgecolor='k', pad=5, lw=2)) 

    xytext = (sx + ox, sy + oy)

    return xytext 

for i, (ax, basin) in enumerate (zip(axes, basins)):

    # select current basin data
    df = dfs[i]

     # cut off high lag bins with too few wells
    df = df[df['Lag'] &lt;= 1000]

    # binning by 50 days
    stepsize = 50
    bins = np.arange(0, 1000 + stepsize, stepsize)

    # scatter plot of binned wells
    eur_original = []
    eur_cleaned = []
    eur_outlier = []
    #cleaned_indices = []
    for b in bins[: -1]:

        eur_original_ = df[df['Lag'].between(b, b + stepsize)]['EUR (Full) BOE']

        cutoff = 0.95
        eur_cleaned_ = eur_original_[eur_original_ &lt;= eur_original_.quantile(cutoff)]
        eur_outlier_ = eur_original_[eur_original_ &gt; eur_original_.quantile(cutoff)]

        eur_cleaned.append(eur_cleaned_)
        eur_outlier.append(eur_outlier_)    

    for j, item in enumerate(eur_cleaned):
        x = np.random.normal(j + 1, 0.06, size=len(item))
        ax.scatter(x, item, color=colors[i], alpha=0.5, s=10, edgecolors='k', linewidth=0.1, label='One well data')

    for k, item_outlier in enumerate(eur_outlier):
        x_outlier = np.random.normal(k + 1, 0.06, size=len(item_outlier))
        ax.scatter(x_outlier, item_outlier, color='r', alpha=0.3, s=30, marker='x', label='Outliers')   

    # line plot of average of binned wells
    means = [np.mean(item) for item in eur_cleaned]
    ax.plot([i + 1 for i in range(len(means))], means, linestyle='-', marker='o', markersize=8, alpha=0.7,
            label='AVG. EUR, binned by 50 lag days')       

    # axis range
    #ymax = y_max[basin]
    ymax = 5000
    ymin = 0 - 0.05 * ymax
    ax.set_ylim(ymin, ymax)
    #ax.set_ylim(2500, 12000)

    # tick settings
    ax.minorticks_on()
    ax.xaxis.set_tick_params(which='minor', bottom=False)
    ax.xaxis.set_major_locator(plt.MaxNLocator(12))
    ax.yaxis.set_major_locator(plt.MaxNLocator(7))  

    ax.yaxis.set_major_locator(plt.MaxNLocator(6)) 
    ax.yaxis.set_minor_locator(ticker.AutoMinorLocator(2)) 

    ax.set_xticklabels([int(item) for item in ax.get_xticks() * stepsize], fontsize=axis_tick_fontsize)
    ax.tick_params(axis='x', labelsize=axis_tick_fontsize, labelrotation=30)
    ax.tick_params(axis='y', labelsize=axis_tick_fontsize)
    ax.yaxis.get_major_ticks()[-1].gridline.set_visible(False)
    ax.yaxis.set_major_formatter(ticker.EngFormatter())

    # spines and grid
    ax.spines.top.set_visible(False)
    ax.spines.right.set_visible(False)
    ax.grid(axis='y', alpha=0.5)
    ax.grid(axis='y', which='minor', color='grey', linestyle='--', alpha=0.2)
    ax.set_axisbelow(True)

    # texts
    ax.set_title(basin + ': ' + str(df.shape[0]) + ' wells', fontsize=title_fontsize)
    ax.set_ylabel('EUR (MBOE)', fontsize=y_label_fontsize)
    if i == 4 or i == 6:
        ax.set_xlabel('DUC time (Days)', fontsize=y_label_fontsize)
    ax.set_facecolor('#eeeeee')
    ax.text(0.15, 0.88, 'aegis4048.github.io', fontsize=12, ha='center', va='center',
            transform=ax.transAxes, color='grey', alpha=0.5)    

    # legends
    h0, l0 = ax.get_legend_handles_labels()
    leg = ax.legend([h0[0]], [l0[0]], fontsize=14, ncol=2, loc='upper right')
    for lh in leg.legendHandles:
        lh.set_alpha(1)
        lh.set_sizes([50])

    h1, l1 = ax.get_legend_handles_labels()
    fig.legend([h1[-1]], [l1[-1]], loc='lower left', ncol=2,
               bbox_to_anchor=(0.046, 0.195), bbox_transform=fig.transFigure, fontsize=18) 

    fs = 15
    lw = 2
    _1 = 0
    spacing = abs(ax.get_xticks()[1] - ax.get_xticks()[2])
    if basin == 'Anadarko':
        _2 = 4
        yloc = 3000 
        textxy1 = annotate_arrows(means[_1], _1, spacing, ymax, fontsize=fs)
        textxy2 = annotate_arrows(means[_2], _2, spacing, ymax, fontsize=fs)   
        ax.plot([textxy1[0], textxy1[0]], [textxy1[1], yloc], lw=lw, color='k', ls='--')
        ax.plot([textxy2[0], textxy2[0]], [textxy2[1], yloc], lw=lw, color='k', ls='--')
        ax.plot([textxy1[0], textxy2[0]], [yloc, yloc], lw=lw, color='k', ls='--')
        diff_percentage = '+' + str(int((means[_2] - means[_1])/means[_1] * 100)) + '%'
        t1 = ax.text((textxy1[0] + textxy2[0])/2, yloc, diff_percentage, fontsize=fs, color='green', ha='center')
        t1.set_bbox(dict(facecolor='white', alpha=1, edgecolor='k', pad=5, lw=2)) 

    if basin == 'Appalachia': 
        _2 = 2
        yloc = 1000 
        textxy1 = annotate_arrows(means[_1], _1, spacing, ymax, fontsize=fs)
        textxy2 = annotate_arrows(means[_2], _2, spacing, ymax, fontsize=fs)   
        ax.plot([textxy1[0], textxy1[0]], [textxy1[1], yloc], lw=lw, color='k', ls='--')
        ax.plot([textxy2[0], textxy2[0]], [textxy2[1], yloc], lw=lw, color='k', ls='--')
        ax.plot([textxy1[0], textxy2[0]], [yloc, yloc], lw=lw, color='k', ls='--')
        diff_percentage = '+' + str(int((means[_2] - means[_1])/means[_1] * 100)) + '%'
        t1 = ax.text((textxy1[0] + textxy2[0])/2, yloc, diff_percentage, fontsize=fs, color='green', ha='center')
        t1.set_bbox(dict(facecolor='white', alpha=1, edgecolor='k', pad=5, lw=2)) 
    if basin == 'Bakken':
        _2 = 4
        yloc = 3000 
        textxy1 = annotate_arrows(means[_1], _1, spacing, ymax, fontsize=fs)
        textxy2 = annotate_arrows(means[_2], _2, spacing, ymax, fontsize=fs)   
        ax.plot([textxy1[0], textxy1[0]], [textxy1[1], yloc], lw=lw, color='k', ls='--')
        ax.plot([textxy2[0], textxy2[0]], [textxy2[1], yloc], lw=lw, color='k', ls='--')
        ax.plot([textxy1[0], textxy2[0]], [yloc, yloc], lw=lw, color='k', ls='--')
        diff_percentage = '+' + str(int((means[_2] - means[_1])/means[_1] * 100)) + '%'
        t1 = ax.text((textxy1[0] + textxy2[0])/2, yloc, diff_percentage, fontsize=fs, color='green', ha='center')
        t1.set_bbox(dict(facecolor='white', alpha=1, edgecolor='k', pad=5, lw=2)) 
    if basin == 'Eagle Ford':
        _2 = 4
        yloc = 3000
        textxy1 = annotate_arrows(means[_1], _1, spacing, ymax, fontsize=fs)
        textxy2 = annotate_arrows(means[_2], _2, spacing, ymax, fontsize=fs)   
        ax.plot([textxy1[0], textxy1[0]], [textxy1[1], yloc], lw=lw, color='k', ls='--')
        ax.plot([textxy2[0], textxy2[0]], [textxy2[1], yloc], lw=lw, color='k', ls='--')
        ax.plot([textxy1[0], textxy2[0]], [yloc, yloc], lw=lw, color='k', ls='--')
        diff_percentage = '+' + str(int((means[_2] - means[_1])/means[_1] * 100)) + '%'
        t1 = ax.text((textxy1[0] + textxy2[0])/2, yloc, diff_percentage, fontsize=fs, color='green', ha='center')
        t1.set_bbox(dict(facecolor='white', alpha=1, edgecolor='k', pad=5, lw=2))        
    if basin == 'Haynesville': 
        _2 = 6
        yloc = 4200 
        textxy1 = annotate_arrows(means[_1], _1, spacing, ymax, fontsize=fs, flip_y=False)
        textxy2 = annotate_arrows(means[_2], _2, spacing, ymax, fontsize=fs, flip_y=True)   
        ax.plot([textxy1[0], textxy1[0]], [textxy1[1], yloc], lw=lw, color='k', ls='--')
        ax.plot([textxy2[0], textxy2[0]], [textxy2[1], yloc], lw=lw, color='k', ls='--')
        ax.plot([textxy1[0], textxy2[0]], [yloc, yloc], lw=lw, color='k', ls='--')
        diff_percentage = '+' + str(int((means[_2] - means[_1])/means[_1] * 100)) + '%'
        t1 = ax.text((textxy1[0] + textxy2[0])/2, yloc, diff_percentage, fontsize=fs, color='green', ha='center')
        t1.set_bbox(dict(facecolor='white', alpha=1, edgecolor='k', pad=5, lw=2)) 
    if basin == 'Niobrara':
        _2 = 4
        yloc = 3000
        textxy1 = annotate_arrows(means[_1], _1, spacing, ymax, fontsize=fs)
        textxy2 = annotate_arrows(means[_2], _2, spacing, ymax, fontsize=fs)   
        ax.plot([textxy1[0], textxy1[0]], [textxy1[1], yloc], lw=lw, color='k', ls='--')
        ax.plot([textxy2[0], textxy2[0]], [textxy2[1], yloc], lw=lw, color='k', ls='--')
        ax.plot([textxy1[0], textxy2[0]], [yloc, yloc], lw=lw, color='k', ls='--')
        diff_percentage = '+' + str(int((means[_2] - means[_1])/means[_1] * 100)) + '%'
        t1 = ax.text((textxy1[0] + textxy2[0])/2, yloc, diff_percentage, fontsize=fs, color='green', ha='center')
        t1.set_bbox(dict(facecolor='white', alpha=1, edgecolor='k', pad=5, lw=2))  
    if basin == 'Permian':
        _2 = 6
        yloc = 3500 
        textxy1 = annotate_arrows(means[_1], _1, spacing, ymax, fontsize=fs)
        textxy2 = annotate_arrows(means[_2], _2, spacing, ymax, fontsize=fs)   
        ax.plot([textxy1[0], textxy1[0]], [textxy1[1], yloc], lw=lw, color='k', ls='--')
        ax.plot([textxy2[0], textxy2[0]], [textxy2[1], yloc], lw=lw, color='k', ls='--')
        ax.plot([textxy1[0], textxy2[0]], [yloc, yloc], lw=lw, color='k', ls='--')
        diff_percentage = '+' + str(int((means[_2] - means[_1])/means[_1] * 100)) + '%'
        t1 = ax.text((textxy1[0] + textxy2[0])/2, yloc, diff_percentage, fontsize=fs, color='green', ha='center')
        t1.set_bbox(dict(facecolor='white', alpha=1, edgecolor='k', pad=5, lw=2)) 

fig.tight_layout()

def setbold(txt):
    return ' '.join([r"$\bf{" + item + "}$" for item in txt.split(' ')])

y_pos = 0.998
fig.suptitle(setbold('EUR vs. Days Till Completion')  + ",  Jan 2014 - June 2022", fontsize=20, x=0.24, y=1.025)
ax.annotate('', xy=(0.006, y_pos), xycoords='figure fraction', xytext=(1, y_pos), arrowprops=dict(arrowstyle="-", color='k', lw=1.3))
ax.annotate('Source: Pythonic Excursions, DrillingInfo', xy=(0.055, 0.173), xycoords='figure fraction', fontsize=16)

fig.set_facecolor("white")    
            &lt;/code&gt;
        &lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="row" id="table-1" style="margin-top: -15px;"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/duc_table_1.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Table 1:&lt;/strong&gt; Summary table of Figure 6.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div id="Factors that affect EUR: Completion size and lateral length"&gt;&lt;/div&gt;&lt;h3 id="4.3.-Factors-that-affect-EUR:-Completion-size-and-lateral-length"&gt;4.3. Factors that affect EUR: Completion size and lateral length&lt;a class="anchor-link" href="#4.3.-Factors-that-affect-EUR:-Completion-size-and-lateral-length"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;The trend observed in &lt;a class="internal-link" href="#fig-6"&gt;Figure 6&lt;/a&gt; above, where EURs increase with increasing DUC time, contradicts the established scientific knowledge. However, we have found that this illogical trend is due to the use of smaller completion sizes and shorter lateral lengths for wells with shorter DUC times. Interestingly, the basins showing the greatest difference in EUR between the peak and trough in &lt;a class="internal-link" href="#table-1"&gt;Table 1&lt;/a&gt; (Anandarko and Haynesville) are also those with the largest increase in completion size and lateral length as DUC time increases.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p style="display: inline"&gt;&lt;a class="internal-link" href="#fig-7"&gt;Figure 7&lt;/a&gt; illustrates the variation in EUR due to completion size and lateral length with increasing DUC time for different basins. The largest increase in EUR between two time periods ([1] and [2]) was observed in the Haynesville basin, with a difference of 2,223 MBOE (a 209% increase)(&lt;a class="internal-link" href="#table-2"&gt;Table 2&lt;/a&gt;)&lt;/p&gt;&lt;strong style="color: #a4a4a4"&gt;(&lt;img class="inline-image" src="jupyter_images/duc_legend_1.png"/&gt;&lt;p style="display: inline"&gt;grey bars)&lt;/p&gt;&lt;/strong&gt;. A correlation analysis showed that this increase was positively associated with a 46% increase (2,111 ft) in lateral length (&lt;a class="internal-link" href="#table-3"&gt;Table 3&lt;/a&gt;)&lt;strong style="color: #111111"&gt;(&lt;img class="inline-image" src="jupyter_images/duc_legend_2.png"/&gt;black line)&lt;/strong&gt;, 121% boost in PPF (&lt;a class="internal-link" href="#table-4"&gt;Table 4&lt;/a&gt;)&lt;strong style="color: #9504d3"&gt;(&lt;img class="inline-image" src="jupyter_images/duc_legend_3.png"/&gt;&lt;p style="display: inline"&gt;purple lines)&lt;/p&gt;&lt;/strong&gt; and a 95% boost in FPF (&lt;a class="internal-link" href="#table-5"&gt;Table 5&lt;/a&gt;)&lt;strong style="color: #287cb7"&gt;(&lt;img class="inline-image" src="jupyter_images/duc_legend_4.png"/&gt;&lt;p style="display: inline"&gt;blue lines)&lt;/p&gt;&lt;/strong&gt;&lt;p style="display: inline"&gt; for wells completed between 200-250 days after drilling, compared to wells completed within 50 days after drilling. Similar trends were observed for the Anadarko, Permian, and Bakken basins, although the EUR increase in the Bakken basin occurred at a much slower pace over a 500-day period.&lt;/p&gt;&lt;p&gt;Recall that PPF and FPF represent completion size normalized by lateral length (per foot). An increase in PPF and FPF implies that operators are not only increasing the total volume of proppant and fluid to fracture additional lateral length, but also increasing the completion concentration for each foot of the lateral for older DUC wells. This increase in completion size may be an effort to compensate for potential reservoir depletion issues that older DUC wells may encounter due to nearby parent wells have have already been producing for a while.&lt;/p&gt;
&lt;p&gt;Such attempt to compensate for potential reservoir depletion induced by parent wells can be best observed in the Anadarko and Hanyesville wells. An examination of &lt;a class="internal-link" href="#table-2"&gt;Table 2&lt;/a&gt; reveals a significant 217% (Anadarko) and 209% (Haynesville) increase in EUR &lt;strong style="color: #a4a4a4"&gt;(&lt;img class="inline-image" src="jupyter_images/duc_legend_1.png"/&gt;grey bars)&lt;/strong&gt; when completion concentration is boosted between [1] and [2]. Anadarko observed 104% and 60% additional PPF and FPF, and Hanyesville 121% and 95% bigger PPF and FPF, respectively (&lt;a class="internal-link" href="#table-2"&gt;Table 4&lt;/a&gt; and &lt;a class="internal-link" href="#table-2"&gt;Table 5&lt;/a&gt;). These findings from &lt;a class="internal-link" href="#fig-7"&gt;Figure 7&lt;/a&gt; prove the positive correlation between bigger EUR and bigger completion size.&lt;/p&gt;
&lt;p&gt;Conversely, however, the figure also suggests that the &lt;strong&gt;operators tend to undersize their completion design for wells completed shortly after drilling (within 250 days), resulting in sub-optimal EUR&lt;/strong&gt;. Put another way, wells completed shortly after drilling often receive smaller completion concentrations and yield smaller EUR, despite the fact that they have superior reservoir condition, compared to older DUC wells. As such, operators could potentially profit more from larger completion investments for wells completed shortly after drilling.&lt;/p&gt;
&lt;p&gt;In contrast, wells in the Appalachia, Eagle Ford, and Niobrara basins showed only a slight increase in completion size and lateral length with increasing DUC time, with the exception of the Niobrara basin which showed a decrease in PPF (&lt;a class="internal-link" href="#table-4"&gt;Table 4&lt;/a&gt;)&lt;strong style="color: #9504d3"&gt;(&lt;img class="inline-image" src="jupyter_images/duc_legend_3.png"/&gt;purple line)&lt;/strong&gt; despite the longer lateral length. The magnitude of the difference between [1] and [2] was not as drastic as in the other basins. This finding explains why wells in these basins showed minimal difference in EUR with increasing DUC time in contrast to the Anadarko, Bakken, Haynesville, and Permian basins; because the volume of proppants and fluids used for completion and lateral length stayed relatively constant with increasing DUC time.&lt;/p&gt;
&lt;p&gt;Additionally, it is worth noting that the wells with longer lateral length tended to have longer DUC time. While this may sound obvious, taking a closer look at it reveals that it is not so. Between [1] and [2], the average difference in lateral length of wells in the Haynesville basin was 2,111 ft and the difference in time was 200 days. An experienced drilling and completion engineer would recognize that it does not take an additional 200 days to drill an extra 2,111 ft and hydraulically fracture that additional length. Modern day drilling takes under 15~25 days, and completion 3~5 days. One possible explanation for operators' tendency to delay completion for longer lateral wells is that the costs and time associated with bigger proppant and fluid volumes required to adequately fracture longer lateral sections are higher. Nevertheless, further research is needed to fully understand the economic trade-offs involved in completion timing for longer lateral wells.&lt;/p&gt;
&lt;div class="row" id="fig-7" style="margin-top: 15px;"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/7_factors_that_affect_EUR.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 7:&lt;/strong&gt; Each data point represents an average data (lateral length, PPF and FPF) of wells completed within 50-day binned interval. Each bar represents raw EUR. Note that the credibility of the average line plots decrease with the increasing DUC time due to lack of data near the end of the x-axis (refer to &lt;a class="internal-link" href="#fig-6"&gt;Figure 6&lt;/a&gt; to visually understand how each average is calculated). [1] and [2] represent local trough and peak used for comparison in Table 2, 3, 4 and 5. Indices of [2]s are chosen by visual inspection; the point which "looks like" an inflection point is chosen, and is prone to subjectivity.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="solution_panel closed"&gt;
&lt;div class="solution_title"&gt;
&lt;p class="solution_title_string"&gt;Source Code For Figure (7)&lt;/p&gt;
&lt;ul class="nav navbar-right panel_toolbox"&gt;
&lt;li&gt;&lt;a class="collapse-link"&gt;&lt;i class="fa fa-chevron-down"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="clearfix"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="solution_content"&gt;
&lt;pre&gt;
            &lt;code class="language-python"&gt;
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import matplotlib.gridspec as gridspec
import matplotlib.ticker as ticker

############################################# Basins ##############################################

basins = sorted(['Anadarko', 'Appalachia', 'Eagle Ford', 'Haynesville', 'Niobrara', 'Permian', 'Bakken'])

################################### DUC Wells Count per Basin #####################################

no_NA = ['EUR (Full) BOE', 'Fluid per Perforated Foot (First Treatment Job)', 
         'DI Lateral Length', 'Proppant per Perforated Foot (First Treatment Job)']
dfs = []
for basin in basins:
    df_cur = pd.read_excel('https://aegis4048.github.io/downloads/notebooks/sample_data/EUR_vs_Lag.xlsx', sheet_name=basin)
    df_cur = df_cur.dropna(subset=no_NA)           # Drop wells that are not completed
    df_cur = df_cur[df_cur['Drill Type'] == 'H']                   # Horizontal wells only

    # Drops non-hydrocarbon wells like: Dry hole, injection, core, etc.
    df_cur = df_cur[df_cur['Production Type'].isin(['OIL', 'GAS', 'OIL &amp; GAS'])]

    dfs.append(df_cur)

############################################# Plot ##############################################

colors = ['grey', '#a1794a', '#d484a9', '#cbe8f0', '#c6b4ee', '#914810', '#16534c']

axis_tick_fontsize = 14
title_fontsize = 19
markersize = 20
y_label_fontsize = 16

gas_prod_color = 'red'
oil_prod_color = 'green'
drilled_color = 'k'

fig = plt.figure(figsize=(16, 17))
gs = gridspec.GridSpec(4, 4)
ax1 = plt.subplot(gs[0, 0:2])
ax2 = plt.subplot(gs[0,2:])
ax3 = plt.subplot(gs[1,0:2])
ax4 = plt.subplot(gs[1,2:])
ax5 = plt.subplot(gs[2,0:2])
ax6 = plt.subplot(gs[2,2:])
ax7 = plt.subplot(gs[3,2:4])
axes = [ax1,ax2,ax3,ax4,ax5,ax6,ax7]

for i, (ax, basin) in enumerate(zip(axes, basins)):

    # select current basin data
    df = dfs[i]

    # cut off high lag bins with too few wells
    df = df[df['Lag'] &lt;= 1000]

    # binning by 50 days
    stepsize = 50
    bins = np.arange(0, 1000 + stepsize, stepsize)    

    # extreme data removal - 5%
    binned_cleaned_lateral = []
    binned_cleaned_ppf = []
    binned_cleaned_fpf = []
    binned_cleaned_eur = []
    for b in bins[: -1]:
        binned_lateral = df[df['Lag'].between(b, b + stepsize)]['DI Lateral Length']
        binned_ppf = df[df['Lag'].between(b, b + stepsize)]['Proppant per Perforated Foot (First Treatment Job)']
        binned_fpf = df[df['Lag'].between(b, b + stepsize)]['Fluid per Perforated Foot (First Treatment Job)']
        binned_eur = df[df['Lag'].between(b, b + stepsize)]['EUR (Full) BOE']

        # cutoff between 2.5% and 97.5%
        binned_cleaned_lateral_ = np.clip(binned_lateral, binned_lateral.quantile(0.025), binned_lateral.quantile(0.975))
        binned_cleaned_ppf_ = np.clip(binned_ppf, binned_ppf.quantile(0.025), binned_ppf.quantile(0.975))
        binned_cleaned_fpf_ = np.clip(binned_fpf, binned_fpf.quantile(0.025), binned_fpf.quantile(0.975))
        binned_cleaned_eur_ = np.clip(binned_eur, binned_eur.quantile(0.025), binned_eur.quantile(0.975))

        binned_cleaned_lateral.append(binned_cleaned_lateral_)
        binned_cleaned_ppf.append(binned_cleaned_ppf_)
        binned_cleaned_fpf.append(binned_cleaned_fpf_)
        binned_cleaned_eur.append(binned_cleaned_eur_)    

    means_lateral = [np.mean(item) for item in binned_cleaned_lateral]
    means_ppf = [np.mean(item) for item in binned_cleaned_ppf]
    means_fpf = [np.mean(item) for item in binned_cleaned_fpf]
    means_eur = [np.mean(item) / 1000 for item in binned_cleaned_eur] # BOE to MBOE

    # colors
    color_lat = 'k'
    color_ppf = 'darkviolet'
    color_fpf = '#1f77b4'

    # EUR (MBOE) - bar plot
    ax.bar([i + 1 for i in range(len(means_eur))], [item for item in means_eur], label='Avg. EUR', 
           alpha=0.3, color='k')
    ymax = 5000
    ax.set_ylim(0 - 0.025 * ymax, ymax)

    # Lateral length (ft) - line plot
    ax1 = ax.twinx()
    ax1.plot([i + 1 for i in range(len(means_lateral))], means_lateral, linestyle='--', marker='o', markersize=6, alpha=0.7,
        label='Avg. Lateral length', color=color_lat)    
    ymax = 15000
    ax1.set_ylim(0 - 0.025 * ymax, ymax)

    # PPF (lbs/ft) - line plot
    ax2 = ax.twinx()
    ax2.plot([i + 1 for i in range(len(means_ppf))], means_ppf, linestyle='--', marker='o', markersize=6, alpha=0.7,
        label='Avg. PPF', color=color_ppf)    
    ymax = 5000
    ax2.set_ylim(0 - 0.025 * ymax, ymax)

    # FPF (gal/ft) - line plot
    ax3 = ax.twinx()
    ax3.plot([i + 1 for i in range(len(means_fpf))], means_fpf, linestyle='--', marker='o', markersize=6, alpha=0.7,
        label='Avg. FPF', color=color_fpf)   
    ymax = 100
    ax3.set_ylim(0 - 0.025 * ymax, ymax)

    # 
    ax.yaxis.set_major_locator(plt.MaxNLocator(6))
    ax1.yaxis.set_major_locator(plt.MaxNLocator(6))
    ax2.yaxis.set_major_locator(plt.MaxNLocator(6))
    ax3.yaxis.set_major_locator(plt.MaxNLocator(6))
    ax.minorticks_on()
    ax.xaxis.set_tick_params(which='minor', bottom=False)
    ax.yaxis.set_minor_locator(ticker.AutoMinorLocator(3))

    ax.set_title(basin + ': ' + str(df.shape[0]) + ' wells', fontsize=title_fontsize)
    ax.set_facecolor('#eeeeee')
    ax.set_axisbelow(True)
    ax.grid(axis='y')
    ax.tick_params(axis='x', labelrotation=45, labelsize=axis_tick_fontsize)
    ax.tick_params(axis='y', labelsize=axis_tick_fontsize)
    ax1.tick_params(axis='y', labelsize=axis_tick_fontsize)
    ax2.tick_params(axis='y', labelsize=axis_tick_fontsize)
    ax3.tick_params(axis='y', labelsize=axis_tick_fontsize)

    if i % 2 == 0 and i != 6:
        ax.set_ylabel('EUR (MBOE)', fontsize=y_label_fontsize)
        ax1.set_yticks([])
        ax2.set_yticks([])
        ax3.set_yticks([])
    else:
        ax1.tick_params(axis='y', colors=color_lat)
        #ax1.spines['right'].set_color(color_lat)
        ax1.set_ylabel('Lateral Length (ft)', color=color_lat, fontsize=y_label_fontsize)

        ax2.tick_params(axis='y', colors=color_ppf)
        ax2.spines['right'].set_position(('outward', 65))
        ax2.spines['right'].set_color(color_ppf)
        ax2.set_ylabel('PPF (lbs/ft)', color=color_ppf, fontsize=y_label_fontsize)

        ax3.tick_params(axis='y', colors=color_fpf)
        ax3.spines['right'].set_position(('outward', 120))
        ax3.spines['right'].set_color(color_fpf)
        ax3.set_ylabel('FPF (gal/ft)', color=color_fpf, fontsize=y_label_fontsize)        

    if i == 6:
        ax.set_ylabel('EUR (MBOE)', fontsize=y_label_fontsize)

    if i == 4 or i == 6:
        ax.set_xlabel('DUC Time (Days)', fontsize=y_label_fontsize)
    else:
        ax.set_xlabel('')

    ax.grid(axis='y', which='minor', color='grey', linestyle='--', alpha=0.2)

    ax.xaxis.set_major_locator(plt.MaxNLocator(12))
    ax.set_xticklabels([int(item) for item in ax.get_xticks() * stepsize], fontsize=axis_tick_fontsize)
    ax.tick_params(axis='x', labelsize=axis_tick_fontsize, labelrotation=30)

    ax.yaxis.set_major_formatter(ticker.EngFormatter())
    ax1.yaxis.set_major_formatter(ticker.EngFormatter())
    ax2.yaxis.set_major_formatter(ticker.EngFormatter())
    ax1.yaxis.set_major_formatter(ticker.EngFormatter())

    ax.spines.top.set_visible(False)
    ax1.spines.top.set_visible(False)
    ax2.spines.top.set_visible(False)

    h0, l0 = ax.get_legend_handles_labels()
    h1, l1 = ax1.get_legend_handles_labels()
    h2, l2 = ax2.get_legend_handles_labels()
    h3, l3 = ax3.get_legend_handles_labels()

    fig.legend(h0 + h1 + h2 + h3, l0 + l1 + l2 + l3, loc='lower left', ncol=2,
               bbox_to_anchor=(0.046, 0.18), bbox_transform=fig.transFigure, fontsize=18)

    ax.text(0.86, 0.85, 'aegis4048.github.io', fontsize=12, ha='center', va='center',
            transform=ax.transAxes, color='grey', alpha=0.5)

    _1 = 1
    if basin == 'Anadarko':
        _2 = 5
    elif basin == 'Appalachia':
        _2 = 4
    elif basin == 'Bakken':
        _2 = 10
    elif basin == 'Eagle Ford':
        _2 = 5
    elif basin == 'Haynesville':
        _2 = 5
    elif basin == 'Niobrara':
        _2 = 6
    else:
        _2 = 7

    ax.axvline(x=_1, color='k', linestyle='--', linewidth=1, alpha=0.7)
    t1 = ax.text(_1, 4000, '[1]', fontsize=14, color='k', ha='center', va='center')    
    t1.set_bbox(dict(facecolor='#eeeeee', alpha=1, edgecolor='#eeeeee', pad=1))

    ax.axvline(x=_2, color='k', linestyle='--', linewidth=1, alpha=0.7)
    t2 = ax.text(_2, 4000, '[2]', fontsize=14, color='k', ha='center', va='center')    
    t2.set_bbox(dict(facecolor='#eeeeee', alpha=1, edgecolor='#eeeeee', pad=1))

fig.tight_layout()

def setbold(txt):
    return ' '.join([r"$\bf{" + item + "}$" for item in txt.split(' ')])

y_pos = 0.998
fig.suptitle(setbold('Factors Affecting EUR: Lateral Length, PPF, and FPF')  + ",  Jan 2014 - June 2022", fontsize=19, x=0.345, y=1.025)
ax.annotate('', xy=(0.006, y_pos), xycoords='figure fraction', xytext=(1, y_pos), arrowprops=dict(arrowstyle="-", color='k', lw=1.3))
ax.annotate('Source: Pythonic Excursions, EIA', xy=(0.055, 0.16), xycoords='figure fraction', fontsize=16)

fig.set_facecolor("white")
            &lt;/code&gt;
        &lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="row" id="table-2" style="margin-top: -15px;"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/duc_table_5.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;&gt;Table 2:&lt;/strong&gt; Summary table for Figure 7 - Estimated Ultimate Recovery&lt;/p&gt;&lt;/div&gt;&lt;div class="row" id="table-3"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/duc_table_2.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Table 3:&lt;/strong&gt; Summary table for Figure 7 - Lateral length&lt;/p&gt;&lt;/div&gt;&lt;div class="row" id="table-4"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/duc_table_3.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Table 4:&lt;/strong&gt; Summary table for Figure 7 - Proppant per Perforated Feet&lt;/p&gt;&lt;/div&gt;&lt;div class="row" id="table-5"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/duc_table_4.png"/&gt;&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Table 5:&lt;/strong&gt; Summary table for Figure 7 - Fluid per Perforated Feet&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div id="Normalized EUR vs. DUC time"&gt;&lt;/div&gt;&lt;h3 id="4.4.-Normalized-EUR-vs.-DUC-time"&gt;4.4. Normalized EUR vs. DUC time&lt;a class="anchor-link" href="#4.4.-Normalized-EUR-vs.-DUC-time"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;a class="internal-link" href="#fig-7"&gt;Figure 7&lt;/a&gt; above revealed positive correlation between completion size and lateral length with EUR; increased lateral length requires a larger completion size to fracture the additional length, leading to a greater EUR. To isolate the effect of DUC time on EUR and eliminate the influence of other confounding variables, EURs (BOE) are normalized (divided) by PPF (lbs/ft), FPF (gal/ft), and lateral length (ft). The resulting statistic has an unit of (BOE &lt;em&gt; ft)/(lbs &lt;/em&gt; gal). Its absolute value is meaningless, as it is a statistic created solely to distinguish the effects of other variables on EUR. Only the relative percentage change in the statistic is relevant.&lt;/p&gt;
&lt;p&gt;&lt;a class="internal-link" href="#fig-8"&gt;Figure 8&lt;/a&gt; displays the impact of DUC time on normalized EUR for each basin. The local troughs and peaks in each basin represent points of interest used to quantify the relative change in EUR for wells completed shortly after drilling compared to old DUC wells. A detailed analysis and commentary for each basin are presented &lt;a class="internal-link" href="#detailed"&gt;below&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Moreover, &lt;a class="internal-link" href="#fig-8"&gt;Figure 8&lt;/a&gt; has the potential to be a useful tool in evaluating completion investment efficiency. For instance, the Bakken basin, which has the highest mean normalized EUR along the x-axis, can be argued to have superior rate of return for each dollars spent for hydraulic fracturing compared to the other basins. Conversely, the Eagle Ford and Permian basins have lower mean normalized EUR values at different DUC times, which is expected due to their status as some of the oldest oil and gas plays in the US and the significant depletion of their "sweet spots."&lt;/p&gt;
&lt;p&gt;It is important to note that the calculated statistic in &lt;a class="internal-link" href="#fig-8"&gt;Figure 8&lt;/a&gt;, the average normalized EUR &lt;strong style="color: #287cb7"&gt;(&lt;img class="inline-image" src="jupyter_images/duc_legend_5.png"/&gt;blue lines)&lt;/strong&gt;, is heavily influenced by extreme data points due to two reasons. Firstly, the statistic is a combination of four variables, each of which may not contain outliers individually but may do so when combined. Therefore, if multiple variables have extreme data points, the calculated statistic will have greater skewness due to a larger standard deviation. Secondly, the derivation of the statistic necessitates the presence of four variables (EUR, PPF, FPF, and lateral length) simultaneously, causing the source data file (&lt;a class="ico xls" href="https://aegis4048.github.io/downloads/notebooks/sample_data/EUR_vs_Lag.xlsx" target="_blank"&gt;EUR_vs_Lag.xlsx&lt;/a&gt;) to drop rows with any of the four variables missing. Consequently, the Haynesville basin, which had 2,858 wells in &lt;a class="internal-link" href="#fig-6"&gt;Figure 6&lt;/a&gt;, had only 1,724 wells in &lt;a class="internal-link" href="#fig-8"&gt;Figure 8&lt;/a&gt;.&lt;/p&gt;
&lt;div class="row" id="fig-8" style="margin-top: 10px;"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/6_normalized_EUR_Lateral_FPF_PPF_2.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 8:&lt;/strong&gt; Each dot represents one well's normalized EUR. The wells are binned by 50 DUC days. Each band of dots represents wells completed within the 50-day binned interval. The blue line plot represetns the average of wells in each 50-day bin. Note that the credibility of this average line plot is affected by the number of data points in each bin. Bakken and Haynesville have suffers from lack of data for their first bin. Indices of the local peaks and troughs are chosen by visual inspection; the points which "look like" local troughs and peaks are picked, and are prone to subjectivity.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="solution_panel closed"&gt;
&lt;div class="solution_title"&gt;
&lt;p class="solution_title_string"&gt;Source Code For Figure (8)&lt;/p&gt;
&lt;ul class="nav navbar-right panel_toolbox"&gt;
&lt;li&gt;&lt;a class="collapse-link"&gt;&lt;i class="fa fa-chevron-down"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="clearfix"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="solution_content"&gt;
&lt;pre&gt;
            &lt;code class="language-python"&gt;
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import matplotlib.gridspec as gridspec
import matplotlib.ticker as ticker

############################################# Basins ##############################################

basins = sorted(['Anadarko', 'Appalachia', 'Eagle Ford', 'Haynesville', 'Niobrara', 'Permian', 'Bakken'])

################################### DUC Wells Count per Basin #####################################

no_NA = ['EUR (Full) BOE', 'Fluid per Perforated Foot (First Treatment Job)', 
         'DI Lateral Length', 'Proppant per Perforated Foot (First Treatment Job)']
dfs = []
for basin in basins:
    df_cur = pd.read_excel('https://aegis4048.github.io/downloads/notebooks/sample_data/EUR_vs_Lag.xlsx', sheet_name=basin)
    df_cur = df_cur.dropna(subset=no_NA)           # Drop wells that are not completed
    df_cur = df_cur[df_cur['Drill Type'] == 'H']                   # Horizontal wells only

    # Drops non-hydrocarbon wells like: Dry hole, injection, core, etc.
    df_cur = df_cur[df_cur['Production Type'].isin(['OIL', 'GAS', 'OIL &amp; GAS'])]

    #df_cur[EURs] = df_cur[EURs].div(1000).round(0)
    dfs.append(df_cur)

############################################# Plot ################################################

axis_tick_fontsize = 14
title_fontsize = 19
markersize = 20
y_label_fontsize = 16

colors = ['grey', '#a1794a', '#d484a9', '#cbe8f0', '#c6b4ee', '#914810', '#16534c']

fig = plt.figure(figsize=(16, 17))
gs = gridspec.GridSpec(4, 4)
ax1 = plt.subplot(gs[0, 0:2])
ax2 = plt.subplot(gs[0,2:])
ax3 = plt.subplot(gs[1,0:2])
ax4 = plt.subplot(gs[1,2:])
ax5 = plt.subplot(gs[2,0:2])
ax6 = plt.subplot(gs[2,2:])
ax7 = plt.subplot(gs[3,2:])
axes = [ax1,ax2,ax3,ax4,ax5,ax6,ax7]

def annotate_arrows(data_y, num, tick_spacing, ymax, x_start=1, ox=0.2, fontsize=14, flip_y=False):
    '''
    data_y = y coordinate of the datapoint of interest
    num = index of the datapoint of interest
    tick_spacing = spacing between two major ticks
    ox = offset of x
    '''

    head_padding = ymax * 0.04                 # extra space between the datapoint of interest and arrowhead
    oy = ymax * 0.15                           # offset of y
    sx = x_start + (tick_spacing / 2) * num
    sy = data_y + head_padding

    if flip_y:
        oy = -ymax * 0.15
        sy = data_y - head_padding

#------------------------------------------------------------------------------------------------------------------

    ax.arrow(sx + ox, sy + oy, -ox, -oy, head_width=0.0, fc='k', ec='k', lw=2)
    t1 = ax.text(sx + ox, sy + oy, round(data_y, 5), fontsize=fontsize, color='k', ha='center')
    t1.set_bbox(dict(facecolor='white', alpha=1, edgecolor='k', pad=5, lw=2)) 

#------------------------------------------------------------------------------------------------------------------

    xytext = (sx + ox, sy + oy)

    return xytext 


for i, (ax, basin) in enumerate (zip(axes, basins)):

    # select current basin data
    df = dfs[i]

     # cut off high lag bins with too few wells
    df = df[df['Lag'] &lt;= 1000]

    # binning by 50 days
    stepsize = 50
    bins = np.arange(0, 1000 + stepsize, stepsize)

    # scatter plot of binned wells
    #norm_eur_original = []
    norm_eur_cleaned = []
    norm_eur_outlier = []
    for b in bins[: -1]:

        eur_bin = df[df['Lag'].between(b, b + stepsize)]['EUR (Full) BOE']
        lateral_bin = df[df['Lag'].between(b, b + stepsize)]['DI Lateral Length']
        fpf_bin = df[df['Lag'].between(b, b + stepsize)]['Fluid per Perforated Foot (First Treatment Job)']
        ppf_bin = df[df['Lag'].between(b, b + stepsize)]['Proppant per Perforated Foot (First Treatment Job)']

        cutoff = 0.95
        norm_eur_original_ = eur_bin/lateral_bin/fpf_bin/ppf_bin
        norm_eur_cleaned_ = norm_eur_original_[norm_eur_original_ &lt;= norm_eur_original_.quantile(cutoff)]
        norm_eur_outlier_ = norm_eur_original_[norm_eur_original_ &gt; norm_eur_original_.quantile(cutoff)]

        norm_eur_cleaned.append(norm_eur_cleaned_)
        norm_eur_outlier.append(norm_eur_outlier_)    

    for j, item in enumerate(norm_eur_cleaned):
        x = np.random.normal(j + 1, 0.06, size=len(item))
        ax.scatter(x, item, color=colors[i], alpha=0.5, s=10, edgecolors='k', linewidth=0.0, label='One well data')

    for k, item_outlier in enumerate(norm_eur_outlier):
        x_outlier = np.random.normal(k + 1, 0.06, size=len(item_outlier))
        ax.scatter(x_outlier, item_outlier, color='r', alpha=0.3, s=30, marker='x', label='Outliers')   

    # line plot of average of binned wells
    means = [np.mean(item) for item in norm_eur_cleaned]
    ax.plot([i + 1 for i in range(len(means))], means, linestyle='-', marker='o', markersize=8, alpha=0.7,
            label='AVG. normalized EUR, binned by 50 lag days')       

    # axis range
    ymax = 0.02
    ymin = 0 - 0.05 * ymax
    ax.set_ylim(ymin, ymax)

    # tick settings
    ax.xaxis.set_major_locator(plt.MaxNLocator(12))
    ax.yaxis.set_major_locator(plt.MaxNLocator(6))  
    ax.set_xticklabels([int(item) for item in ax.get_xticks() * stepsize], fontsize=axis_tick_fontsize)
    ax.tick_params(axis='x', labelsize=axis_tick_fontsize, labelrotation=30)
    ax.tick_params(axis='y', labelsize=axis_tick_fontsize)
    ax.yaxis.get_major_ticks()[-1].gridline.set_visible(False)
    #ax.yaxis.set_major_formatter(ticker.EngFormatter())
    ax.minorticks_on()
    ax.xaxis.set_tick_params(which='minor', bottom=False)
    ax.yaxis.set_minor_locator(ticker.AutoMinorLocator(2))

    # spines and grid
    ax.spines.top.set_visible(False)
    ax.spines.right.set_visible(False)
    ax.grid(axis='y', alpha=0.5)
    ax.grid(axis='y', which='minor', color='grey', linestyle='--', alpha=0.2)
    ax.set_axisbelow(True)

    # texts
    ax.set_title(basin + ': ' + str(np.concatenate(norm_eur_cleaned).shape[0]) + ' wells', fontsize=title_fontsize)
    ax.set_ylabel('EUR/PPF/FPF/Lateral', fontsize=y_label_fontsize)
    if i == 4 or i == 6:
        ax.set_xlabel('DUC time (Days)', fontsize=y_label_fontsize)
    ax.set_facecolor('#eeeeee')
    ax.text(0.15, 0.88, 'aegis4048.github.io', fontsize=12, ha='center', va='center',
            transform=ax.transAxes, color='grey', alpha=0.5)    

    # legends
    h0, l0 = ax.get_legend_handles_labels()
    leg = ax.legend([h0[0]], [l0[0]], fontsize=14, ncol=2, loc='upper right')
    for lh in leg.legendHandles:
        lh.set_alpha(1)
        lh.set_sizes([50])

    h1, l1 = ax.get_legend_handles_labels()
    fig.legend([h1[-1]], [l1[-1]], loc='lower left', ncol=2,
               bbox_to_anchor=(0.046, 0.195), bbox_transform=fig.transFigure, fontsize=18) 

    fs = 15
    lw = 2
    _1 = 0
    spacing = abs(ax.get_xticks()[1] - ax.get_xticks()[2])
    if basin == 'Anadarko':
        _2 = 3
        yloc = 0.011
        textxy1 = annotate_arrows(means[_1], _1, spacing, ymax, fontsize=fs)
        textxy2 = annotate_arrows(means[_2], _2, spacing, ymax, fontsize=fs)   
        ax.plot([textxy1[0], textxy1[0]], [textxy1[1], yloc], lw=lw, color='k', ls='--')
        ax.plot([textxy2[0], textxy2[0]], [textxy2[1], yloc], lw=lw, color='k', ls='--')
        ax.plot([textxy1[0], textxy2[0]], [yloc, yloc], lw=lw, color='k', ls='--')
        diff_percentage = '' + str(int((means[_2] - means[_1])/means[_1] * 100)) + '%'
        t1 = ax.text((textxy1[0] + textxy2[0])/2, yloc, diff_percentage, fontsize=fs, color='red', ha='center')
        t1.set_bbox(dict(facecolor='white', alpha=1, edgecolor='k', pad=5, lw=2)) 

    if basin == 'Appalachia': 
        _2 = 6
        yloc = 0.015
        textxy1 = annotate_arrows(means[_1], _1, spacing, ymax, fontsize=fs, flip_y=False)
        textxy2 = annotate_arrows(means[_2], _2, spacing, ymax, fontsize=fs, flip_y=False)   
        ax.plot([textxy1[0], textxy1[0]], [textxy1[1], yloc], lw=lw, color='k', ls='--')
        ax.plot([textxy2[0], textxy2[0]], [textxy2[1], yloc], lw=lw, color='k', ls='--')
        ax.plot([textxy1[0], textxy2[0]], [yloc, yloc], lw=lw, color='k', ls='--')
        diff_percentage = '' + str(int((means[_2] - means[_1])/means[_1] * 100)) + '%'
        t1 = ax.text((textxy1[0] + textxy2[0])/2, yloc, diff_percentage, fontsize=fs, color='red', ha='center')
        t1.set_bbox(dict(facecolor='white', alpha=1, edgecolor='k', pad=5, lw=2)) 
    if basin == 'Bakken':
        _1 = 1
        _2 = 14
        yloc = 0.012
        textxy1 = annotate_arrows(means[_1], _1, spacing, ymax, fontsize=fs)
        textxy2 = annotate_arrows(means[_2], _2, spacing, ymax, fontsize=fs)   
        ax.plot([textxy1[0], textxy1[0]], [textxy1[1], yloc], lw=lw, color='k', ls='--')
        ax.plot([textxy2[0], textxy2[0]], [textxy2[1], yloc], lw=lw, color='k', ls='--')
        ax.plot([textxy1[0], textxy2[0]], [yloc, yloc], lw=lw, color='k', ls='--')
        diff_percentage = '' + str(int((means[_2] - means[_1])/means[_1] * 100)) + '%'
        t1 = ax.text((textxy1[0] + textxy2[0])/2, yloc, diff_percentage, fontsize=fs, color='red', ha='center')
        t1.set_bbox(dict(facecolor='white', alpha=1, edgecolor='k', pad=5, lw=2)) 
    if basin == 'Eagle Ford':
        _2 = 5
        yloc = 0.014
        textxy1 = annotate_arrows(means[_1], _1, spacing, ymax, fontsize=fs)
        textxy2 = annotate_arrows(means[_2], _2, spacing, ymax, fontsize=fs)   
        ax.plot([textxy1[0], textxy1[0]], [textxy1[1], yloc], lw=lw, color='k', ls='--')
        ax.plot([textxy2[0], textxy2[0]], [textxy2[1], yloc], lw=lw, color='k', ls='--')
        ax.plot([textxy1[0], textxy2[0]], [yloc, yloc], lw=lw, color='k', ls='--')
        diff_percentage = '' + str(int((means[_2] - means[_1])/means[_1] * 100)) + '%'
        t1 = ax.text((textxy1[0] + textxy2[0])/2, yloc, diff_percentage, fontsize=fs, color='red', ha='center')
        t1.set_bbox(dict(facecolor='white', alpha=1, edgecolor='k', pad=5, lw=2))        
    if basin == 'Haynesville': 
        _1 = 1
        _2 = 3
        yloc = 0.015
        textxy1 = annotate_arrows(means[_1], _1, spacing, ymax, fontsize=fs, flip_y=False)
        textxy2 = annotate_arrows(means[_2], _2, spacing, ymax, fontsize=fs, flip_y=False)   
        ax.plot([textxy1[0], textxy1[0]], [textxy1[1], yloc], lw=lw, color='k', ls='--')
        ax.plot([textxy2[0], textxy2[0]], [textxy2[1], yloc], lw=lw, color='k', ls='--')
        ax.plot([textxy1[0], textxy2[0]], [yloc, yloc], lw=lw, color='k', ls='--')
        diff_percentage = '' + str(int((means[_2] - means[_1])/means[_1] * 100)) + '%'
        t1 = ax.text((textxy1[0] + textxy2[0])/2, yloc, diff_percentage, fontsize=fs, color='red', ha='center')
        t1.set_bbox(dict(facecolor='white', alpha=1, edgecolor='k', pad=5, lw=2)) 
    if basin == 'Niobrara':
        _2 = 5
        yloc = 0.015
        textxy1 = annotate_arrows(means[_1], _1, spacing, ymax, fontsize=fs)
        textxy2 = annotate_arrows(means[_2], _2, spacing, ymax, fontsize=fs)   
        ax.plot([textxy1[0], textxy1[0]], [textxy1[1], yloc], lw=lw, color='k', ls='--')
        ax.plot([textxy2[0], textxy2[0]], [textxy2[1], yloc], lw=lw, color='k', ls='--')
        ax.plot([textxy1[0], textxy2[0]], [yloc, yloc], lw=lw, color='k', ls='--')
        diff_percentage = '+' + str(int((means[_2] - means[_1])/means[_1] * 100)) + '%'
        t1 = ax.text((textxy1[0] + textxy2[0])/2, yloc, diff_percentage, fontsize=fs, color='green', ha='center')
        t1.set_bbox(dict(facecolor='white', alpha=1, edgecolor='k', pad=5, lw=2))  
    if basin == 'Permian':
        _2 = 3
        yloc = 0.014
        textxy1 = annotate_arrows(means[_1], _1, spacing, ymax, fontsize=fs)
        textxy2 = annotate_arrows(means[_2], _2, spacing, ymax, fontsize=fs)   
        ax.plot([textxy1[0], textxy1[0]], [textxy1[1], yloc], lw=lw, color='k', ls='--')
        ax.plot([textxy2[0], textxy2[0]], [textxy2[1], yloc], lw=lw, color='k', ls='--')
        ax.plot([textxy1[0], textxy2[0]], [yloc, yloc], lw=lw, color='k', ls='--')
        diff_percentage = '' + str(int((means[_2] - means[_1])/means[_1] * 100)) + '%'
        t1 = ax.text((textxy1[0] + textxy2[0])/2, yloc, diff_percentage, fontsize=fs, color='red', ha='center')
        t1.set_bbox(dict(facecolor='white', alpha=1, edgecolor='k', pad=5, lw=2)) 

    #break

fig.tight_layout()

def setbold(txt):
    return ' '.join([r"$\bf{" + item + "}$" for item in txt.split(' ')])

y_pos = 0.998
fig.suptitle(setbold('EUR Normalized by PPF, FPF and Lateral Length')  + ",  Jan 2014 - June 2022", fontsize=20, x=0.34, y=1.025)
ax.annotate('', xy=(0.006, y_pos), xycoords='figure fraction', xytext=(1, y_pos), arrowprops=dict(arrowstyle="-", color='k', lw=1.3))
ax.annotate('Source: Pythonic Excursions, DrillingInfo', xy=(0.055, 0.173), xycoords='figure fraction', fontsize=16)

fig.set_facecolor("white")    
            &lt;/code&gt;
        &lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div id="detailed" style="margin-top: -15px"&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Anadarko&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The normalized EUR for Anadarko wells completed beyond 50 days since drilled dropped by 81% over a 150-day span. The two outlier points in the average normalized EUR at 400-day and 450-day bins were identified as a result of extreme data points that could not be filtered out using the percentile method due to a lack of data. The observed decrease in normalized EUR with increasing DUC time follows the pattern observed in typical logarithmic production decline curve with a high b-factor, indicating a fast initial decline in production due to reservoir depletion. This could be an indication of severe well-to-well interference problems in the Anadarko basin.&lt;/p&gt;
&lt;div class="row row full_screen_margin_60 mobile_responsive_plot_full_width" id="fig-9" style="margin-top: 10px;"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/duc_normalized_anadarko.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 9:&lt;/strong&gt; Anadarko basin from Figure 8&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;hr/&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Appalachia&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The normalized EUR dropped by 19% over a span of 300 DUC days beyond the initial 50-day bin average. It seems to decrease linearly with DUC time at a very slow pace compared to Anadarko or Permian. Assuming linear regression, one could argue that the Appalachia DUC wells lose 2.7% EUR for every 50 days of delay in completion.&lt;/p&gt;
&lt;div class="row row full_screen_margin_60 mobile_responsive_plot_full_width" id="fig-10" style="margin-top: 10px;"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/duc_normalized_appalachia.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 10:&lt;/strong&gt; Appalachia basin from Figure 8&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;hr/&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Bakken&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The normalized EUR of Bakken wells exhibits an exponential decline trend, with the initial decline rate smaller than Anadarko but greater than Appalachia. Note that the first bin of data (50-day bin) for Bakken wells is characterized by a limited number of data points, including extreme outliers that heavily skew the calculated normalized EUR values. Therefore, the second bin (100-day bin) is considered as the starting point, where Bakken wells experienced a 70% decrease in production over 700 DUC days. It is important to note that this decline would likely be greater if more data points were available in the first bin, thereby yielding a more reliable average normalized EUR value.&lt;/p&gt;
&lt;p&gt;Based on the observation that Anadarko and Permian wells exhibit logarithmic decline in normalized EUR and experience rapid decline during early DUC time, it is expected that the initial average normalized EUR value for Bakken wells would be higher in the first day bin compared to the second day bin. Assuming an initial average normalized EUR value of 0.016 (although this is subjective), it is projected that the Bakken basin would experience a 78% decrease in production over a span of 750 DUC days.&lt;/p&gt;
&lt;div class="row row full_screen_margin_60 mobile_responsive_plot_full_width" id="fig-11" style="margin-top: 10px;"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/duc_normalized_bakken.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 11:&lt;/strong&gt; Bakken basin from Figure 8&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;hr/&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Eagle Ford&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The Eagle Ford wells showed very minimal or no degradation in EUR with increasing DUC time. One can deduce that the Eagle Ford wells are more resilient to the well-to-well interference problems than the other basins. Note that this shows the trend of the entire basin; limiting the data pool to a small group of wells in a small area of interest may reveal different trend.&lt;/p&gt;
&lt;div class="row row full_screen_margin_60 mobile_responsive_plot_full_width" id="fig-12" style="margin-top: 10px;"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/duc_normalized_eagleford.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 12:&lt;/strong&gt; Eagle Ford basin from Figure 8&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;hr/&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Haynesville&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The statistical analysis of the Haynesville basin is limited due to the dearth of available data. Specifically, only 1,792 wells in the basin have complete information on EUR, proppant, fluid volume, and lateral length, which was further reduced to 1,724 after removing outliers. Notably, the average normalized EUR for the 50-day and 450-day bins extends beyond the y-axis range, while only the wells within the 100- to 350-day bins exhibit reliable results with sufficient number of records.&lt;/p&gt;
&lt;p&gt;Treating the 100-day bin as the first index of a local peak and the 200-day bin as the index of a local trough, the Haynesville wells demonstrated a 46% decrease in normalized EUR during 100 days of DUC time. However, given the logarithmic decline in average normalized EUR observed in Anadarko and Permian wells, an interpolation can be performed to estimate a plausible value of the first bin, around 0.008, although subjectivity is a possible limitation. This estimation leads to an anticipated 69% production decline in the Haynesville basin during the subsequent 150 DUC days after the initial 50 DUC days, followed by a relatively constant level of production afterwards.&lt;/p&gt;
&lt;div class="row row full_screen_margin_60 mobile_responsive_plot_full_width" id="fig-13" style="margin-top: 10px;"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/duc_normalized_haynesville.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 13:&lt;/strong&gt; Haynesville basin from Figure 8&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;hr/&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Niobrara&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Notably, the Niobrara basin demonstrated a substantial increasing trend in normalized EUR with increasing DUC time up to the 300-day bin, followed by a relatively constant or slowly declining trend in normalized EUR.&lt;/p&gt;
&lt;p&gt;The observation of increasing normalized EUR with increasing DUC time in Niobrara wells is intriguing and contradicts the prevailing scientific literature, which suggests that child wells tend to underperform relative to parent wells. However, this premise assumes the presence of a parent-child relationship between wells. In the absence of well-to-well interference factors, DUC wells waiting to be completed may be free from such negative impacts on production.&lt;/p&gt;
&lt;p&gt;One potential explanation for this counter-intuitive trend in normalized EUR could be the presence of unique geologic characteristics specific to the Niobrara basin, or the existence of hidden factors that were not accounted for during the normalization process. For example, Niobrara may be relatively free from vertical fracture interference problems associated with stacked laterals compared to other basins, or may have been subjected to substantially different completion or production techniques. It is important to note that &lt;a class="internal-link" href="#fig-7"&gt;Figure 7&lt;/a&gt; and &lt;a class="internal-link" href="#table-4"&gt;Table 4&lt;/a&gt; above revealed that Niobrara was the only basin to exhibit a decrease in PPF with increasing DUC time, which suggests the presence of hidden factors not captured in the data set used for this study. Therefore, further analysis and study is required to understand this unexpected behavior.&lt;/p&gt;
&lt;div class="row row full_screen_margin_60 mobile_responsive_plot_full_width" id="fig-14" style="margin-top: 10px;"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/duc_normalized_niobrara.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 14:&lt;/strong&gt; Niobrara basin from Figure 8&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;hr/&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Permian&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The normalized EUR for Permian wells completed beyond 50 days since drilled dropped by 74% over a span of 150 days. The normalized EUR does not substantially drop further after the 200-day bin. This trend is very similar to that of the Anadarko basin's.&lt;/p&gt;
&lt;div class="row row full_screen_margin_60 mobile_responsive_plot_full_width" id="fig-15" style="margin-top: 10px;"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/duc_normalized_permian.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 15:&lt;/strong&gt; Permian basin from Figure 8&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div id="Dead DUC wells"&gt;&lt;/div&gt;&lt;h2 id='5.-"Dead"-DUC-wells'&gt;5. "Dead" DUC wells&lt;a class="anchor-link" href='#5.-"Dead"-DUC-wells'&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;DUC wells are treated as a form of oilfield working capital. They are essentially a long-term, partially funded storage of hydrocarbons "under" the ground instead of "on" the ground. However, if a well remains in DUC stage for too long, it no longer functions as a working oilfield capital. Analyst John Freeman from Raymond James &amp; Associates Inc. said that that 95% of the drilled wells have been completed within 2 years, and that DUCs older than 2 years have low chance of ever being completed and considered out-of-the-system (a.k.a. Dead DUCs). Comparing with the Enverus data of wells in the seven DPR regions supports this claim to be reasonably true.&lt;/p&gt;
&lt;p&gt;&lt;a class="internal-link" href="#fig-16"&gt;Figure 16&lt;/a&gt; presents a 95% box plot of the DUC time for wells in each basin, providing insight into the time limit till completion for oil and gas wells in the US. The plot indicates that 95% of the wells in the Anadarko basin were completed within 309 days after drilling, while wells in the Appalachia basin were completed within 956 days. The weighted average for all DPR regions reveals that 95% of wells in the US are completed within 567 days after drilling. The implications of these results suggest that any well not completed within this timeframe has a less than 5% chance of being completed, thereby rendering the expensive drilling cost that the operator incurred a waste.&lt;/p&gt;
&lt;p&gt;The completion time limit for DUC wells depends on their ultimate rate of return, which is a complex function of various factors, including EUR, well-to-well interference problems, royalty rate, and costs associated with site-clearing, drilling, lateral length, completion size and concentration per foot, daily operating costs, and lease purchase and renewal. However, comparing the 95% upper limit for DUC time across basins in &lt;a class="internal-link" href="#fig-16"&gt;Figure 16&lt;/a&gt; reveals an interesting correlation with the other findings of this study.&lt;/p&gt;
&lt;p&gt;Notably, the three basins with the shortest DUC time limit, namely Anadarko (309 days), Haynesville (409 days), and Permian (470 days), also had the worst depletion rates in normalized EUR. Recall that in &lt;a class="internal-link" href="#fig-8"&gt;Figure 8&lt;/a&gt;, Anadarko experienced an 81% drop in normalized EUR in 150 DUC days, while Haynesville and Permian experienced a 46% and 74% drop, respectively. Conversely, the Appalachia, Eagle Ford, and Niobrara basins demonstrated greater resilience to reductions in normalized EUR with increasing DUC time, and showed longer time limit till completion in &lt;a class="internal-link" href="#fig-16"&gt;Figure 16&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;When considering the economic factors that impact the time limit till completion, it is essential to consider EUR as it has a direct impact on the final economic rate of return of a well. In &lt;a class="internal-link" href="#fig-16"&gt;Figure 16&lt;/a&gt;, Appalachia has the longest time limit till completion, which can be attributed to its highest EUR along the x-axis compared to other basins. The high EUR renders operators to be more flexible with the costs associated with maintaining their DUC wells' lease. This understanding explains why Niobrara has a close DUC time limit with that of Permian despite Niobrara's strong resilience to the decrease in normalized EUR with increasing DUC time. In &lt;a class="internal-link" href="#fig-7"&gt;Figure 7&lt;/a&gt;'s &lt;a class="internal-link" href="#table-2"&gt;Table 2&lt;/a&gt;, Niobrara shows 541 MBOE of EUR at its local peak [2], while Permian shows 1,061 MBOE of EUR, which is almost double. In summary, Niobrara and Permian have opposing pros and cons that balance their time limit till completion to be similar.&lt;/p&gt;
&lt;div class="row" id="fig-16" style="margin-top: 20px"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/Time Limit Until Completion.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 16:&lt;/strong&gt; 95% Box plot of gap time between drilling and completion. The plot shows the time limit until completion for each basin. Each dot (very small, 99.5% transparency) represent one well of a basin. Upper whisker and the numeric annotation above it represent 95% upper limit. This means that wells with DUC time longer than the annotated number have less then 95% chance of ever being completed. Box plot for "All Regions" represent weighted average of all basins.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="solution_panel closed"&gt;
&lt;div class="solution_title"&gt;
&lt;p class="solution_title_string"&gt;Source Code For Figure (16)&lt;/p&gt;
&lt;ul class="nav navbar-right panel_toolbox"&gt;
&lt;li&gt;&lt;a class="collapse-link"&gt;&lt;i class="fa fa-chevron-down"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="clearfix"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="solution_content"&gt;
&lt;pre&gt;
            &lt;code class="language-python"&gt;
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt

############################################# Basins ##############################################

basins = sorted(['Anadarko', 'Appalachia', 'Eagle Ford', 'Haynesville', 'Niobrara', 'Permian', 'Bakken'])

################################### DUC Wells Count per Basin #####################################

# compile a DataFrame to store the completion &amp; drilling date difference data of 7 basins
# data restricted to wells that has "Completion Date" column populated
# source: DrillingInfo App of Enverus

lags = []
for basin in basins:
    df_cur = pd.read_excel('https://aegis4048.github.io/downloads/notebooks/sample_data/EUR_vs_Lag.xlsx', sheet_name=basin)
    df_cur = df_cur.dropna(subset=['Completion Date'])           # Drop wells that are not completed
    df_cur = df_cur[df_cur['Drill Type'] == 'H']
    lags.append(df_cur['Lag'].values)

flattened = []
temp = [list(lag) for lag in lags]
for item in temp:
    flattened += item

lags.append(flattened)
basins.append('All Regions')

############################################# Plot ##############################################

fig, ax = plt.subplots(figsize=(8, 4.5))

colors = ['grey', '#a1794a', '#d484a9', '#cbe8f0', '#c6b4ee', '#914810', '#16534c', 'lightgrey']

cutoff = 95

for i, basin_lag in enumerate(lags):
    i = i + 1
    x = np.random.normal(i, 0.06, size=len(basin_lag))
    ax.scatter(x, basin_lag, color=colors[i - 1], alpha=0.005)
    _cutoff = int(np.percentile(basin_lag, cutoff))
    ax.text(i, _cutoff + 150, str(_cutoff) + ' days', fontsize=10, ha='center', va='center', color='k')

lw = 1
caps = ax.boxplot(lags, sym='', whis=[0, cutoff], showfliers=True,
                     boxprops=dict(linewidth=lw, color='#4e98c3'),
                     whiskerprops=dict(linewidth=lw, color='#4e98c3', linestyle='--'), vert=True,
                     capprops=dict(linewidth=lw, color='k'),
                     medianprops=dict(linewidth=lw, color='#ad203e'));

n = 0.12
for cap in caps['caps']:
    cap.set(xdata=cap.get_xdata() + (-n, +n))

ax.set_xticklabels(basins, rotation=20)
ax.set_ylim(-70, 2000)
ax.set_ylabel('Lag (Days)')

ax.yaxis.set_major_locator(plt.MaxNLocator(6))
ax.grid(axis='y', alpha=0.5)
ax.yaxis.get_major_ticks()[-1].gridline.set_visible(False)
ax.spines.top.set_visible(False)
ax.spines.right.set_visible(False)

def setbold(txt):
    return ' '.join([r"$\bf{" + item + "}$" for item in txt.split(' ')])

ax.set_title(setbold('Time Limit Until Completion: 95\% Boxplot')  + ",  Jan 2014 - June 2022", fontsize=12, pad=10,
             x=0.31, y=1.06)
ax.annotate('', xy=(-0.11, 1.07), xycoords='axes fraction', xytext=(1.02, 1.07), arrowprops=dict(arrowstyle="-", color='k'))
ax.annotate('Data Source: Pythonic Excursions, DrillingInfo', xy=(-0.11, -0.3), xycoords='axes fraction', fontsize=10)
ax.text(0.16, 0.23, 'aegis4048.github.io', fontsize=10, ha='center', va='center',
        transform=ax.transAxes, color='white', alpha=0.5)

ax.axvline(x=7.5, color='k', linestyle='--', linewidth=1, alpha=0.7)

fig.set_facecolor("white")
fig.tight_layout()
            &lt;/code&gt;
        &lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div id="Conclusion"&gt;&lt;/div&gt;&lt;h2 id="6.-Conclusion"&gt;6. Conclusion&lt;a class="anchor-link" href="#6.-Conclusion"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;The well-established scientific wisdom suggests that parent (old) wells perform better than their nearby child (new) wells, due to the parent wells having already drained a significant volume of hydrocarbons and left the child well with lower reservoir pressure and smaller volume of fluids left to produce.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Wells completed shortly after drilling (within 50 days) tend to have substantially smaller EUR compared to wells with longer DUC time (&lt;a class="internal-link" href="#fig-6"&gt;Figure 6&lt;/a&gt;). This is because wells with longer DUC time tend to have longer lateral length and are treated with bigger completion. Conversely, it means that operators tend to undersize their completion concentration per lateral foot for wells completed shortly after drilling (&lt;a class="internal-link" href="#fig-7"&gt;Figure 7&lt;/a&gt;). Thus, investing in larger completion size for wells completed shortly after drilling may yield greater profit for operators.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;To assess the genuine impact of DUC time on production, EUR was normalized by lateral length, proppant per perforated foot (PPF), and fluid per perforated foot (FPF).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;It has been found that increasing DUC time has a significant negative impact on the EUR of Anadarko, Bakken, Hanyesville, and Permian wells. Notably, Anadarko and Permian showed 81% and 74% drop in noramlized EUR, respectively, over a span of 150 days of DUC time. However, Appalachia, Eagle Ford and Niobrara wells have been found to be resilient from the EUR loss due to increasing DUC time (&lt;a class="internal-link" href="#fig-8"&gt;Figure 8&lt;/a&gt;), showing negligible decrease in normalized EUR along the x-axis.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;In some basins, delaying completion due to unfavorable commodity prices may not be a financially sound strategy.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="internal-link" href="#fig-8"&gt;Figure 8&lt;/a&gt; provides valuable insight to evaluate completion investment efficiency as it shows EUR normalized by completion size and lateral length.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;DUC wells have time limit till completion. For example, Anadarko wells have less than 5% chance of completion for DUC wells older than 308 days since drilled (&lt;a class="internal-link" href="#fig-16"&gt;Figure 16&lt;/a&gt;). Chance of completion drastically falls afterwards, which may render the drilling investment made for the well to be a waste.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Anadarko and Haynesville wells have the shortest time limit till completion (&lt;a class="internal-link" href="#fig-16"&gt;Figure 16&lt;/a&gt;). This can be attributed to the fact that they are the ones with the worst decrease in normalized EUR with increasing DUC time, as demonstrated in &lt;a class="internal-link" href="#fig-8"&gt;Figure 8&lt;/a&gt;. On the other hand, Appalachia wells have the longest time limit till completion because they yield the greatest EUR at differnt DUC times, and their normalized EUR decreases minimally with increasing DUC time.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlights red-theme" id="boxcox-warning"&gt;
&lt;div class="highlights-title red-theme"&gt;WARNING!&lt;/div&gt;
&lt;div class="highlights-content red-theme"&gt;
&lt;p&gt;The presented analysis provides a basin-wide overview at a high level, and the conclusions drawn assume homogeneity within each basin. However, this assumption may not hold true for many regions. By restricting the analysis to a county-level, different trends may emerge compared to those observed at the basin level.&lt;/p&gt;
&lt;p&gt;In &lt;a class="internal-link" href="#fig-8"&gt;Figure 8&lt;/a&gt;, it was observed that delaying completion by 150 days resulted in an 81% decline in normalized EUR for Anadarko wells. In contrast, no drop in EUR was observed for Eagle Ford wells. These conclusions should be interpreted as follows: "If a new well is drilled in a typical area where most other operators drill, and typical well spacing, completion, and production techniques are applied across the basin, an 81% loss of EUR can be expected for Anadarko wells if completion is delayed by 150 days. It would be advisable to complete Anadarko wells as soon as possible to avoid drainage from neighboring competitor wells. However, for Eagle Ford wells, completion can be delayed for a prolonged period if the oil price is not favorable."&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="oil-and-gas"></category><category term="oil"></category><category term="gas"></category><category term="DUC"></category><category term="drilling"></category><category term="horizontals"></category><category term="verticals"></category><category term="completion"></category><category term="production"></category><category term="recent-trend"></category><category term="energy-shortage"></category><category term="EIA"></category><category term="DrillingInfo"></category><category term="Enverus"></category><category term="DPR"></category><category term="dead-duc"></category><category term="Anadarko"></category><category term="Appalachia"></category><category term="Bakken"></category><category term="Eagle Ford"></category><category term="Niobrara"></category><category term="Hanyesville"></category><category term="Permian"></category></entry><entry><title>DUC Wells and Their Economic Complications</title><link href="https://aegis4048.github.io/duc_wells_and_their_economic_complications" rel="alternate"></link><published>2023-02-09T00:00:00-08:00</published><updated>2023-02-09T00:00:00-08:00</updated><author><name>ERIC KIM</name></author><id>tag:aegis4048.github.io,2023-02-09:/duc_wells_and_their_economic_complications</id><summary type="html">&lt;style type="text/css"&gt;/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI escape sequences */
/* The color values are a mix of
   http://www.xcolors.net/dl/baskerville-ivorylight and
   http://www.xcolors.net/dl/euphrasia */
.ansi-black-fg {
  color: #3E424D;
}
.ansi-black-bg {
  background-color: #3E424D;
}
.ansi-black-intense-fg {
  color: #282C36;
}
.ansi-black-intense-bg {
  background-color: #282C36;
}
.ansi-red-fg {
  color: #E75C58;
}
.ansi-red-bg {
  background-color: #E75C58;
}
.ansi-red-intense-fg {
  color …&lt;/style&gt;</summary><content type="html">&lt;style type="text/css"&gt;/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI escape sequences */
/* The color values are a mix of
   http://www.xcolors.net/dl/baskerville-ivorylight and
   http://www.xcolors.net/dl/euphrasia */
.ansi-black-fg {
  color: #3E424D;
}
.ansi-black-bg {
  background-color: #3E424D;
}
.ansi-black-intense-fg {
  color: #282C36;
}
.ansi-black-intense-bg {
  background-color: #282C36;
}
.ansi-red-fg {
  color: #E75C58;
}
.ansi-red-bg {
  background-color: #E75C58;
}
.ansi-red-intense-fg {
  color: #B22B31;
}
.ansi-red-intense-bg {
  background-color: #B22B31;
}
.ansi-green-fg {
  color: #00A250;
}
.ansi-green-bg {
  background-color: #00A250;
}
.ansi-green-intense-fg {
  color: #007427;
}
.ansi-green-intense-bg {
  background-color: #007427;
}
.ansi-yellow-fg {
  color: #DDB62B;
}
.ansi-yellow-bg {
  background-color: #DDB62B;
}
.ansi-yellow-intense-fg {
  color: #B27D12;
}
.ansi-yellow-intense-bg {
  background-color: #B27D12;
}
.ansi-blue-fg {
  color: #208FFB;
}
.ansi-blue-bg {
  background-color: #208FFB;
}
.ansi-blue-intense-fg {
  color: #0065CA;
}
.ansi-blue-intense-bg {
  background-color: #0065CA;
}
.ansi-magenta-fg {
  color: #D160C4;
}
.ansi-magenta-bg {
  background-color: #D160C4;
}
.ansi-magenta-intense-fg {
  color: #A03196;
}
.ansi-magenta-intense-bg {
  background-color: #A03196;
}
.ansi-cyan-fg {
  color: #60C6C8;
}
.ansi-cyan-bg {
  background-color: #60C6C8;
}
.ansi-cyan-intense-fg {
  color: #258F8F;
}
.ansi-cyan-intense-bg {
  background-color: #258F8F;
}
.ansi-white-fg {
  color: #C5C1B4;
}
.ansi-white-bg {
  background-color: #C5C1B4;
}
.ansi-white-intense-fg {
  color: #A1A6B2;
}
.ansi-white-intense-bg {
  background-color: #A1A6B2;
}
.ansi-default-inverse-fg {
  color: #FFFFFF;
}
.ansi-default-inverse-bg {
  background-color: #000000;
}
.ansi-bold {
  font-weight: bold;
}
.ansi-underline {
  text-decoration: underline;
}
/* The following styles are deprecated an will be removed in a future version */
.ansibold {
  font-weight: bold;
}
.ansi-inverse {
  outline: 0.5px dotted;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  position: relative;
  overflow: visible;
}
div.cell:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: transparent;
}
div.cell.jupyter-soft-selected {
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected,
div.cell.selected.jupyter-soft-selected {
  border-color: #ababab;
}
div.cell.selected:before,
div.cell.selected.jupyter-soft-selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #42A5F5;
}
@media print {
  div.cell.selected,
  div.cell.selected.jupyter-soft-selected {
    border-color: transparent;
  }
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
}
.edit_mode div.cell.selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #66BB6A;
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell &gt; div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area &gt; div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area &gt; div.highlight &gt; pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the &lt;head&gt; if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  /* Note that this should set vertical padding only, since CodeMirror assumes
       that horizontal padding will be set on CodeMirror pre */
  padding: 0.4em 0;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. This sets horizontal padding only,
    use .CodeMirror-lines for vertical */
  padding: 0 0.4em;
  border: 0;
  border-radius: 0;
}
.CodeMirror-cursor {
  border-left: 1.4px solid black;
}
@media screen and (min-width: 2138px) and (max-width: 4319px) {
  .CodeMirror-cursor {
    border-left: 2px solid black;
  }
}
@media screen and (min-width: 4320px) {
  .CodeMirror-cursor {
    border-left: 4px solid black;
  }
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev &lt;Maniac@SoftwareManiacs.Org&gt;
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
div.output_area .mglyph &gt; img {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 1px 0 1px 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}
.rendered_html ul:not(.list-inline),
.rendered_html ol:not(.list-inline) {
  padding-left: 2em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}





.rendered_html pre,




.rendered_html tr,
.rendered_html th,


.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,


.rendered_html * + .alert {
  margin-top: 1em;
}
[dir="rtl"] 
div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell &gt; div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.rendered .rendered_html tr,
.text_cell.rendered .rendered_html th,
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.text_cell .dropzone .input_area {
  border: 2px dashed #bababa;
  margin: -1px;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
&lt;/style&gt;
&lt;style type="text/css"&gt;pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.highlight .hll { background-color: #ffffcc }
.highlight { background: #f8f8f8; }
.highlight .c { color: #3D7B7B; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #3D7B7B; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #3D7B7B; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #9C6500 } /* Comment.Preproc */
.highlight .cpf { color: #3D7B7B; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #3D7B7B; font-style: italic } /* Comment.Single */
.highlight .cs { color: #3D7B7B; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .ges { font-weight: bold; font-style: italic } /* Generic.EmphStrong */
.highlight .gr { color: #E40000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #008400 } /* Generic.Inserted */
.highlight .go { color: #717171 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #687822 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #717171; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #CB3F38; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #767600 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #AA5D1F; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #A45A77; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #A45A77 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */&lt;/style&gt;&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Once a well is drilled, it must be completed to produce. However, operators may choose not to immediately complete a well for various reasons:&lt;/p&gt;
&lt;ol class="rounded-list" style="margin-bottom: 30px !important; margin-top: 30px! important;"&gt;
&lt;li&gt;&lt;p&gt;Availability of fracking crews&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Drilling contracts that are too expensive to revoke&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Constraints on capital spending&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Commodity prices&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Many others&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;Whatever the reasons may be, this in-transit time between drilling and completion stages creates an inventory of DUC wells. The term, &lt;strong&gt;DUC wells&lt;/strong&gt;, have a literal definition - &lt;strong&gt;Drilled but Uncompleted wells&lt;/strong&gt;. They essentially serve as a secodary form of hydrocarbon storage underground, instead of surface storage facilities. The wells can be turned on line for production for cheap; the costs of drilling have been paid, and completion won't be as costly as new drilling. This unique characteristic of DUC wells allows the operators to make strategic decisions during the time of financial crisis (ex: 2020 COVID crash); they complete the existing DUC wells and take profits instead of drilling new wells. However, this profit taking process inevitably leads to the reduction in size of DUC well inventories, which gave rise to the concerns regarding potential energy supply shortage due to the depletion of DUC wells around early 2022.&lt;/p&gt;
&lt;p&gt;In this article I attempt to help the readers to understand what it means to have DUC well inventories, why they exist, and the economic impact they have on the US energy industry.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="display-none" id="toc_container"&gt;
&lt;p class="toc_title"&gt;&lt;i class="fas fa-list"&gt;&lt;/i&gt;Contents&lt;/p&gt;
&lt;ul class="toc_list"&gt;
&lt;li&gt;&lt;a href="#Sample data description"&gt;&lt;span class="toc_label"&gt;0.&lt;/span&gt;Sample data description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Key takeaways"&gt;&lt;span class="toc_label"&gt;1.&lt;/span&gt;Key takeaways&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#How are DUC wells created?"&gt;&lt;span class="toc_label"&gt;2.&lt;/span&gt;How are DUC wells created?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#DUC wells and Economic Complications"&gt;&lt;span class="toc_label"&gt;3.&lt;/span&gt;DUC wells and Economic Complications&lt;/a&gt;&lt;/li&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#Potential depletion of DUC wells and enegy supply shortage"&gt;&lt;span class="toc_label"&gt;3.1.&lt;/span&gt;Potential depletion of DUC wells and enegy supply shortage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Recent trend: more production with less drilling"&gt;&lt;span class="toc_label"&gt;3.2.&lt;/span&gt;Recent trend: more production with less drilling&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;li&gt;&lt;a href="#Continued discussion: Dead DUC wells"&gt;&lt;span class="toc_label"&gt;4.&lt;/span&gt;Continued discussion: "Dead DUC Wells"&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div id="Sample data description"&gt;&lt;/div&gt;&lt;h2 id="0.-Sample-data-description"&gt;0. Sample data description&lt;a class="anchor-link" href="#0.-Sample-data-description"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The main data source I use for this article is the &lt;a href="https://www.eia.gov/petroleum/drilling/" target="_blank"&gt;Drilling Productivity Report&lt;/a&gt; (DPR) from the US Energy Information Administration (EIA), and some supplemental data from the &lt;a href="https://www.enverus.com/" target="_blank"&gt;Enverus&lt;/a&gt; Drilling Info application since 2014. While the DPR data is readily available to the public as its provided by the US government, Enverus' Drilling Info data is not because its a commerical software.&lt;/p&gt;
&lt;p&gt;The DPR data covers the 7 major oil and gas basins in the US: Anadarko, Appalachia, Bakken, Eagle Ford, Haynesville, Niobrara, and Permian.&lt;/p&gt;
&lt;div class="row full_screen_margin_80 mobile_responsive_plot_full_width" id="fig-1" style="margin-top: 15px;"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/DPR-basins.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 1:&lt;/strong&gt; 7 major basins in the US, Source: EIA&lt;/p&gt;&lt;/div&gt;&lt;p&gt;I downloaded the &lt;a class="ico xls" href="https://www.eia.gov/petroleum/drilling/xls/dpr-data.xlsx" target="_blank"&gt;Report data (aggregated by region)&lt;/a&gt; &lt;strong&gt;(dpr-data.xlsx)&lt;/strong&gt; and the &lt;a class="ico xls" href="https://www.eia.gov/petroleum/drilling/xls/duc-data.xlsx"&gt;DUC data (aggregated by region)&lt;/a&gt; &lt;strong&gt;(duc-data.xlsx)&lt;/strong&gt;, which can be found in the &lt;i&gt;"Contents"&lt;/i&gt; tab in the right side of this &lt;a href="https://www.eia.gov/petroleum/drilling/" target="_blank"&gt;page&lt;/a&gt;. Visualizing the DPR data for each basin generates the below figure:&lt;/p&gt;
&lt;div class="row" id="fig-2" style="margin-top: 15px;"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/DUC &amp; Newly Drilled Wells and Production by Basins, Jan 2014 - Dec 2022.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 2:&lt;/strong&gt; Quick glance at the EIA DPR data for each basin. Note that the Permian basin has different y-axis scale for DUC &amp; newly drilled wells count.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="solution_panel closed"&gt;
&lt;div class="solution_title"&gt;
&lt;p class="solution_title_string"&gt;Source Code For Figure (2)&lt;/p&gt;
&lt;ul class="nav navbar-right panel_toolbox"&gt;
&lt;li&gt;&lt;a class="collapse-link"&gt;&lt;i class="fa fa-chevron-down"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="clearfix"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="solution_content"&gt;
&lt;pre&gt;
            &lt;code class="language-python"&gt;
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
from matplotlib.colors import LinearSegmentedColormap
import warnings
import matplotlib.gridspec as gridspec
import matplotlib.ticker as ticker

############################################# Basins ##############################################

basins = sorted(['Anadarko', 'Appalachia', 'Eagle Ford', 'Haynesville', 'Niobrara', 'Permian', 'Bakken'])

################################### DUC Wells Count per Basin #####################################

# compile a DataFrame to store count of DUC wells per basin
# source: EIA - https://www.eia.gov/petroleum/drilling/

dfs = []
for basin in basins:
    df_cur = pd.read_excel('https://aegis4048.github.io/downloads/notebooks/sample_data/Duc-EIA.xlsx', sheet_name=basin)
    df_cur['Basin'] = basin
    dfs.append(df_cur)

df = pd.concat(dfs)
df = df.sort_values('Date')
df.index = pd.to_datetime(df['Date'])

df_DUCs_year = df.groupby([df.index.year, 'Basin'])['DUC'].mean()
df_DUCs_year = df_DUCs_year.unstack().fillna(0)
df_DUCs_year = round(df_DUCs_year, 0)

df_drilled_year = df.groupby([df.index.year, 'Basin'])['Drilled'].sum()
df_drilled_year = df_drilled_year.unstack().fillna(0)
df_drilled_year['Total Drilled'] = df_drilled_year.T.apply(lambda x: sum(x))

#################### Import All Data - Rig Count, Oil &amp; Gas Prod per Basins #######################

dfs2 = []
for basin in basins:
    df_cur = pd.read_excel('https://aegis4048.github.io/downloads/notebooks/sample_data/dpr-data.xlsx', sheet_name=basin + ' Region', skiprows=1)
    df_cur['Basin'] = basin
    dfs2.append(df_cur)

year_cutoff = '2013' # counting from year_cutoff + 1
date_header = 'Month'

df2 = pd.concat(dfs2)
df2 = df2.sort_values(date_header)
df2.index = pd.to_datetime(df2[date_header])
df2.drop(df2.columns[[2, 3, 5, 6]], axis=1, inplace=True)
df2.columns = ['Date', 'Rig Count', 'Total Oil Prod (BBLD)', 'Total Gas Prod (MCFD)', 'Basin']
df2 = df2[df2.index &gt; year_cutoff + '-12-31']

################################ Cross Table for Gas Production ###################################

# Total Gas Production
df2_total_gas_prod_year = df2.groupby([df2.index.year, 'Basin'])['Total Gas Prod (MCFD)'].sum()
df2_total_gas_prod_year = df2_total_gas_prod_year.unstack().fillna(0)
df2_total_gas_prod_year['Total Gas (BCFD)'] = df2_total_gas_prod_year.T.apply(lambda x: sum(x))
df2_total_gas_prod_year = df2_total_gas_prod_year / 1000000

################################ Cross Table for Oil Production ###################################

df2_total_oil_prod_year = df2.groupby([df2.index.year, 'Basin'])['Total Oil Prod (BBLD)'].sum()
df2_total_oil_prod_year = df2_total_oil_prod_year.unstack().fillna(0)
df2_total_oil_prod_year['Total (MMBBLD)'] = df2_total_oil_prod_year.T.apply(lambda x: sum(x))
df2_total_oil_prod_year = df2_total_oil_prod_year / 1000000

############################################# Plot ##############################################

# changing datetime index to str is necessary to overlay lineplot on top of barplot
df_drilled_year.index = [str(item) for item in df_drilled_year.index]
df2_total_gas_prod_year.index = [str(item) for item in df2_total_gas_prod_year.index]
df2_total_oil_prod_year.index = [str(item) for item in df2_total_oil_prod_year.index]

cmap_name = 'cubehelix'
colors = sns.color_palette(cmap_name, n_colors=len(basins))
np.random.seed(34)
np.random.shuffle(colors)
colors = colors.as_hex()
colors[0] = 'grey'
colors[-2] = '#914810'
cmap = LinearSegmentedColormap.from_list("my_colormap", colors)
barcolor_dict = {label: color for label, color in zip(basins, colors)}

axis_fontsize = 15
axis_tick_fontsize = 11
title_fontsize = 18
figure_title_fontsize = 20
label_fontsize = 13
legend_fontsize = 16
markersize = 9
y_label_fontsize = 15

gas_prod_color = 'red'
oil_prod_color = 'green'
drilled_color = 'k'

fig = plt.figure(figsize=(16, 17))
gs = gridspec.GridSpec(4, 4)
ax1 = plt.subplot(gs[0, 0:2])
ax2 = plt.subplot(gs[0,2:])
ax3 = plt.subplot(gs[1,0:2])
ax4 = plt.subplot(gs[1,2:])
ax5 = plt.subplot(gs[2,0:2])
ax6 = plt.subplot(gs[2,2:])
ax7 = plt.subplot(gs[3,2:4])
axes = [ax1,ax2,ax3,ax4,ax5,ax6,ax7]

for i, (ax, basin) in enumerate(zip(axes, basins)):

    df_DUCs_year.plot.bar(alpha=1, y=basin, ax=ax, legend=None, width=0.9, edgecolor='k', linewidth=0.1, label='DUC Count', color=barcolor_dict[basin])

    ax1 = ax.twinx()
    df_drilled_year.plot(y=basin, ax=ax1, linestyle='-', legend=None, marker='o', color=drilled_color, markersize=markersize, label='New Drilled Wells')

    ax2 = ax.twinx()
    df2_total_oil_prod_year.plot(y=basin, ax=ax2, linestyle='-', marker='o', color='green', markersize=markersize, label='Oil Prod Total', legend=None)
    ax2.set_ylim(0, 70)

    ax3 = ax.twinx()
    df2_total_gas_prod_year.plot(y=basin, ax=ax3, linestyle='-', marker='o', color='red', markersize=markersize, label='Gas Prod Total', legend=None)
    ax3.set_ylim(0, 500)

    ax.set_facecolor('#eeeeee')
    ax.set_axisbelow(True)
    ax.grid(axis='y')
    ax.set_xticklabels([str(dt).split('-')[0] for dt in df_DUCs_year.index])
    ax.tick_params(axis='x', labelrotation=45, labelsize=axis_tick_fontsize)
    ax.tick_params(axis='y', labelsize=axis_tick_fontsize)
    ax1.tick_params(axis='y', labelsize=axis_tick_fontsize)
    ax.set_title(basin, fontsize=title_fontsize)

    if i % 2 == 0 and i != 6:
        ax.set_ylabel('DUC Wells Count (k)', fontsize=axis_fontsize)
        ax2.set_yticks([])
        ax3.set_yticks([])        
    else:
        ax1.set_ylabel('Drilled Wells Count (k)', fontsize=axis_fontsize)

        ax2.tick_params(axis='y', colors='green')
        ax2.spines['right'].set_position(('outward', 50))
        ax2.spines['right'].set_color('green')
        ax2.set_ylabel('Total Oil Prod. (MMBBLD)', color='green', fontsize= axis_fontsize)

        ax3.tick_params(axis='y', colors='red')
        ax3.spines['right'].set_position(('outward', 100))
        ax3.spines['right'].set_color('red')
        ax3.set_ylabel('Total Gas Prod. (BCFD)', color='red', fontsize= axis_fontsize) 

    if i == 6:
        ax.set_ylabel('DUC Wells Count (k)', fontsize=axis_fontsize)
    #else:
        #ax1.set_yticks([])
        #ax2.set_yticks([])
        #ax3.set_yticks([])

    if i == 4 or i == 6:
        ax.set_xlabel('Spud Date', fontsize=y_label_fontsize)
    else:
        ax.set_xlabel('')

    if basin == 'Permian':
        pass
        ax.set_ylim(0, 5000)
        ax1.set_ylim(0, 15000)

    else:
        ax.set_ylim(0, 1400)
        ax1.set_ylim(0, 7000)

    ax.yaxis.set_major_formatter(ticker.EngFormatter())
    ax1.yaxis.set_major_formatter(ticker.EngFormatter())        

    ax.spines.top.set_visible(False)
    ax1.spines.top.set_visible(False)
    ax2.spines.top.set_visible(False)
    ax3.spines.top.set_visible(False)

    #ax.yaxis.get_major_ticks()[-1].gridline.set_visible(False)
    #ax1.yaxis.get_major_ticks()[-1].gridline.set_visible(False)

    h0, l0 = ax.get_legend_handles_labels()
    h1, l1 = ax1.get_legend_handles_labels()
    h2, l2 = ax2.get_legend_handles_labels()
    h3, l3 = ax3.get_legend_handles_labels()
    ax.legend(h0, l0, loc='upper left', ncol=2, fontsize=13, framealpha=0.5)

    fig.legend(h3 + h2 + h1, l3 + l2 + l1, loc='lower left', ncol=2,
               bbox_to_anchor=(0.046, 0.165), bbox_transform=fig.transFigure, fontsize=legend_fontsize)

    for c in ax.containers:
        ax.bar_label(c, label_type='center', color='white', weight='bold', fontsize=label_fontsize)

    ax.text(0.16, 0.80, 'aegis4048.github.io', fontsize=12, ha='center', va='center',
            transform=ax.transAxes, color='grey', alpha=0.5)        

fig.tight_layout()

def setbold(txt): 
    return ' '.join([r"$\bf{" + item + "}$" for item in txt.split(' ')])

y_pos = 0.998
fig.suptitle(setbold('DUC &amp; Newly Drilled Wells Count and Production')  + ",  Jan 2014 - June 2022", fontsize=19, x=0.328, y=1.025)
ax.annotate('', xy=(0.006, y_pos), xycoords='figure fraction', xytext=(1, y_pos), arrowprops=dict(arrowstyle="-", color='k', lw=1.3))
ax.annotate('Source: Pythonic Excursions, EIA', xy=(0.05, 0.145), xycoords='figure fraction', fontsize=16)

fig.set_facecolor("white")
            &lt;/code&gt;
        &lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;For the Enverus data, I synchronized the wells from the EIA database with the Drilling Info database by matching their states and counties. The &lt;i&gt;"RegionCounties"&lt;/i&gt; tab in the &lt;strong&gt;dpr-data.xlsx&lt;/strong&gt; shows how EIA decides which states and counties belong to which basins. If you have Driling Info subscription and would like to follow the steps I've taken, you can download this &lt;a href="https://aegis4048.github.io/downloads/notebooks/sample_data/Basins_Boundaries.txt" target="_blank"&gt;text file&lt;/a&gt; I created, and paste its state and county data into Drilling Info's &lt;i&gt;"Paste Filter Selections"&lt;/i&gt; as shown below. You will need to do this 7 times for each basins.&lt;/p&gt;
&lt;div class="row full_screen_margin_70 mobile_responsive_plot_full_width" id="fig-3" style="margin-top: 15px;"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/drilling_info_paste.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 3:&lt;/strong&gt; Pasting the Eagle Ford basin's state and county data into Drilling Info for query&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div id="Key takeaways"&gt;&lt;/div&gt;&lt;h2 id="1.-Key-takeaways"&gt;1. Key takeaways&lt;a class="anchor-link" href="#1.-Key-takeaways"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;div class="highlights" id="key1"&gt;
&lt;div class="highlights-title"&gt;1. DUCs are accumulated when drilling activity exceeds completion, and vice versa&lt;/div&gt;
&lt;/div&gt;&lt;div class="highlights" id="key2"&gt;
&lt;div class="highlights-title"&gt;2. DUCs are created due to the following reasons:&lt;/div&gt;
&lt;div class="highlights-content"&gt;(1) Cost efficiency with batch-fracking or batch-drilling (2) Drilling contracts that are too expensive to revoke (3) Constraitns on capital spending and (4) Lack of infrastructure.&lt;/div&gt;
&lt;/div&gt;&lt;div class="highlights" id="key3"&gt;
&lt;div class="highlights-title"&gt;3. DUC wells function as a working oilfield capital&lt;/div&gt;
&lt;div class="highlights-content"&gt;DUCs can quickly be turned on line for production for cheap because the cost of drilling has already been paid. Completing DUC wells is essentially a profit-taking process, so long as there are DUCs left to complete.&lt;/div&gt;
&lt;/div&gt;&lt;div class="highlights" id="key4"&gt;
&lt;div class="highlights-title"&gt;4. Depletion of DUC wells may cause energy shortage problems&lt;/div&gt;
&lt;div class="highlights-content"&gt;The recent COVID crash left operators with scarce capitals to spend. They chose to complete the existing DUC wells for profit instead of drilling new wells, which resulted in fast depletion of DUCs in the US. Prolonged profit-taking process from DUCs without new drilling may result in energy shortage problems when the operators run out of DUC wells to complete.&lt;/div&gt;
&lt;/div&gt;&lt;div class="highlights" id="key5"&gt;
&lt;div class="highlights-title"&gt;5. Modern day industry is producing more hydrocarbons with less drilling activities&lt;/div&gt;
&lt;div class="highlights-content"&gt;This is due to the fact horizontal wells produce 2.5 to 7 times more than verticals, and that modern day drilling is composed of 91% horizontals and 9% verticals.&lt;/div&gt;
&lt;/div&gt;&lt;div class="highlights" id="key6"&gt;
&lt;div class="highlights-title"&gt;6. Gap time between drilling and completion should not be a contributing factor to the birth of "Dead" DUCs&lt;/div&gt;
&lt;div class="highlights-content"&gt;The impact of gap time is not significant enough to render operators to shy away from completing their old DUCs. This is discussed in more detail in my next article.&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div id="How are DUC wells created?"&gt;&lt;/div&gt;&lt;h2 id="2.-How-are-DUC-wells-created?"&gt;2. How are DUC wells created?&lt;a class="anchor-link" href="#2.-How-are-DUC-wells-created?"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The formation of DUC wells in the oil and gas industry is caused by a variety of factors. The most straightforward reason is that they occur when operators drill more wells than they complete, and vice versa, whether by choice or not. If they drill more wells than they complete, DUC wells accumulate. If they complete more wells than they drill, DUC wells deplete. This trend can be observed in &lt;a class="internal-link" href="#fig-4"&gt;Figure 4&lt;/a&gt;, which showcases three distinct periods where the US DUC well counts in the seven DPR regions experienced rapid increases and decreases as a result of imbalanced drilling and completion activities.&lt;/p&gt;
&lt;div class="row full_screen_margin_90 mobile_responsive_plot_full_width" id="fig-4" style="margin-top: 15px;"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/US Major Basins Completion &amp; Drilling Activities and Commodities.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 4:&lt;/strong&gt; DUCs accumulate when drilling activity exceeds completion, and vice versa. The line plots depict three distinct periods of significant fluctuations in DUC well inventories, with [1] and [3] representing instances of rapid depletion due to high completion rates, and [2] reflecting a period of accumulation resulting from high drilling activities. WTI Crude oil prices is appended at the bottom to show the effect of commodity prices on DUCs.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="solution_panel closed"&gt;
&lt;div class="solution_title"&gt;
&lt;p class="solution_title_string"&gt;Source Code For Figure (4)&lt;/p&gt;
&lt;ul class="nav navbar-right panel_toolbox"&gt;
&lt;li&gt;&lt;a class="collapse-link"&gt;&lt;i class="fa fa-chevron-down"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="clearfix"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="solution_content"&gt;
&lt;pre&gt;
            &lt;code class="language-python"&gt;
import pandas as pd
import matplotlib.pyplot as plt
import numpy as np
import matplotlib.ticker as ticker

############################################# Basins ##############################################

basins = sorted(['Anadarko', 'Appalachia', 'Eagle Ford', 'Haynesville', 'Niobrara', 'Permian', 'Bakken'])

################################### DUC Wells Count per Basin #####################################

# compile a DataFrame to store count of DUC wells per basin
# source: EIA - https://www.eia.gov/petroleum/drilling/

dfs = []
for basin in basins:
    df_cur = pd.read_excel('https://aegis4048.github.io/downloads/notebooks/sample_data/Duc-EIA.xlsx', sheet_name=basin)
    df_cur['Basin'] = basin
    dfs.append(df_cur)

df = pd.concat(dfs)
df = df.sort_values('Date')
df.index = pd.to_datetime(df['Date'])

df_DUCs = df.groupby([pd.Grouper(freq='M'), 'Basin'])['DUC'].mean()
df_DUCs = df_DUCs.unstack().fillna(0)
df_DUCs = round(df_DUCs, 0)
df_DUCs['Total DUCs'] = df_DUCs.T.apply(lambda x: sum(x))

df_drilled = df.groupby([pd.Grouper(freq='M'), 'Basin'])['Drilled'].sum()
df_drilled = df_drilled.unstack().fillna(0)
df_drilled['Total Drilled'] = df_drilled.T.apply(lambda x: sum(x))

df_completed = df.groupby([pd.Grouper(freq='M'), 'Basin'])['Completed'].sum()
df_completed = df_completed.unstack().fillna(0)
df_completed['Total Completed'] = df_completed.T.apply(lambda x: sum(x))

############################################# Plot ##############################################

fig, ax = plt.subplots(figsize=(8, 4))

ax2 = ax.twinx()

ax.plot(df_drilled.index, df_drilled['Total Drilled'], color='k', label='Newly Drilled')
ax.plot(df_completed.index, df_completed['Total Completed'], label='Completed')
ax2.plot(df_DUCs.index, df_DUCs['Total DUCs'], color='purple', label='DUC')


ax.fill_between(df_drilled.index, df_drilled['Total Drilled'], df_completed['Total Completed'],
                where=(df_drilled.index &gt;= '2016-03-1') &amp; (df_drilled.index &lt;= '2017-1-1'), color='red', alpha=0.4)
ax.fill_between(df_drilled.index, df_drilled['Total Drilled'], df_completed['Total Completed'],
                where=(df_drilled.index &gt;= '2018-08-01') &amp; (df_drilled.index &lt;= '2019-3-1'), color='green', alpha=0.4)
ax.fill_between(df_drilled.index, df_drilled['Total Drilled'], df_completed['Total Completed'],
                where=(df_drilled.index &gt;= '2020-07-1') &amp; (df_drilled.index &lt;= '2022-8-1'), color='red', alpha=0.4)

ax.axvline(x=df_drilled.index[26], color='k', linestyle='--', linewidth=1, alpha=0.7)
ax.axvline(x=df_drilled.index[35], color='k', linestyle='--', linewidth=1, alpha=0.7)
ax.axvspan(df_drilled.index[26], df_drilled.index[35], facecolor='lightgrey', alpha=0.3)

ax.axvline(x=df_drilled.index[55], color='k', linestyle='--', linewidth=1, alpha=0.7)
ax.axvline(x=df_drilled.index[61], color='k', linestyle='--', linewidth=1, alpha=0.7)
ax.axvspan(df_drilled.index[55], df_drilled.index[61], facecolor='lightgrey', alpha=0.3)

ax.axvline(x=df_drilled.index[78], color='k', linestyle='--', linewidth=1, alpha=0.7)
ax.axvline(x=df_drilled.index[102], color='k', linestyle='--', linewidth=1, alpha=0.7)
ax.axvspan(df_drilled.index[78], df_drilled.index[102], facecolor='lightgrey', alpha=0.3)

ax.set_ylim(0, 2500)
ax2.set_ylim(0, 10000)

ax.grid(axis='y', alpha=0.5)
ax.yaxis.get_major_ticks()[5].gridline.set_visible(False)
ax.spines.top.set_visible(False)
ax2.spines.top.set_visible(False)

h1, l1 = ax.get_legend_handles_labels()
h2, l2 = ax2.get_legend_handles_labels()
ax.legend(h1 + h2, l1 + l2, fontsize=10, ncol=3, loc='upper left', framealpha=1)

ax.set_ylabel('Drilled &amp; Completed Wells', fontsize=11)
ax2.set_ylabel('DUC Wells', fontsize=11)

ax.arrow(df_drilled.index[71], 1500, 60, -270, head_width=40, head_length=60, fc='k', ec='k')
ax.text(0.58, 0.62, 'Covid Crash', fontsize=9, transform=ax.transAxes, color='k')

ax.text(0.295, 0.05, '[1]', fontsize=9, transform=ax.transAxes, color='k')
ax.text(0.53, 0.05, '[2]', fontsize=9, transform=ax.transAxes, color='k')
ax.text(0.805, 0.05, '[3]', fontsize=9, transform=ax.transAxes, color='k')

def setbold(txt):
    return ' '.join([r"$\bf{" + item + "}$" for item in txt.split(' ')])

ax.set_title(setbold('US Major Basins Completion &amp; Drilling Activities')  + ",  Jan 2014 - Dec 2022", fontsize=12, pad=10, x=0.4, y=1.06)
ax.annotate('', xy=(-0.11, 1.07), xycoords='axes fraction', xytext=(1.11, 1.07), arrowprops=dict(arrowstyle="-", color='k'))
ax.text(0.145, 0.1, 'aegis4048.github.io', fontsize=10, ha='center', va='center',
        transform=ax.transAxes, color='grey', alpha=0.5)

fig.set_facecolor("white")
fig.tight_layout()

############################################# Plot 2 ##############################################

df = pd.read_excel('https://aegis4048.github.io/downloads/notebooks/sample_data/EIA-commodity.xls', sheet_name='Data 1')
df = df.iloc[338:-1, :-1] # between Jan 2014 to Dec 2022
df.columns = ['date', 'value']
df.reset_index(inplace=True, drop=True)
df['date'] = df['date'].apply(lambda x: x.strftime('%Y-%m'))
df['date'] = pd.to_datetime(df['date'])

fig, ax = plt.subplots(figsize=(7, 1))

ax.plot(df['date'], df['value'], color='green')

ax.set_ylabel('oil ($)', fontsize=10)
ax.set_ylim(0, 120)
ax.set_yticks(np.linspace(0, 120, 4))
ax.tick_params(axis='both', which='major', labelsize=9)

ax.axvspan(df_drilled.index[26], df_drilled.index[35], facecolor='lightgrey', alpha=0.3)
ax.axvspan(df_drilled.index[55], df_drilled.index[61], facecolor='lightgrey', alpha=0.3)
ax.axvspan(df_drilled.index[78], df_drilled.index[103], facecolor='lightgrey', alpha=0.3)

ax.axvline(x=df_drilled.index[26], color='k', linestyle='--', linewidth=1, alpha=0.7)
ax.axvline(x=df_drilled.index[35], color='k', linestyle='--', linewidth=1, alpha=0.7)
ax.axvline(x=df_drilled.index[55], color='k', linestyle='--', linewidth=1, alpha=0.7)
ax.axvline(x=df_drilled.index[61], color='k', linestyle='--', linewidth=1, alpha=0.7)
ax.axvline(x=df_drilled.index[78], color='k', linestyle='--', linewidth=1, alpha=0.7)
ax.axvline(x=df_drilled.index[103], color='k', linestyle='--', linewidth=1, alpha=0.7)

ax.grid(axis='y', alpha=0.5)
ax.spines['right'].set_visible(False)
ax.spines['top'].set_visible(False)
ax.yaxis.get_major_ticks()[-1].gridline.set_visible(False)

ax.annotate('Source: Pythonic Excursions, EIA', xy=(-0.11, -.5), xycoords='axes fraction', fontsize=9)
            &lt;/code&gt;
        &lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Here I list more detailed reasons as to why operators may choose to not complete their well.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Cost efficiency with batch-fracking or batch-drilling&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;As an efficient operator, it is ideal to avoid engaging a fracturing fleet until all logistical requirements have been thoroughly understood and procured and a substantial number of wells have been collected for prolonged, uninterrupted operations. This can be achieved either by maintaining a consistent inventory of wells waiting to be completed or by alternating the company's focus in the region between drilling a series of wells and then completing them all. If there are 10 wells in one location and it takes 10 days to drill each well, the first drilled well will stay idle for at least 90 days before it can be completed. This lag can result in the formation of additional DUC wells in the event of an unforeseen circumstance that renders fracturing unfeasible or undesirable.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Drilling contracts that are too expensive to revoke&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Often times the drilling contracts between an operator and a service company entails drilling a batch of wells and expensive contract revokation fee. If the oil price suddenly drops while drilling the contracted batch of wells, the operator may choose not to complete the drilled wells while letting the rig crews keep drilling new wells due to the existing contract. This was the most apparent in the recent COVID crash, which took place around March of 2020. Taking a close look at &lt;a class="internal-link" href="#fig-4"&gt;Figure 4&lt;/a&gt; around March of 2020 (slightly to the left of [3]), one can observe that there higher drilling than completion activities, which temporarily boosted the number of DUCs until July of 2020 (start of [3]). This happened because there were rig contracts that were still in effect few months after the COVID crash. However, this phenomena did not last long once those contracts expired or have been fulfilled, thus rapidly depleting the number of DUCs until late 2022.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Constraints on capital spending&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The operator may choose not to finish their wells due to restrictions on the company's capital expenditures or adverse market circumstances, opting instead to wait for better economics. However, this approach may not always be advisable, as DUC wells older than two years have a low probability, less than 5%, of being completed due to issues such as lost leases.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Lack of infrastructure&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;An operator may leave a well uncompleted if there is no nearby pipeline to transport the produced gas after a pad site is cleared and a well is drilled. However, unexpected issues during pipeline construction may result in the well remaining as a DUC well for an extended period until resolved.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div id="DUC wells and Economic Complications"&gt;&lt;/div&gt;&lt;h2 id="3.-DUC-wells-and-economic-complications"&gt;3. DUC wells and economic complications&lt;a class="anchor-link" href="#3.-DUC-wells-and-economic-complications"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;DUC wells are a form of hydrocarbon storage under the ground instead of on the surface storage facilities. The operators invest on drilling first and take profits later when its desirable. This unique characteristics of DUCs create economic complications for the oil and gas industry due to the following reasons:&lt;/p&gt;
&lt;div&gt;&lt;hr/&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Timing:&lt;/strong&gt; DUC wells are partially completed sources of supply that can be brought to market more quickly and at a lower cost than a newly drilled well. However, completing DUC wells at the right time to balance the market demand for energy can be challenging.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p p="" style="display: inline"&gt;&lt;strong&gt;Market fluctuations:&lt;/strong&gt; DUC wells are often used to keep up with demand during times of high energy demand. However, during periods of declining oil prices, completing DUC wells may not be economically viable, leading to a buildup of uncompleted wells. This has been the most apparent between late 2018 to early 2019; WTI crude dropped from &lt;/p&gt;&lt;p style="display: inline"&gt;$&lt;/p&gt;86 to &lt;p style="display: inline"&gt;$&lt;/p&gt;&lt;p style="display: inline"&gt;54. This accumulation of DUCs due to oil price drop can be observed in &lt;a class="internal-link" href="#fig-4"&gt;Figure 4&lt;/a&gt;'s highlighted area [2].&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Rig contracts:&lt;/strong&gt; In times of declining oil prices, operators may continue to drill wells due to rig contracts, but not complete these wells and bring them into production. This can result in a buildup of DUC wells that may not be economically viable to complete in the future (due to reasons like lost leases).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Profit-taking:&lt;/strong&gt; Completing DUC wells is essentially a profit-taking process done on wells with substantial investment already made. However, if the timing of completion is not aligned with market demand or if capital is not available, the profit-taking process may not yield the expected results.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Capital management:&lt;/strong&gt; The inventory levels of DUC wells are closely linked to the availability of industry capital. When capital is abundant, producers tend to increase drilling relative to completions, leading to a rise in DUC inventory. On the other hand, when capital is scarce, producers prioritize well completion over new drilling, which can lead to a depletion of DUC wells.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div id="Potential depletion of DUC wells and enegy supply shortage"&gt;&lt;/div&gt;&lt;h3 id="3.1.-Potential-depletion-of-DUC-wells-and-enegy-supply-shortage"&gt;3.1. Potential depletion of DUC wells and enegy supply shortage&lt;a class="anchor-link" href="#3.1.-Potential-depletion-of-DUC-wells-and-enegy-supply-shortage"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;The COVID-19 pandemic resulted in a reduction of available capital for the oil and gas industry. To conserve cash, many operators prioritized well completion over new drilling, enabling them to maintain production with less capital. However, this strategy of profit-taking cannot be sustained in the long-term and resulted in a rapid decrease of DUC wells in the US, raising concerns about the potential depletion of DUCs and energy supply shortages.&lt;/p&gt;
&lt;p&gt;&lt;a class="internal-link" href="#fig-5"&gt;Figure 5&lt;/a&gt; demonstrates the swift depletion rate of DUCs since July 2020. If this rate continued, the US oil and gas industry would have exhausted its DUC wells by the end of 2023, potentially leading to an energy shortage. Fortunately, drilling activity caught up with completion activities by mid-2022, resulting in a stable level of DUC wells now.&lt;/p&gt;
&lt;div class="row full_screen_margin_90 mobile_responsive_plot_full_width" id="fig-5" style="margin-top: 15px;"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/Depletion of DUC wells and energy supply.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 5:&lt;/strong&gt; Rapid depletion of US DUC wells since July 2020. Prolonged depletion of DUC wells may result in potential shortage with energy supply if the operators don't drill more wells.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="solution_panel closed"&gt;
&lt;div class="solution_title"&gt;
&lt;p class="solution_title_string"&gt;Source Code For Figure (5)&lt;/p&gt;
&lt;ul class="nav navbar-right panel_toolbox"&gt;
&lt;li&gt;&lt;a class="collapse-link"&gt;&lt;i class="fa fa-chevron-down"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="clearfix"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="solution_content"&gt;
&lt;pre&gt;
            &lt;code class="language-python"&gt;
import pandas as pd
import matplotlib.pyplot as plt
import numpy as np
import matplotlib.ticker as ticker
from sklearn import linear_model
import datetime

############################################# Basins ##############################################

basins = sorted(['Anadarko', 'Appalachia', 'Eagle Ford', 'Haynesville', 'Niobrara', 'Permian', 'Bakken'])

################################### DUC Wells Count per Basin #####################################

# compile a DataFrame to store count of DUC wells per basin
# source: EIA - https://www.eia.gov/petroleum/drilling/

dfs = []
for basin in basins:
    df_cur = pd.read_excel('https://aegis4048.github.io/downloads/notebooks/sample_data/Duc-EIA-old.xlsx', sheet_name=basin)
    df_cur['Basin'] = basin
    dfs.append(df_cur)

df = pd.concat(dfs)
df = df.sort_values('Date')
df.index = pd.to_datetime(df['Date'])

df_DUCs = df.groupby([pd.Grouper(freq='M'), 'Basin'])['DUC'].mean()
df_DUCs = df_DUCs.unstack().fillna(0)
df_DUCs = round(df_DUCs, 0)
df_DUCs['Total DUCs'] = df_DUCs.T.apply(lambda x: sum(x))

df_drilled = df.groupby([pd.Grouper(freq='M'), 'Basin'])['Drilled'].sum()
df_drilled = df_drilled.unstack().fillna(0)
df_drilled['Total Drilled'] = df_drilled.T.apply(lambda x: sum(x))

df_completed = df.groupby([pd.Grouper(freq='M'), 'Basin'])['Completed'].sum()
df_completed = df_completed.unstack().fillna(0)
df_completed['Total Completed'] = df_completed.T.apply(lambda x: sum(x))

#################### Import All Data - Rig Count, Oil &amp; Gas Prod per Basins #######################

dfs2 = []
for basin in basins:
    df_cur = pd.read_excel('https://aegis4048.github.io/downloads/notebooks/sample_data/dpr-data-old.xlsx', sheet_name=basin + ' Region', skiprows=1)
    df_cur['Basin'] = basin
    dfs2.append(df_cur)

year_cutoff = '2013' # counting from year_cutoff + 1
date_header = 'Month'

df2 = pd.concat(dfs2)
df2 = df2.sort_values(date_header)
df2.index = pd.to_datetime(df2[date_header])
df2.drop(df2.columns[[2, 3, 5, 6]], axis=1, inplace=True)
df2.columns = ['Date', 'Rig Count', 'Total Oil Prod (BBLD)', 'Total Gas Prod (MCFD)', 'Basin']
df2 = df2[df2.index &gt; year_cutoff + '-12-31']

# current year (2022) prediction parameter
num_month_2022 = 6 # number of months in data set for current year
pred_factor = 12 / num_month_2022 

################################ Cross Table for Gas Production ###################################

# Total Gas Production
df2_total_gas_prod = df2.groupby([pd.Grouper(freq='M'), 'Basin'])['Total Gas Prod (MCFD)'].sum()
df2_total_gas_prod = df2_total_gas_prod.unstack().fillna(0)
df2_total_gas_prod['Total Gas (BCFD)'] = df2_total_gas_prod.T.apply(lambda x: sum(x))
df2_total_gas_prod = df2_total_gas_prod / 1000000

################################ Cross Table for Oil Production ###################################

df2_total_oil_prod = df2.groupby([pd.Grouper(freq='M'), 'Basin'])['Total Oil Prod (BBLD)'].sum()
df2_total_oil_prod = df2_total_oil_prod.unstack().fillna(0)
df2_total_oil_prod['Total Oil (MBBLD)'] = df2_total_oil_prod.T.apply(lambda x: sum(x))
df2_total_oil_prod = df2_total_oil_prod / 1000

############################################# Plot ##############################################

axis_label_fontsize = 12
title_fontsize = 13
legend_fontsize = 11

fig, axes = plt.subplots(2, 1, figsize=(9, 6.5))

ax1 = axes[0]
ax2 = axes[1]
ax3 = ax2.twinx()

n = 16

# extends the right-end of the x-axis
ext = 38
x_extender = df_DUCs.index.union(df_DUCs.index.shift(n + ext)[-(n + ext):])
x_extender_y = [1 for item in x_extender]

ax1.plot(x_extender, x_extender_y, alpha=0)
ax2.plot(x_extender, x_extender_y, alpha=0)

ax1.axvspan(x_extender[-ext-1], x_extender[-1], facecolor='lightgrey', alpha=0.5)
ax2.axvspan(x_extender[-ext-1], x_extender[-1], facecolor='lightgrey', alpha=0.5)

################################### DUC Wells Linear Regression ###################################

X_pred_plot = df_DUCs.index.union(df_DUCs.index.shift(n)[-n:])
X_pred = X_pred_plot.to_julian_date().values.reshape(-1, 1)

X = df_DUCs.index.to_julian_date().values.reshape(-1, 1)
y = df_DUCs['Total DUCs'].values

fit_begin = 79
fit_end = -3
plot_begin = 90

ols = linear_model.LinearRegression()
model = ols.fit(X[fit_begin: fit_end], y[fit_begin: fit_end])
response = model.predict(X_pred[plot_begin:])

ax1.plot(df_DUCs.index, df_DUCs['Total DUCs'], color='purple', label='DUC')
ax1.plot(X_pred_plot[plot_begin:], response, color='b', label='DUC Prediction', linestyle='--', linewidth=2)
ax1.vlines(x=df_DUCs.index[fit_begin - 1], ymin=0, ymax=max(y) - 100, color='purple', alpha=0.7, linestyle='--')
ax1.scatter(X_pred_plot[-1], 0, marker='o', color='b', label='point', clip_on=False, s=80)

############################# Oil and Gas Production Linear Regression ############################

n = n - 2
X_pred_plot = df2_total_oil_prod.index.union(df2_total_oil_prod.index.shift(n)[-n:])
X_pred = X_pred_plot.to_julian_date().values.reshape(-1, 1)

X = df2_total_oil_prod.index.to_julian_date().values.reshape(-1, 1)

y_oil = df2_total_oil_prod['Total Oil (MBBLD)'].values
y_gas = df2_total_gas_prod['Total Gas (BCFD)'].values

ols_oil = linear_model.LinearRegression()
ols_gas = linear_model.LinearRegression()
model_oil = ols_oil.fit(X, y_oil)
model_gas = ols_gas.fit(X, y_gas)
response_oil = model_oil.predict(X_pred)
response_gas = model_gas.predict(X_pred)

ax2.plot(X_pred_plot[plot_begin:], response_oil[plot_begin:], label='Oil Prediction', color='green', linestyle='--')
ax3.plot(X_pred_plot[plot_begin:], response_gas[plot_begin:], label='Gas Prediction', color='red', linestyle='--')

ax2.scatter(X_pred_plot[-1], response_oil[-1], marker='o', color='green', clip_on=False, s=80)
ax3.scatter(X_pred_plot[-1], response_gas[-1], marker='o', color='red', clip_on=False, s=80)

ax2.scatter(df2_total_oil_prod.index, df2_total_oil_prod['Total Oil (MBBLD)'], label='Oil', marker='o', color='green', s=10, alpha=0.3)
ax3.scatter(df2_total_gas_prod.index, df2_total_gas_prod['Total Gas (BCFD)'], label='Gas', marker='o', color='red', s=10, alpha=0.3)

ax1.set_ylim(0, 10000)
ax2.set_ylim(0, 15000)
ax3.set_ylim(0, 150)

ax1.set_ylabel('Drilled &amp; DUC Well Counts', fontsize=axis_label_fontsize)
ax2.set_ylabel('Total Oil Prod. (MBBLD)', fontsize=axis_label_fontsize) 
ax2.set_yticks(np.arange(0, 15001, 3000))
ax3.set_ylabel('Total Gas Prod. (BCFD)', fontsize=axis_label_fontsize) 
ax3.set_yticks(np.arange(0, 151, 30))

ax1.tick_params(axis='both', which='major', labelsize=11)
ax2.tick_params(axis='both', which='major', labelsize=11)

ax1.grid(axis='y', alpha=0.5)
ax1.yaxis.get_major_ticks()[5].gridline.set_visible(False)
ax2.grid(axis='y', alpha=0.5)
ax2.yaxis.get_major_ticks()[5].gridline.set_visible(False)

ax1.spines.top.set_visible(False)
ax1.spines.right.set_visible(False)
ax2.spines.top.set_visible(False)
ax3.spines.top.set_visible(False)

h1, l1 = ax1.get_legend_handles_labels()
ax1.legend(h1[:2], l1[:2], loc='upper left', fontsize=legend_fontsize)
h2, l2 = ax2.get_legend_handles_labels()
h3, l3 = ax3.get_legend_handles_labels()
ax2.legend(h2 + h3, l2 + l3, fontsize=legend_fontsize, ncol=2, loc='upper left')

ax1.yaxis.set_major_formatter(ticker.EngFormatter()) 
ax2.yaxis.set_major_formatter(ticker.EngFormatter())  
ax3.yaxis.set_major_formatter(ticker.EngFormatter())  

def setbold(txt): 
    return ' '.join([r"$\bf{" + item + "}$" for item in txt.split(' ')])

ax1.set_title(setbold('Depletion of DUC Wells and Energy Supply')  + ",  Jan 2014 - June 2022", 
             fontsize=title_fontsize, pad=10, x=0.335, y=1.06)
ax1.annotate('', xy=(-0.1, 1.07), xycoords='axes fraction', xytext=(1.07, 1.07), arrowprops=dict(arrowstyle="-", color='k'))
ax1.text(0.535, 0.4, 'July 2020', fontsize=10, ha='center', va='center', 
        transform=ax1.transAxes, color='purple', alpha=0.7, rotation=270)

ax2.annotate('Source: Pythonic Excursions, EIA', xy=(-0.11, -0.22), xycoords='axes fraction', fontsize=12)
ax1.text(0.145, 0.1, 'aegis4048.github.io', fontsize=10, ha='center', va='center', 
        transform=ax1.transAxes, color='grey', alpha=0.5)
ax2.text(0.145, 0.1, 'aegis4048.github.io', fontsize=10, ha='center', va='center', 
        transform=ax2.transAxes, color='grey', alpha=0.5)

ax1.text(0.765, 0.43, 'Depleted DUCs', fontsize=11, transform=ax1.transAxes, color='k')
ax2.text(0.75, 0.43, 'Potential Shortage', fontsize=11, transform=ax2.transAxes, color='k')
ax2.text(0.74, 0.33, 'with Energy Supply', fontsize=11, transform=ax2.transAxes, color='k')

fig.set_facecolor("white")
fig.tight_layout()
            &lt;/code&gt;
        &lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div id="Recent trend: more production with less drilling"&gt;&lt;/div&gt;&lt;h3 id="3.2.-Recent-trend:-more-production-with-less-drilling"&gt;3.2. Recent trend: more production with less drilling&lt;a class="anchor-link" href="#3.2.-Recent-trend:-more-production-with-less-drilling"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Some readers may recall President Biden's request for the US oil and gas industry to ramp up drilling in order to curb the recent surge in gasoline prices. The industry reportedly hesitated to comply due to &lt;a href="https://www.cbsnews.com/news/oil-production-prices-us-companies-wont-increase-2022-dallas-fed-survey/" target="_blank"&gt;pressure from Wall Street for immediate financial returns.&lt;/a&gt; However, this is not the sole reason for the industry's reluctance to return to their previous drilling levels from 2014. Advances in technology (specifically horizontal drilling) have enabled the industry to produce more oil and gas with fewer wells, meaning they no longer need to drill as many wells as in the past to meet production demands.&lt;/p&gt;
&lt;p&gt;&lt;a class="internal-link" href="#fig-6"&gt;Figure 6&lt;/a&gt; highlights three key points that demonstrate a clear trend. The decline in the number of drilling operations can be observed at [1], [2], and [3], while production steadily increases. A comparison to July 2018 [2] shows a 31% reduction in the number of newly drilled wells, but a 26% increase in oil production and a 35% increase in gas production. The contrast becomes even more striking when compared to September 2014 [1], where drilling activity decreased by 50% while production of both oil and gas nearly doubled.&lt;/p&gt;
&lt;div class="row" id="fig-6" style="margin-top: 15px;"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/US Major Basins Well Counts &amp; Production.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 6:&lt;/strong&gt; Recent trend in production and drilling activities and count of DUC wells. We've been producing more oil and gas with less drilling activities over time.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="solution_panel closed"&gt;
&lt;div class="solution_title"&gt;
&lt;p class="solution_title_string"&gt;Source Code For Figure (6)&lt;/p&gt;
&lt;ul class="nav navbar-right panel_toolbox"&gt;
&lt;li&gt;&lt;a class="collapse-link"&gt;&lt;i class="fa fa-chevron-down"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="clearfix"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="solution_content"&gt;
&lt;pre&gt;
            &lt;code class="language-python"&gt;
import pandas as pd
import matplotlib.pyplot as plt
import numpy as np
import matplotlib.ticker as ticker

############################################# Basins ##############################################

basins = sorted(['Anadarko', 'Appalachia', 'Eagle Ford', 'Haynesville', 'Niobrara', 'Permian', 'Bakken'])

################################### DUC Wells Count per Basin #####################################

# compile a DataFrame to store count of DUC wells per basin
# source: EIA - https://www.eia.gov/petroleum/drilling/

dfs = []
for basin in basins:
    df_cur = pd.read_excel('https://aegis4048.github.io/downloads/notebooks/sample_data/Duc-EIA.xlsx', sheet_name=basin)
    df_cur['Basin'] = basin
    dfs.append(df_cur)

df = pd.concat(dfs)
df = df.sort_values('Date')
df.index = pd.to_datetime(df['Date'])

df_DUCs = df.groupby([pd.Grouper(freq='M'), 'Basin'])['DUC'].mean()
df_DUCs = df_DUCs.unstack().fillna(0)
df_DUCs = round(df_DUCs, 0)
df_DUCs['Total DUCs'] = df_DUCs.T.apply(lambda x: sum(x))

df_drilled = df.groupby([pd.Grouper(freq='M'), 'Basin'])['Drilled'].sum()
df_drilled = df_drilled.unstack().fillna(0)
df_drilled['Total Drilled'] = df_drilled.T.apply(lambda x: sum(x))

df_completed = df.groupby([pd.Grouper(freq='M'), 'Basin'])['Completed'].sum()
df_completed = df_completed.unstack().fillna(0)
df_completed['Total Completed'] = df_completed.T.apply(lambda x: sum(x))

#################### Import All Data - Rig Count, Oil &amp; Gas Prod per Basins #######################

dfs2 = []
for basin in basins:
    df_cur = pd.read_excel('https://aegis4048.github.io/downloads/notebooks/sample_data/dpr-data.xlsx', sheet_name=basin + ' Region', skiprows=1)
    df_cur['Basin'] = basin
    dfs2.append(df_cur)

year_cutoff = '2013' # counting from year_cutoff + 1
date_header = 'Month'

df2 = pd.concat(dfs2)
df2 = df2.sort_values(date_header)
df2.index = pd.to_datetime(df2[date_header])
df2.drop(df2.columns[[2, 3, 5, 6]], axis=1, inplace=True)
df2.columns = ['Date', 'Rig Count', 'Total Oil Prod (BBLD)', 'Total Gas Prod (MCFD)', 'Basin']
df2 = df2[df2.index &gt; year_cutoff + '-12-31']

# current year (2022) prediction parameter
num_month_2022 = 6 # number of months in data set for current year
pred_factor = 12 / num_month_2022 

################################ Cross Table for Gas Production ###################################

# Total Gas Production
df2_total_gas_prod = df2.groupby([pd.Grouper(freq='M'), 'Basin'])['Total Gas Prod (MCFD)'].sum()
df2_total_gas_prod = df2_total_gas_prod.unstack().fillna(0)
df2_total_gas_prod['Total Gas (BCFD)'] = df2_total_gas_prod.T.apply(lambda x: sum(x))
df2_total_gas_prod = df2_total_gas_prod / 1000000

################################ Cross Table for Oil Production ###################################

df2_total_oil_prod = df2.groupby([pd.Grouper(freq='M'), 'Basin'])['Total Oil Prod (BBLD)'].sum()
df2_total_oil_prod = df2_total_oil_prod.unstack().fillna(0)
df2_total_oil_prod['Total Oil (MBBLD)'] = df2_total_oil_prod.T.apply(lambda x: sum(x))
df2_total_oil_prod = df2_total_oil_prod / 1000

############################################# Plot ##############################################

axis_label_fontsize = 13
title_fontsize = 13
legend_fontsize = 11

fig, ax = plt.subplots(figsize=(9, 4.5))

ax3 = ax.twinx()
ax4 = ax.twinx()

ax.plot(df_drilled.index, df_drilled['Total Drilled'], color='k', label='Drilled')
ax.plot(df_DUCs.index, df_DUCs['Total DUCs'], color='purple', label='DUC')
ax3.plot(df2_total_oil_prod.index, df2_total_oil_prod['Total Oil (MBBLD)'], label='Oil', color='green')
ax4.plot(df2_total_gas_prod.index, df2_total_gas_prod['Total Gas (BCFD)'], label='Gas', color='red')

ax.set_ylim(0, 10000)
ax3.set_ylim(0, 15000)
ax4.set_ylim(0, 150)

ax.set_ylabel('Drilled &amp; DUC Well Counts', fontsize=axis_label_fontsize)

ax3.tick_params(axis='y', colors='green')
#ax3.spines['right'].set_position(('outward', 50))
ax3.spines['right'].set_color('green')
ax3.set_ylabel('Total Oil Prod. (MBBLD)', color='green', fontsize=axis_label_fontsize) 
ax3.set_yticks(np.arange(0, 15001, 3000))

ax4.tick_params(axis='y', colors='red')
ax4.spines['right'].set_position(('outward', 50))
ax4.spines['right'].set_color('red')
ax4.set_ylabel('Total Gas Prod. (BCFD)', color='red', fontsize=axis_label_fontsize) 
ax4.set_yticks(np.arange(0, 151, 30))
ax.tick_params(axis='both', which='major', labelsize=11)

ax.grid(axis='y', alpha=0.5)
ax.yaxis.get_major_ticks()[5].gridline.set_visible(False)

ax.spines.top.set_visible(False)
ax3.spines.top.set_visible(False)
ax4.spines.top.set_visible(False)

h1, l1 = ax.get_legend_handles_labels()
h3, l3 = ax3.get_legend_handles_labels()
h4, l4 = ax4.get_legend_handles_labels()
ax.legend(h1 + h3 + h4, l1 + l3 + l4, fontsize=legend_fontsize, ncol=4, loc='upper left', framealpha=1)

ax.yaxis.set_major_formatter(ticker.EngFormatter()) 
ax3.yaxis.set_major_formatter(ticker.EngFormatter())  
ax4.yaxis.set_major_formatter(ticker.EngFormatter())  

def setbold(txt): 
    return ' '.join([r"$\bf{" + item + "}$" for item in txt.split(' ')])

ax.set_title(setbold('US Major Basins Well Counts &amp; Production')  + ",  Jan 2014 - June 2022", 
             fontsize=title_fontsize, pad=10, x=0.37, y=1.06)
ax.annotate('', xy=(-0.115, 1.07), xycoords='axes fraction', xytext=(1.2, 1.07), arrowprops=dict(arrowstyle="-", color='k'))
ax.annotate('Source: Pythonic Excursions, EIA', xy=(-0.11, -0.18), xycoords='axes fraction', fontsize=12)
ax.text(0.145, 0.7, 'aegis4048.github.io', fontsize=10, ha='center', va='center', 
        transform=ax.transAxes, color='grey', alpha=0.5)

ax.axvline(x=df_drilled.index[8], color='k', linestyle='--', linewidth=1, alpha=0.7)
ax.axvline(x=df_drilled.index[54], color='k', linestyle='--', linewidth=1, alpha=0.7)
ax.axvline(x=df_drilled.index[-1], color='k', linestyle='--', linewidth=1, alpha=0.7)

t1 = ax.text(0.1, 0.25, '[1]', fontsize=10, transform=ax.transAxes, color='k', )
t2 = ax.text(0.49, 0.25, '[2]', fontsize=10, transform=ax.transAxes, color='k')
t3 = ax.text(0.94, 0.25, '[3]', fontsize=10, transform=ax.transAxes, color='k')

t1.set_bbox(dict(facecolor='white', alpha=1, edgecolor='white', pad=1))
t2.set_bbox(dict(facecolor='white', alpha=1, edgecolor='white', pad=1))
t3.set_bbox(dict(facecolor='white', alpha=1, edgecolor='white', pad=1))

oil1 = str(int(df2_total_oil_prod['Total Oil (MBBLD)'][8])) + ' MBBLD'
gas1 = str(int(df2_total_gas_prod['Total Gas (BCFD)'][8])) + ' BCFD'
drill1 = str(int(df_drilled['Total Drilled'][8])) + ' drilled'
ax.text(df_drilled.index[8 + 4], 2500, oil1, fontsize=9, color='green', bbox=dict(facecolor='none', edgecolor='none'))
ax.text(df_drilled.index[8 + 4], 3000, gas1, fontsize=9, color='red', bbox=dict(facecolor='none', edgecolor='none'))
ax.text(df_drilled.index[8 + 4], 2000, drill1, fontsize=9, color='k', bbox=dict(facecolor='none', edgecolor='none'))


oil2 = str(int(df2_total_oil_prod['Total Oil (MBBLD)'][54])) + ' MBBLD'
gas2 = str(int(df2_total_gas_prod['Total Gas (BCFD)'][54])) + ' BCFD'
drill2 = str(int(df_drilled['Total Drilled'][54])) + ' drilled'
ax.text(df_drilled.index[54 + 4], 2500, oil2, fontsize=9, color='green', bbox=dict(facecolor='none', edgecolor='none'))
ax.text(df_drilled.index[54 + 4], 3000, gas2, fontsize=9, color='red', bbox=dict(facecolor='none', edgecolor='none'))
ax.text(df_drilled.index[54 + 4], 2000, drill2, fontsize=9, color='k', bbox=dict(facecolor='none', edgecolor='none'))

ha = 'right'
oil3 = str(int(df2_total_oil_prod['Total Oil (MBBLD)'][-1])) + ' MBBLD'
gas3 = str(int(df2_total_gas_prod['Total Gas (BCFD)'][-1])) + ' BCFD'
drill3 = str(int(df_drilled['Total Drilled'][-1])) + ' drilled'
ax.text(df_drilled.index[-1 - 4], 2500, oil3, fontsize=9, color='green', ha=ha, bbox=dict(facecolor='none', edgecolor='none'))
ax.text(df_drilled.index[-1 - 4], 3000, gas3, fontsize=9, color='red', ha=ha, bbox=dict(facecolor='none', edgecolor='none'))
ax.text(df_drilled.index[-1 - 4], 2000, drill3, fontsize=9, color='k', ha=ha, bbox=dict(facecolor='none', edgecolor='none'))

fig.set_facecolor("white")
fig.tight_layout()
            &lt;/code&gt;
        &lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;The improvement in production efficiency despite the reduction in drilling can be attributed to the increasing use of horizontal wells. As compared to vertical wells, horizontal wells produce 2.5 to 7 times more, allowing the industry to meet demand with fewer drilling operations. As illustrated in &lt;a class="internal-link" href="#fig-7"&gt;Figure 7&lt;/a&gt;, during economic downturns, the industry has favored horizontal wells by significantly reducing the number of vertical wells. It demonstrates a steady decrease in vertical wells, indicating that the majority of modern day drilling operations now consist of 91% horizontal wells and only 9% vertical wells.&lt;/p&gt;
&lt;div class="row full_screen_margin_90 mobile_responsive_plot_full_width" id="fig-7" style="margin-top: 15px;"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/Monthly Historical Drill Type Count 2004.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 7:&lt;/strong&gt; Historically the US oil and gas industry has turned into horizontal drilling during the times of economic crisis. Modern day drilling is mostly horizontal wells, which explains the higher production rates despite low drilling activities compared to 2014.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="solution_panel closed"&gt;
&lt;div class="solution_title"&gt;
&lt;p class="solution_title_string"&gt;Source Code For Figure (7)&lt;/p&gt;
&lt;ul class="nav navbar-right panel_toolbox"&gt;
&lt;li&gt;&lt;a class="collapse-link"&gt;&lt;i class="fa fa-chevron-down"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="clearfix"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="solution_content"&gt;
&lt;pre&gt;
            &lt;code class="language-python"&gt;
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
from matplotlib.colors import LinearSegmentedColormap
import matplotlib.ticker as ticker
import warnings

############################################# Basins ##############################################

basins = sorted(['Anadarko', 'Appalachia', 'Eagle Ford', 'Haynesville', 'Niobrara', 'Permian', 'Bakken'])

################################# Drilled Wells Count per Basin ###################################

# import multiple csv files of basins and compile them into yearly count sum
# source: DrillingInfo

filename = 'https://aegis4048.github.io/downloads/notebooks/sample_data/Drill_Type_2004.xlsx'

# suppress warnings
warnings.filterwarnings('ignore')
warnings.simplefilter('ignore')

dfs = []
for basin in basins:
    df = pd.read_excel(filename, sheet_name=basin)
    df = df[df['Spud Date'].notna()]
    df['Basin'] = basin
    df['Year'] = df['Spud Date'].apply(lambda x: str(x).split('-')[0])
    dfs.append(df)

df_drilltype = pd.concat(dfs)
df_drilltype = df_drilltype.sort_values('Spud Date')
df_drilltype.index = pd.to_datetime(df_drilltype['Spud Date'])

df_drilltype = df_drilltype.groupby(pd.Grouper(freq='M'))['Drill Type'].value_counts(sort=True)
df_drilltype = df_drilltype.unstack().fillna(0).drop(['D', 'U'], axis=1)

df_drilltype_percent = df_drilltype.apply(lambda x: round(x / x.sum() * 100, 2), axis=1)
df_drilltype_percent = round(df_drilltype_percent, 1)

############################################# Plot ##############################################

fig, ax = plt.subplots(figsize=(8, 4))

x = df_drilltype.index
y = np.array([df_drilltype['H'].values, df_drilltype['V'].values])

ax.stackplot(x, *y, labels=['Horizontal', 'Vertical'], colors=['lightgrey', 'grey'])
ax.set_ylabel('Drilled Wells', fontsize=13)
ax.axvline(x=df_drilltype.index[-93], color='k', linestyle='--')
ax.axvline(x=df_drilltype.index[-28], color='k', linestyle='--')
ax.axvline(x=df_drilltype.index[-166], color='k', linestyle='--')

ax.grid(axis='y', alpha=0.5)
ax.yaxis.get_major_ticks()[6].gridline.set_visible(False)
ax.spines.top.set_visible(False)
ax.spines.right.set_visible(False)

ax.legend(fontsize=11, ncol=3, loc='upper right')
ax.tick_params(axis='both', which='major', labelsize=11)

def setbold(txt):
    return ' '.join([r"$\bf{" + item + "}$" for item in txt.split(' ')])

ax.set_title(setbold('Newly Drilled Wells Horizontal vs. Vertical Counts Trend')  + ",  Jan 2004 - June 2022", fontsize=12, pad=10, x=0.41, y=1.06)
ax.annotate('', xy=(-0.11, 1.07), xycoords='axes fraction', xytext=(1.02, 1.07), arrowprops=dict(arrowstyle="-", color='k'))
ax.annotate('Data Source: Pythonic Excursions, DrillingInfo', xy=(-0.11, -0.18), xycoords='axes fraction', fontsize=12)
ax.text(0.16, 0.23, 'aegis4048.github.io', fontsize=10, ha='center', va='center',
        transform=ax.transAxes, color='white', alpha=0.5)
ax.text(0.705, 0.63, '2014 Oil Price Crash', fontsize=11, ha='center', va='center',
        transform=ax.transAxes, color='k')
ax.text(0.91, 0.55, 'Covid-19', fontsize=11, ha='center', va='center',
        transform=ax.transAxes, color='k')
ax.text(0.375, 0.75, '2008 Recession', fontsize=11, ha='center', va='center',
        transform=ax.transAxes, color='k')

fig.set_facecolor("white")
fig.tight_layout()


#################################################################################################

fig, ax = plt.subplots(figsize=(8, 4))

ax.plot(df_drilltype_percent.index, df_drilltype_percent['H'], color='grey', label='Horizontal')
ax.plot(df_drilltype_percent.index, df_drilltype_percent['V'], color='k', label='Vertical')
ax.set_ylabel('Percent of Total', fontsize=13)
ax.tick_params(axis='both', which='major', labelsize=11)
ax.set_yticks(np.arange(0, 101, 10))

ax.grid(axis='y', alpha=0.5)
ax.yaxis.get_major_ticks()[10].gridline.set_visible(False)
ax.spines.top.set_visible(False)
ax.spines.right.set_visible(False)

ax.legend(fontsize=11, loc='center left')

def setbold(txt):
    return ' '.join([r"$\bf{" + item + "}$" for item in txt.split(' ')])

ax.set_title(setbold('Newly Drilled Wells Horizontal vs. Vertical Ratio Trend')  + ",  Jan 2004 - June 2022", fontsize=12, pad=10, x=0.41, y=1.06)
ax.annotate('', xy=(-0.11, 1.07), xycoords='axes fraction', xytext=(1.02, 1.07), arrowprops=dict(arrowstyle="-", color='k'))
ax.annotate('Data Source: Pythonic Excursions, DrillingInfo', xy=(-0.11, -0.18), xycoords='axes fraction', fontsize=12)
ax.text(0.16, 0.23, 'aegis4048.github.io', fontsize=10, ha='center', va='center',
        transform=ax.transAxes, color='grey', alpha=0.5)
ax.text(0.8, 0.43, '91% Horizontal', fontsize=12, ha='left', va='center',
        transform=ax.transAxes, color='k')
ax.text(0.8, 0.34, '9% Vertical', fontsize=12, ha='left', va='center',
        transform=ax.transAxes, color='k')
ax.text(0.8, 0.53, 'June 2022:', fontsize=12, ha='left', va='center',
        transform=ax.transAxes, color='k')

fig.set_facecolor("white")
fig.tight_layout()
            &lt;/code&gt;
        &lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div id="Continued discussion: Dead DUC wells"&gt;&lt;/div&gt;&lt;h2 id='4.-Continued-discussion:-"Dead"-DUC-wells'&gt;4. Continued discussion: "Dead" DUC wells&lt;a class="anchor-link" href='#4.-Continued-discussion:-"Dead"-DUC-wells'&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;DUC wells are considered to be a working oil field capital because the wells can be turned on line for production for cheap. However, the empirical evidences suggests that the DUC wells may no longer function as a working capital if completion is delayed for too long. The empirical evidence presented in &lt;a class="internal-link" href="#fig-8"&gt;Figure 8&lt;/a&gt; reveals that 95% of the wells in Anadarko are completed within 309 days afterd drilled, and Appalachia wells within 956 days. Failing to complete within this time frame may give birth to "dead" DUCs - wells that will never be completed. The expensive drilling cost the operator paid would be wasted.&lt;/p&gt;
&lt;p&gt;Two main causes for the birth of dead DUCs include costs associated with extending oil and gas lease and degrading economics with increasing DUC time due to reservoir depletion. In another study conducted in my next article, I demonstrate and quantify the impact of delay in completion since drilled on production by normalizing EURs with lateral length and completion size.&lt;/p&gt;
&lt;p&gt;Check out my next article &lt;a href="https://aegis4048.github.io/quantifying_the_impact_of_completion_delay_since_drilled_on_production" target="_blank"&gt;Quantifying The Impact Of Completion Delay Since Drilled On Production&lt;/a&gt; for more information.&lt;/p&gt;
&lt;div class="row" id="fig-8" style="margin-top: 15px;"&gt;
&lt;div class="col"&gt;&lt;img src="jupyter_images/Time Limit Until Completion.png"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="col-12 fig-title"&gt;&lt;p class="image-description"&gt;&lt;strong&gt;Figure 8:&lt;/strong&gt; 95% Box plot of gap time between drilling and completion. The plot shows the time limit until completion for each basin. Each dot (very small, 99.5% transparency) represent one well of a basin. Upper whisker and the numeric annotation above it represent 95% upper limit. This means that wells with DUC time longer than the annotated number have less then 95% chance of ever being completed. Box plot for "All Regions" represent weighted average of all basins.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="oil-and-gas"></category><category term="oil"></category><category term="gas"></category><category term="DUC"></category><category term="drilling"></category><category term="horizontals"></category><category term="verticals"></category><category term="completion"></category><category term="production"></category><category term="recent-trend"></category><category term="energy-shortage"></category><category term="EIA"></category><category term="DrillingInfo"></category><category term="Enverus"></category><category term="DPR"></category></entry></feed>